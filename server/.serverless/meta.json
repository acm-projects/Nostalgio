{
  "/Users/andresgarcia/Desktop/ACM_Projects/Nostalgio/server": {
    "versionSfCore": null,
    "versionFramework": "4.4.3",
    "isWithinCompose": false,
    "isCompose": false,
    "composeOrgName": null,
    "composeResolverProviders": {
      "default-aws-credential-resolver": "<REDACTED>",
      "env": {
        "instance": {
          "credentials": "<REDACTED>",
          "serviceConfigFile": {
            "org": "andresgrc",
            "app": "nostalgio-backend",
            "service": "nostalgio-backend",
            "provider": {
              "name": "aws",
              "runtime": "nodejs18.x",
              "region": "us-east-1",
              "environment": {
                "COGNITO_USER_POOL_ID": "us-east-1_lqzsgfHQr",
                "COGNITO_CLIENT_ID": "12pcqimdf7f5qdk3h3uhv5nhtc",
                "COGNITO_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                "SPOTIFY_CLIENT_ID": "c7806fa71cc749499f5c7517aa908f39",
                "SPOTIFY_CLIENT_SECRET": "<REDACTED>",
                "SPOTIFY_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                "USERS_TABLE": "Users",
                "MEMORIES_TABLE": "Memories",
                "AUTH_SESSION_TABLE": "AuthSessionData"
              },
              "iamRoleStatements": [
                {
                  "Effect": "Allow",
                  "Action": [
                    "cognito-idp:AdminCreateUser",
                    "cognito-idp:AdminUpdateUserAttributes",
                    "cognito-idp:AdminInitiateAuth",
                    "cognito-idp:AdminRespondToAuthChallenge",
                    "cognito-idp:ListUsers",
                    "cognito-idp:AdminGetUser",
                    "cognito-idp:AdminDeleteUser"
                  ],
                  "Resource": "arn:aws:cognito-idp:us-east-1:*:userpool/us-east-1_lqzsgfHQr"
                },
                {
                  "Effect": "Allow",
                  "Action": [
                    "lambda:InvokeFunction"
                  ],
                  "Resource": "*"
                },
                {
                  "Effect": "Allow",
                  "Action": [
                    "dynamodb:Query",
                    "dynamodb:PutItem",
                    "dynamodb:GetItem",
                    "dynamodb:UpdateItem",
                    "dynamodb:DeleteItem",
                    "dynamodb:DescribeStream",
                    "dynamodb:GetRecords",
                    "dynamodb:GetShardIterator"
                  ],
                  "Resource": [
                    {
                      "Fn::GetAtt": [
                        "UsersTable",
                        "Arn"
                      ]
                    },
                    {
                      "Fn::GetAtt": [
                        "UsersTable",
                        "StreamArn"
                      ]
                    },
                    {
                      "Fn::GetAtt": [
                        "MemoriesTable",
                        "Arn"
                      ]
                    },
                    {
                      "Fn::GetAtt": [
                        "MemoriesTable",
                        "StreamArn"
                      ]
                    },
                    {
                      "Fn::GetAtt": [
                        "AuthSessionData",
                        "Arn"
                      ]
                    },
                    "arn:aws:dynamodb:us-east-1:*:table/Users/index/SpotifyUserIdIndex"
                  ]
                },
                {
                  "Effect": "Allow",
                  "Action": [
                    "logs:CreateLogGroup",
                    "logs:CreateLogStream",
                    "logs:PutLogEvents"
                  ],
                  "Resource": "*"
                }
              ],
              "stage": "dev",
              "versionFunctions": true,
              "compiledCloudFormationTemplate": {
                "AWSTemplateFormatVersion": "2010-09-09",
                "Description": "The AWS CloudFormation template for this Serverless application",
                "Resources": {
                  "SpotifyAuthLogGroup": {
                    "Type": "AWS::Logs::LogGroup",
                    "Properties": {
                      "LogGroupName": "/aws/lambda/nostalgio-backend-dev-spotifyAuth"
                    }
                  },
                  "SpotifyCallbackLogGroup": {
                    "Type": "AWS::Logs::LogGroup",
                    "Properties": {
                      "LogGroupName": "/aws/lambda/nostalgio-backend-dev-spotifyCallback"
                    }
                  },
                  "ExchangeSpotifyTokenLogGroup": "<REDACTED>",
                  "RefreshSpotifyTokenLogGroup": "<REDACTED>",
                  "ValidateSpotifyTokenLogGroup": "<REDACTED>",
                  "CreateUserLogGroup": {
                    "Type": "AWS::Logs::LogGroup",
                    "Properties": {
                      "LogGroupName": "/aws/lambda/nostalgio-backend-dev-createUser"
                    }
                  },
                  "GetUserLogGroup": {
                    "Type": "AWS::Logs::LogGroup",
                    "Properties": {
                      "LogGroupName": "/aws/lambda/nostalgio-backend-dev-getUser"
                    }
                  },
                  "UpdateUserLogGroup": {
                    "Type": "AWS::Logs::LogGroup",
                    "Properties": {
                      "LogGroupName": "/aws/lambda/nostalgio-backend-dev-updateUser"
                    }
                  },
                  "DeleteUserLogGroup": {
                    "Type": "AWS::Logs::LogGroup",
                    "Properties": {
                      "LogGroupName": "/aws/lambda/nostalgio-backend-dev-deleteUser"
                    }
                  },
                  "CreateMemoryLogGroup": {
                    "Type": "AWS::Logs::LogGroup",
                    "Properties": {
                      "LogGroupName": "/aws/lambda/nostalgio-backend-dev-createMemory"
                    }
                  },
                  "GetMemoryLogGroup": {
                    "Type": "AWS::Logs::LogGroup",
                    "Properties": {
                      "LogGroupName": "/aws/lambda/nostalgio-backend-dev-getMemory"
                    }
                  },
                  "UpdateMemoryLogGroup": {
                    "Type": "AWS::Logs::LogGroup",
                    "Properties": {
                      "LogGroupName": "/aws/lambda/nostalgio-backend-dev-updateMemory"
                    }
                  },
                  "DeleteMemoryLogGroup": {
                    "Type": "AWS::Logs::LogGroup",
                    "Properties": {
                      "LogGroupName": "/aws/lambda/nostalgio-backend-dev-deleteMemory"
                    }
                  },
                  "ListMemoriesLogGroup": {
                    "Type": "AWS::Logs::LogGroup",
                    "Properties": {
                      "LogGroupName": "/aws/lambda/nostalgio-backend-dev-listMemories"
                    }
                  },
                  "StreamMemoryUpdatesLogGroup": {
                    "Type": "AWS::Logs::LogGroup",
                    "Properties": {
                      "LogGroupName": "/aws/lambda/nostalgio-backend-dev-streamMemoryUpdates"
                    }
                  },
                  "GetTopTracksLogGroup": {
                    "Type": "AWS::Logs::LogGroup",
                    "Properties": {
                      "LogGroupName": "/aws/lambda/nostalgio-backend-dev-getTopTracks"
                    }
                  },
                  "IamRoleLambdaExecution": {
                    "Type": "AWS::IAM::Role",
                    "Properties": {
                      "AssumeRolePolicyDocument": {
                        "Version": "2012-10-17",
                        "Statement": [
                          {
                            "Effect": "Allow",
                            "Principal": {
                              "Service": [
                                "lambda.amazonaws.com"
                              ]
                            },
                            "Action": [
                              "sts:AssumeRole"
                            ]
                          }
                        ]
                      },
                      "Policies": [
                        {
                          "PolicyName": {
                            "Fn::Join": [
                              "-",
                              [
                                "nostalgio-backend",
                                "dev",
                                "lambda"
                              ]
                            ]
                          },
                          "PolicyDocument": {
                            "Version": "2012-10-17",
                            "Statement": [
                              {
                                "Effect": "Allow",
                                "Action": [
                                  "logs:CreateLogStream",
                                  "logs:CreateLogGroup",
                                  "logs:TagResource"
                                ],
                                "Resource": [
                                  {
                                    "Fn::Sub": "arn:${AWS::Partition}:logs:${AWS::Region}:${AWS::AccountId}:log-group:/aws/lambda/nostalgio-backend-dev*:*"
                                  }
                                ]
                              },
                              {
                                "Effect": "Allow",
                                "Action": [
                                  "logs:PutLogEvents"
                                ],
                                "Resource": [
                                  {
                                    "Fn::Sub": "arn:${AWS::Partition}:logs:${AWS::Region}:${AWS::AccountId}:log-group:/aws/lambda/nostalgio-backend-dev*:*:*"
                                  }
                                ]
                              },
                              {
                                "Effect": "Allow",
                                "Action": [
                                  "cognito-idp:AdminCreateUser",
                                  "cognito-idp:AdminUpdateUserAttributes",
                                  "cognito-idp:AdminInitiateAuth",
                                  "cognito-idp:AdminRespondToAuthChallenge",
                                  "cognito-idp:ListUsers",
                                  "cognito-idp:AdminGetUser",
                                  "cognito-idp:AdminDeleteUser"
                                ],
                                "Resource": "arn:aws:cognito-idp:us-east-1:*:userpool/us-east-1_lqzsgfHQr"
                              },
                              {
                                "Effect": "Allow",
                                "Action": [
                                  "lambda:InvokeFunction"
                                ],
                                "Resource": "*"
                              },
                              {
                                "Effect": "Allow",
                                "Action": [
                                  "dynamodb:Query",
                                  "dynamodb:PutItem",
                                  "dynamodb:GetItem",
                                  "dynamodb:UpdateItem",
                                  "dynamodb:DeleteItem",
                                  "dynamodb:DescribeStream",
                                  "dynamodb:GetRecords",
                                  "dynamodb:GetShardIterator"
                                ],
                                "Resource": [
                                  {
                                    "Fn::GetAtt": [
                                      "UsersTable",
                                      "Arn"
                                    ]
                                  },
                                  {
                                    "Fn::GetAtt": [
                                      "UsersTable",
                                      "StreamArn"
                                    ]
                                  },
                                  {
                                    "Fn::GetAtt": [
                                      "MemoriesTable",
                                      "Arn"
                                    ]
                                  },
                                  {
                                    "Fn::GetAtt": [
                                      "MemoriesTable",
                                      "StreamArn"
                                    ]
                                  },
                                  {
                                    "Fn::GetAtt": [
                                      "AuthSessionData",
                                      "Arn"
                                    ]
                                  },
                                  "arn:aws:dynamodb:us-east-1:*:table/Users/index/SpotifyUserIdIndex"
                                ]
                              },
                              {
                                "Effect": "Allow",
                                "Action": [
                                  "logs:CreateLogGroup",
                                  "logs:CreateLogStream",
                                  "logs:PutLogEvents"
                                ],
                                "Resource": "*"
                              },
                              {
                                "Effect": "Allow",
                                "Action": [
                                  "dynamodb:GetRecords",
                                  "dynamodb:GetShardIterator",
                                  "dynamodb:DescribeStream",
                                  "dynamodb:ListStreams"
                                ],
                                "Resource": [
                                  {
                                    "Fn::GetAtt": [
                                      "MemoriesTable",
                                      "StreamArn"
                                    ]
                                  }
                                ]
                              }
                            ]
                          }
                        }
                      ],
                      "Path": "/",
                      "RoleName": {
                        "Fn::Join": [
                          "-",
                          [
                            "nostalgio-backend",
                            "dev",
                            {
                              "Ref": "AWS::Region"
                            },
                            "lambdaRole"
                          ]
                        ]
                      }
                    }
                  },
                  "SpotifyAuthLambdaFunction": {
                    "Type": "AWS::Lambda::Function",
                    "Properties": {
                      "Code": {
                        "S3Bucket": "serverless-framework-deployments-us-east-1-55cebd6e-28d6",
                        "S3Key": "serverless/nostalgio-backend/dev/1727560476305-2024-09-28T21:54:36.305Z/spotifyAuth.zip"
                      },
                      "Handler": "src/auth/spotify/spotifyAuthHandler.spotifyAuthHandler",
                      "Runtime": "nodejs18.x",
                      "FunctionName": "nostalgio-backend-dev-spotifyAuth",
                      "MemorySize": 1024,
                      "Timeout": 6,
                      "Environment": {
                        "Variables": {
                          "COGNITO_USER_POOL_ID": "us-east-1_lqzsgfHQr",
                          "COGNITO_CLIENT_ID": "12pcqimdf7f5qdk3h3uhv5nhtc",
                          "COGNITO_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                          "SPOTIFY_CLIENT_ID": "c7806fa71cc749499f5c7517aa908f39",
                          "SPOTIFY_CLIENT_SECRET": "<REDACTED>",
                          "SPOTIFY_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                          "USERS_TABLE": "Users",
                          "MEMORIES_TABLE": "Memories",
                          "AUTH_SESSION_TABLE": "AuthSessionData"
                        }
                      },
                      "Role": {
                        "Fn::GetAtt": [
                          "IamRoleLambdaExecution",
                          "Arn"
                        ]
                      }
                    },
                    "DependsOn": [
                      "SpotifyAuthLogGroup"
                    ]
                  },
                  "SpotifyCallbackLambdaFunction": {
                    "Type": "AWS::Lambda::Function",
                    "Properties": {
                      "Code": {
                        "S3Bucket": "serverless-framework-deployments-us-east-1-55cebd6e-28d6",
                        "S3Key": "serverless/nostalgio-backend/dev/1727560476305-2024-09-28T21:54:36.305Z/spotifyCallback.zip"
                      },
                      "Handler": "src/auth/spotify/spotifyCallbackHandler.spotifyCallbackHandler",
                      "Runtime": "nodejs18.x",
                      "FunctionName": "nostalgio-backend-dev-spotifyCallback",
                      "MemorySize": 1024,
                      "Timeout": 6,
                      "Environment": {
                        "Variables": {
                          "COGNITO_USER_POOL_ID": "us-east-1_lqzsgfHQr",
                          "COGNITO_CLIENT_ID": "12pcqimdf7f5qdk3h3uhv5nhtc",
                          "COGNITO_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                          "SPOTIFY_CLIENT_ID": "c7806fa71cc749499f5c7517aa908f39",
                          "SPOTIFY_CLIENT_SECRET": "<REDACTED>",
                          "SPOTIFY_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                          "USERS_TABLE": "Users",
                          "MEMORIES_TABLE": "Memories",
                          "AUTH_SESSION_TABLE": "AuthSessionData"
                        }
                      },
                      "Role": {
                        "Fn::GetAtt": [
                          "IamRoleLambdaExecution",
                          "Arn"
                        ]
                      }
                    },
                    "DependsOn": [
                      "SpotifyCallbackLogGroup"
                    ]
                  },
                  "ExchangeSpotifyTokenLambdaFunction": "<REDACTED>",
                  "RefreshSpotifyTokenLambdaFunction": "<REDACTED>",
                  "ValidateSpotifyTokenLambdaFunction": "<REDACTED>",
                  "CreateUserLambdaFunction": {
                    "Type": "AWS::Lambda::Function",
                    "Properties": {
                      "Code": {
                        "S3Bucket": "serverless-framework-deployments-us-east-1-55cebd6e-28d6",
                        "S3Key": "serverless/nostalgio-backend/dev/1727560476305-2024-09-28T21:54:36.305Z/createUser.zip"
                      },
                      "Handler": "src/users/handlers/createUser.createUserHandler",
                      "Runtime": "nodejs18.x",
                      "FunctionName": "nostalgio-backend-dev-createUser",
                      "MemorySize": 1024,
                      "Timeout": 6,
                      "Environment": {
                        "Variables": {
                          "COGNITO_USER_POOL_ID": "us-east-1_lqzsgfHQr",
                          "COGNITO_CLIENT_ID": "12pcqimdf7f5qdk3h3uhv5nhtc",
                          "COGNITO_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                          "SPOTIFY_CLIENT_ID": "c7806fa71cc749499f5c7517aa908f39",
                          "SPOTIFY_CLIENT_SECRET": "<REDACTED>",
                          "SPOTIFY_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                          "USERS_TABLE": "Users",
                          "MEMORIES_TABLE": "Memories",
                          "AUTH_SESSION_TABLE": "AuthSessionData"
                        }
                      },
                      "Role": {
                        "Fn::GetAtt": [
                          "IamRoleLambdaExecution",
                          "Arn"
                        ]
                      }
                    },
                    "DependsOn": [
                      "CreateUserLogGroup"
                    ]
                  },
                  "GetUserLambdaFunction": {
                    "Type": "AWS::Lambda::Function",
                    "Properties": {
                      "Code": {
                        "S3Bucket": "serverless-framework-deployments-us-east-1-55cebd6e-28d6",
                        "S3Key": "serverless/nostalgio-backend/dev/1727560476305-2024-09-28T21:54:36.305Z/getUser.zip"
                      },
                      "Handler": "src/users/handlers/getUser.getUserHandler",
                      "Runtime": "nodejs18.x",
                      "FunctionName": "nostalgio-backend-dev-getUser",
                      "MemorySize": 1024,
                      "Timeout": 6,
                      "Environment": {
                        "Variables": {
                          "COGNITO_USER_POOL_ID": "us-east-1_lqzsgfHQr",
                          "COGNITO_CLIENT_ID": "12pcqimdf7f5qdk3h3uhv5nhtc",
                          "COGNITO_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                          "SPOTIFY_CLIENT_ID": "c7806fa71cc749499f5c7517aa908f39",
                          "SPOTIFY_CLIENT_SECRET": "<REDACTED>",
                          "SPOTIFY_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                          "USERS_TABLE": "Users",
                          "MEMORIES_TABLE": "Memories",
                          "AUTH_SESSION_TABLE": "AuthSessionData"
                        }
                      },
                      "Role": {
                        "Fn::GetAtt": [
                          "IamRoleLambdaExecution",
                          "Arn"
                        ]
                      }
                    },
                    "DependsOn": [
                      "GetUserLogGroup"
                    ]
                  },
                  "UpdateUserLambdaFunction": {
                    "Type": "AWS::Lambda::Function",
                    "Properties": {
                      "Code": {
                        "S3Bucket": "serverless-framework-deployments-us-east-1-55cebd6e-28d6",
                        "S3Key": "serverless/nostalgio-backend/dev/1727560476305-2024-09-28T21:54:36.305Z/updateUser.zip"
                      },
                      "Handler": "src/users/handlers/updateUser.updateUserHandler",
                      "Runtime": "nodejs18.x",
                      "FunctionName": "nostalgio-backend-dev-updateUser",
                      "MemorySize": 1024,
                      "Timeout": 6,
                      "Environment": {
                        "Variables": {
                          "COGNITO_USER_POOL_ID": "us-east-1_lqzsgfHQr",
                          "COGNITO_CLIENT_ID": "12pcqimdf7f5qdk3h3uhv5nhtc",
                          "COGNITO_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                          "SPOTIFY_CLIENT_ID": "c7806fa71cc749499f5c7517aa908f39",
                          "SPOTIFY_CLIENT_SECRET": "<REDACTED>",
                          "SPOTIFY_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                          "USERS_TABLE": "Users",
                          "MEMORIES_TABLE": "Memories",
                          "AUTH_SESSION_TABLE": "AuthSessionData"
                        }
                      },
                      "Role": {
                        "Fn::GetAtt": [
                          "IamRoleLambdaExecution",
                          "Arn"
                        ]
                      }
                    },
                    "DependsOn": [
                      "UpdateUserLogGroup"
                    ]
                  },
                  "DeleteUserLambdaFunction": {
                    "Type": "AWS::Lambda::Function",
                    "Properties": {
                      "Code": {
                        "S3Bucket": "serverless-framework-deployments-us-east-1-55cebd6e-28d6",
                        "S3Key": "serverless/nostalgio-backend/dev/1727560476305-2024-09-28T21:54:36.305Z/deleteUser.zip"
                      },
                      "Handler": "src/users/handlers/deleteUser.deleteUserHandler",
                      "Runtime": "nodejs18.x",
                      "FunctionName": "nostalgio-backend-dev-deleteUser",
                      "MemorySize": 1024,
                      "Timeout": 6,
                      "Environment": {
                        "Variables": {
                          "COGNITO_USER_POOL_ID": "us-east-1_lqzsgfHQr",
                          "COGNITO_CLIENT_ID": "12pcqimdf7f5qdk3h3uhv5nhtc",
                          "COGNITO_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                          "SPOTIFY_CLIENT_ID": "c7806fa71cc749499f5c7517aa908f39",
                          "SPOTIFY_CLIENT_SECRET": "<REDACTED>",
                          "SPOTIFY_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                          "USERS_TABLE": "Users",
                          "MEMORIES_TABLE": "Memories",
                          "AUTH_SESSION_TABLE": "AuthSessionData"
                        }
                      },
                      "Role": {
                        "Fn::GetAtt": [
                          "IamRoleLambdaExecution",
                          "Arn"
                        ]
                      }
                    },
                    "DependsOn": [
                      "DeleteUserLogGroup"
                    ]
                  },
                  "CreateMemoryLambdaFunction": {
                    "Type": "AWS::Lambda::Function",
                    "Properties": {
                      "Code": {
                        "S3Bucket": "serverless-framework-deployments-us-east-1-55cebd6e-28d6",
                        "S3Key": "serverless/nostalgio-backend/dev/1727560476305-2024-09-28T21:54:36.305Z/createMemory.zip"
                      },
                      "Handler": "src/memories/handlers/createMemory.createMemoryHandler",
                      "Runtime": "nodejs18.x",
                      "FunctionName": "nostalgio-backend-dev-createMemory",
                      "MemorySize": 1024,
                      "Timeout": 6,
                      "Environment": {
                        "Variables": {
                          "COGNITO_USER_POOL_ID": "us-east-1_lqzsgfHQr",
                          "COGNITO_CLIENT_ID": "12pcqimdf7f5qdk3h3uhv5nhtc",
                          "COGNITO_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                          "SPOTIFY_CLIENT_ID": "c7806fa71cc749499f5c7517aa908f39",
                          "SPOTIFY_CLIENT_SECRET": "<REDACTED>",
                          "SPOTIFY_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                          "USERS_TABLE": "Users",
                          "MEMORIES_TABLE": "Memories",
                          "AUTH_SESSION_TABLE": "AuthSessionData"
                        }
                      },
                      "Role": {
                        "Fn::GetAtt": [
                          "IamRoleLambdaExecution",
                          "Arn"
                        ]
                      }
                    },
                    "DependsOn": [
                      "CreateMemoryLogGroup"
                    ]
                  },
                  "GetMemoryLambdaFunction": {
                    "Type": "AWS::Lambda::Function",
                    "Properties": {
                      "Code": {
                        "S3Bucket": "serverless-framework-deployments-us-east-1-55cebd6e-28d6",
                        "S3Key": "serverless/nostalgio-backend/dev/1727560476305-2024-09-28T21:54:36.305Z/getMemory.zip"
                      },
                      "Handler": "src/memories/handlers/getMemory.getMemoryHandler",
                      "Runtime": "nodejs18.x",
                      "FunctionName": "nostalgio-backend-dev-getMemory",
                      "MemorySize": 1024,
                      "Timeout": 6,
                      "Environment": {
                        "Variables": {
                          "COGNITO_USER_POOL_ID": "us-east-1_lqzsgfHQr",
                          "COGNITO_CLIENT_ID": "12pcqimdf7f5qdk3h3uhv5nhtc",
                          "COGNITO_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                          "SPOTIFY_CLIENT_ID": "c7806fa71cc749499f5c7517aa908f39",
                          "SPOTIFY_CLIENT_SECRET": "<REDACTED>",
                          "SPOTIFY_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                          "USERS_TABLE": "Users",
                          "MEMORIES_TABLE": "Memories",
                          "AUTH_SESSION_TABLE": "AuthSessionData"
                        }
                      },
                      "Role": {
                        "Fn::GetAtt": [
                          "IamRoleLambdaExecution",
                          "Arn"
                        ]
                      }
                    },
                    "DependsOn": [
                      "GetMemoryLogGroup"
                    ]
                  },
                  "UpdateMemoryLambdaFunction": {
                    "Type": "AWS::Lambda::Function",
                    "Properties": {
                      "Code": {
                        "S3Bucket": "serverless-framework-deployments-us-east-1-55cebd6e-28d6",
                        "S3Key": "serverless/nostalgio-backend/dev/1727560476305-2024-09-28T21:54:36.305Z/updateMemory.zip"
                      },
                      "Handler": "src/memories/handlers/updateMemory.updateMemoryHandler",
                      "Runtime": "nodejs18.x",
                      "FunctionName": "nostalgio-backend-dev-updateMemory",
                      "MemorySize": 1024,
                      "Timeout": 6,
                      "Environment": {
                        "Variables": {
                          "COGNITO_USER_POOL_ID": "us-east-1_lqzsgfHQr",
                          "COGNITO_CLIENT_ID": "12pcqimdf7f5qdk3h3uhv5nhtc",
                          "COGNITO_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                          "SPOTIFY_CLIENT_ID": "c7806fa71cc749499f5c7517aa908f39",
                          "SPOTIFY_CLIENT_SECRET": "<REDACTED>",
                          "SPOTIFY_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                          "USERS_TABLE": "Users",
                          "MEMORIES_TABLE": "Memories",
                          "AUTH_SESSION_TABLE": "AuthSessionData"
                        }
                      },
                      "Role": {
                        "Fn::GetAtt": [
                          "IamRoleLambdaExecution",
                          "Arn"
                        ]
                      }
                    },
                    "DependsOn": [
                      "UpdateMemoryLogGroup"
                    ]
                  },
                  "DeleteMemoryLambdaFunction": {
                    "Type": "AWS::Lambda::Function",
                    "Properties": {
                      "Code": {
                        "S3Bucket": "serverless-framework-deployments-us-east-1-55cebd6e-28d6",
                        "S3Key": "serverless/nostalgio-backend/dev/1727560476305-2024-09-28T21:54:36.305Z/deleteMemory.zip"
                      },
                      "Handler": "src/memories/handlers/deleteMemory.deleteMemoryHandler",
                      "Runtime": "nodejs18.x",
                      "FunctionName": "nostalgio-backend-dev-deleteMemory",
                      "MemorySize": 1024,
                      "Timeout": 6,
                      "Environment": {
                        "Variables": {
                          "COGNITO_USER_POOL_ID": "us-east-1_lqzsgfHQr",
                          "COGNITO_CLIENT_ID": "12pcqimdf7f5qdk3h3uhv5nhtc",
                          "COGNITO_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                          "SPOTIFY_CLIENT_ID": "c7806fa71cc749499f5c7517aa908f39",
                          "SPOTIFY_CLIENT_SECRET": "<REDACTED>",
                          "SPOTIFY_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                          "USERS_TABLE": "Users",
                          "MEMORIES_TABLE": "Memories",
                          "AUTH_SESSION_TABLE": "AuthSessionData"
                        }
                      },
                      "Role": {
                        "Fn::GetAtt": [
                          "IamRoleLambdaExecution",
                          "Arn"
                        ]
                      }
                    },
                    "DependsOn": [
                      "DeleteMemoryLogGroup"
                    ]
                  },
                  "ListMemoriesLambdaFunction": {
                    "Type": "AWS::Lambda::Function",
                    "Properties": {
                      "Code": {
                        "S3Bucket": "serverless-framework-deployments-us-east-1-55cebd6e-28d6",
                        "S3Key": "serverless/nostalgio-backend/dev/1727560476305-2024-09-28T21:54:36.305Z/listMemories.zip"
                      },
                      "Handler": "src/memories/handlers/listMemories.listMemoriesHandler",
                      "Runtime": "nodejs18.x",
                      "FunctionName": "nostalgio-backend-dev-listMemories",
                      "MemorySize": 1024,
                      "Timeout": 6,
                      "Environment": {
                        "Variables": {
                          "COGNITO_USER_POOL_ID": "us-east-1_lqzsgfHQr",
                          "COGNITO_CLIENT_ID": "12pcqimdf7f5qdk3h3uhv5nhtc",
                          "COGNITO_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                          "SPOTIFY_CLIENT_ID": "c7806fa71cc749499f5c7517aa908f39",
                          "SPOTIFY_CLIENT_SECRET": "<REDACTED>",
                          "SPOTIFY_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                          "USERS_TABLE": "Users",
                          "MEMORIES_TABLE": "Memories",
                          "AUTH_SESSION_TABLE": "AuthSessionData"
                        }
                      },
                      "Role": {
                        "Fn::GetAtt": [
                          "IamRoleLambdaExecution",
                          "Arn"
                        ]
                      }
                    },
                    "DependsOn": [
                      "ListMemoriesLogGroup"
                    ]
                  },
                  "StreamMemoryUpdatesLambdaFunction": {
                    "Type": "AWS::Lambda::Function",
                    "Properties": {
                      "Code": {
                        "S3Bucket": "serverless-framework-deployments-us-east-1-55cebd6e-28d6",
                        "S3Key": "serverless/nostalgio-backend/dev/1727560476305-2024-09-28T21:54:36.305Z/streamMemoryUpdates.zip"
                      },
                      "Handler": "src/memories/handlers/streamMemoryUpdates.streamMemoryUpdatesHandler",
                      "Runtime": "nodejs18.x",
                      "FunctionName": "nostalgio-backend-dev-streamMemoryUpdates",
                      "MemorySize": 1024,
                      "Timeout": 6,
                      "Environment": {
                        "Variables": {
                          "COGNITO_USER_POOL_ID": "us-east-1_lqzsgfHQr",
                          "COGNITO_CLIENT_ID": "12pcqimdf7f5qdk3h3uhv5nhtc",
                          "COGNITO_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                          "SPOTIFY_CLIENT_ID": "c7806fa71cc749499f5c7517aa908f39",
                          "SPOTIFY_CLIENT_SECRET": "<REDACTED>",
                          "SPOTIFY_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                          "USERS_TABLE": "Users",
                          "MEMORIES_TABLE": "Memories",
                          "AUTH_SESSION_TABLE": "AuthSessionData"
                        }
                      },
                      "Role": {
                        "Fn::GetAtt": [
                          "IamRoleLambdaExecution",
                          "Arn"
                        ]
                      }
                    },
                    "DependsOn": [
                      "StreamMemoryUpdatesLogGroup"
                    ]
                  },
                  "GetTopTracksLambdaFunction": {
                    "Type": "AWS::Lambda::Function",
                    "Properties": {
                      "Code": {
                        "S3Bucket": "serverless-framework-deployments-us-east-1-55cebd6e-28d6",
                        "S3Key": "serverless/nostalgio-backend/dev/1727560476305-2024-09-28T21:54:36.305Z/getTopTracks.zip"
                      },
                      "Handler": "src/spotify/tracks/handlers/getTopTracks.getTopTracks",
                      "Runtime": "nodejs18.x",
                      "FunctionName": "nostalgio-backend-dev-getTopTracks",
                      "MemorySize": 1024,
                      "Timeout": 6,
                      "Environment": {
                        "Variables": {
                          "COGNITO_USER_POOL_ID": "us-east-1_lqzsgfHQr",
                          "COGNITO_CLIENT_ID": "12pcqimdf7f5qdk3h3uhv5nhtc",
                          "COGNITO_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                          "SPOTIFY_CLIENT_ID": "c7806fa71cc749499f5c7517aa908f39",
                          "SPOTIFY_CLIENT_SECRET": "<REDACTED>",
                          "SPOTIFY_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                          "USERS_TABLE": "Users",
                          "MEMORIES_TABLE": "Memories",
                          "AUTH_SESSION_TABLE": "AuthSessionData"
                        }
                      },
                      "Role": {
                        "Fn::GetAtt": [
                          "IamRoleLambdaExecution",
                          "Arn"
                        ]
                      }
                    },
                    "DependsOn": [
                      "GetTopTracksLogGroup"
                    ]
                  },
                  "SpotifyAuthLambdaVersiontPVw1jw6Aad7GcKwIlpemFCqIaCScnAITl3ct4KZJI": {
                    "Type": "AWS::Lambda::Version",
                    "DeletionPolicy": "Retain",
                    "Properties": {
                      "FunctionName": {
                        "Ref": "SpotifyAuthLambdaFunction"
                      },
                      "CodeSha256": "m9JlsUsM4mT8M1s7NP+eS++cGnnLyg++T1y3XjCiBC0="
                    }
                  },
                  "ValidateSpotifyTokenLambdaVersionzBBT0xUMjMXFJmoz3ZFByzxr8ptunV4p812tWiehM": "<REDACTED>",
                  "ExchangeSpotifyTokenLambdaVersionq0wgG7ZeouYyXEmbCqzZrrPcGYqmLdRN7IoOCCsioIg": "<REDACTED>",
                  "UpdateUserLambdaVersionFrQkQgMdoj08bEB3fIzaN9z59gjE5Xea9cTEHVgLlI": {
                    "Type": "AWS::Lambda::Version",
                    "DeletionPolicy": "Retain",
                    "Properties": {
                      "FunctionName": {
                        "Ref": "UpdateUserLambdaFunction"
                      },
                      "CodeSha256": "m9JlsUsM4mT8M1s7NP+eS++cGnnLyg++T1y3XjCiBC0="
                    }
                  },
                  "SpotifyCallbackLambdaVersionHcwq496FnTX493Oq4vfTdlqrRP8N1zvi7YpHJ9IT2MM": {
                    "Type": "AWS::Lambda::Version",
                    "DeletionPolicy": "Retain",
                    "Properties": {
                      "FunctionName": {
                        "Ref": "SpotifyCallbackLambdaFunction"
                      },
                      "CodeSha256": "m9JlsUsM4mT8M1s7NP+eS++cGnnLyg++T1y3XjCiBC0="
                    }
                  },
                  "GetUserLambdaVersionDwz0xJGw46JR9RJ0XK93zJaYjpIdmmmDQy8Zekxc": {
                    "Type": "AWS::Lambda::Version",
                    "DeletionPolicy": "Retain",
                    "Properties": {
                      "FunctionName": {
                        "Ref": "GetUserLambdaFunction"
                      },
                      "CodeSha256": "m9JlsUsM4mT8M1s7NP+eS++cGnnLyg++T1y3XjCiBC0="
                    }
                  },
                  "CreateUserLambdaVersionsLF1EE4pnRkmumF2DuBOPrl2ncWgnikHBKghcukcY": {
                    "Type": "AWS::Lambda::Version",
                    "DeletionPolicy": "Retain",
                    "Properties": {
                      "FunctionName": {
                        "Ref": "CreateUserLambdaFunction"
                      },
                      "CodeSha256": "m9JlsUsM4mT8M1s7NP+eS++cGnnLyg++T1y3XjCiBC0="
                    }
                  },
                  "RefreshSpotifyTokenLambdaVersionbvKKwEcniYqO4XH5eOlHXZFTHihl0v4tmPuk51H1E": "<REDACTED>",
                  "DeleteUserLambdaVersionfmmH52E282Q7f76Callujj6vTerG8qe8enOC65o": {
                    "Type": "AWS::Lambda::Version",
                    "DeletionPolicy": "Retain",
                    "Properties": {
                      "FunctionName": {
                        "Ref": "DeleteUserLambdaFunction"
                      },
                      "CodeSha256": "m9JlsUsM4mT8M1s7NP+eS++cGnnLyg++T1y3XjCiBC0="
                    }
                  },
                  "CreateMemoryLambdaVersionokDKpGGXuW2mpWPVyeVJ36htBtjmkk3BaEoiz8ds": {
                    "Type": "AWS::Lambda::Version",
                    "DeletionPolicy": "Retain",
                    "Properties": {
                      "FunctionName": {
                        "Ref": "CreateMemoryLambdaFunction"
                      },
                      "CodeSha256": "m9JlsUsM4mT8M1s7NP+eS++cGnnLyg++T1y3XjCiBC0="
                    }
                  },
                  "UpdateMemoryLambdaVersionRacKmRvFJEeFd7F21R8BHYK7dnDN2aN69iVOlSMRQc": {
                    "Type": "AWS::Lambda::Version",
                    "DeletionPolicy": "Retain",
                    "Properties": {
                      "FunctionName": {
                        "Ref": "UpdateMemoryLambdaFunction"
                      },
                      "CodeSha256": "m9JlsUsM4mT8M1s7NP+eS++cGnnLyg++T1y3XjCiBC0="
                    }
                  },
                  "ListMemoriesLambdaVersionZei8fgbvJAKnhQRvNCoUNHg2IEK3KW16rdfA0cMRM": {
                    "Type": "AWS::Lambda::Version",
                    "DeletionPolicy": "Retain",
                    "Properties": {
                      "FunctionName": {
                        "Ref": "ListMemoriesLambdaFunction"
                      },
                      "CodeSha256": "m9JlsUsM4mT8M1s7NP+eS++cGnnLyg++T1y3XjCiBC0="
                    }
                  },
                  "StreamMemoryUpdatesLambdaVersionlbDkfvE4o4xulVdClHlWRmN9YhSH98gMnYkP1Z57veE": {
                    "Type": "AWS::Lambda::Version",
                    "DeletionPolicy": "Retain",
                    "Properties": {
                      "FunctionName": {
                        "Ref": "StreamMemoryUpdatesLambdaFunction"
                      },
                      "CodeSha256": "m9JlsUsM4mT8M1s7NP+eS++cGnnLyg++T1y3XjCiBC0="
                    }
                  },
                  "DeleteMemoryLambdaVersion2UrMfz0smOQVM2fCOpE32ahiZHqi7YUJH4fx918oY": {
                    "Type": "AWS::Lambda::Version",
                    "DeletionPolicy": "Retain",
                    "Properties": {
                      "FunctionName": {
                        "Ref": "DeleteMemoryLambdaFunction"
                      },
                      "CodeSha256": "m9JlsUsM4mT8M1s7NP+eS++cGnnLyg++T1y3XjCiBC0="
                    }
                  },
                  "GetTopTracksLambdaVersion72SznfM9ZnOREILfCYeAqxbsHEnx5fntkZUB3SZS84": {
                    "Type": "AWS::Lambda::Version",
                    "DeletionPolicy": "Retain",
                    "Properties": {
                      "FunctionName": {
                        "Ref": "GetTopTracksLambdaFunction"
                      },
                      "CodeSha256": "m9JlsUsM4mT8M1s7NP+eS++cGnnLyg++T1y3XjCiBC0="
                    }
                  },
                  "GetMemoryLambdaVersionkYIdneML5V5faoCn7Ymh96ZRIQbD3ymhtXJ0RxXWZ4": {
                    "Type": "AWS::Lambda::Version",
                    "DeletionPolicy": "Retain",
                    "Properties": {
                      "FunctionName": {
                        "Ref": "GetMemoryLambdaFunction"
                      },
                      "CodeSha256": "m9JlsUsM4mT8M1s7NP+eS++cGnnLyg++T1y3XjCiBC0="
                    }
                  },
                  "ApiGatewayRestApi": {
                    "Type": "AWS::ApiGateway::RestApi",
                    "Properties": {
                      "Name": "dev-nostalgio-backend",
                      "EndpointConfiguration": {
                        "Types": [
                          "EDGE"
                        ]
                      },
                      "Policy": ""
                    }
                  },
                  "ApiGatewayResourceAuth": {
                    "Type": "AWS::ApiGateway::Resource",
                    "Properties": {
                      "ParentId": {
                        "Fn::GetAtt": [
                          "ApiGatewayRestApi",
                          "RootResourceId"
                        ]
                      },
                      "PathPart": "auth",
                      "RestApiId": {
                        "Ref": "ApiGatewayRestApi"
                      }
                    }
                  },
                  "ApiGatewayResourceAuthLogin": {
                    "Type": "AWS::ApiGateway::Resource",
                    "Properties": {
                      "ParentId": {
                        "Ref": "ApiGatewayResourceAuth"
                      },
                      "PathPart": "login",
                      "RestApiId": {
                        "Ref": "ApiGatewayRestApi"
                      }
                    }
                  },
                  "ApiGatewayResourceCallback": {
                    "Type": "AWS::ApiGateway::Resource",
                    "Properties": {
                      "ParentId": {
                        "Fn::GetAtt": [
                          "ApiGatewayRestApi",
                          "RootResourceId"
                        ]
                      },
                      "PathPart": "callback",
                      "RestApiId": {
                        "Ref": "ApiGatewayRestApi"
                      }
                    }
                  },
                  "ApiGatewayResourceExchangespotifytoken": "<REDACTED>",
                  "ApiGatewayResourceRefreshspotifytoken": "<REDACTED>",
                  "ApiGatewayResourceValidatespotifytoken": "<REDACTED>",
                  "ApiGatewayResourceValidatespotifytokenUseridVar": "<REDACTED>",
                  "ApiGatewayResourceUsers": {
                    "Type": "AWS::ApiGateway::Resource",
                    "Properties": {
                      "ParentId": {
                        "Fn::GetAtt": [
                          "ApiGatewayRestApi",
                          "RootResourceId"
                        ]
                      },
                      "PathPart": "users",
                      "RestApiId": {
                        "Ref": "ApiGatewayRestApi"
                      }
                    }
                  },
                  "ApiGatewayResourceUsersUseridVar": {
                    "Type": "AWS::ApiGateway::Resource",
                    "Properties": {
                      "ParentId": {
                        "Ref": "ApiGatewayResourceUsers"
                      },
                      "PathPart": "{userId}",
                      "RestApiId": {
                        "Ref": "ApiGatewayRestApi"
                      }
                    }
                  },
                  "ApiGatewayResourceUsersSpotify": {
                    "Type": "AWS::ApiGateway::Resource",
                    "Properties": {
                      "ParentId": {
                        "Ref": "ApiGatewayResourceUsers"
                      },
                      "PathPart": "spotify",
                      "RestApiId": {
                        "Ref": "ApiGatewayRestApi"
                      }
                    }
                  },
                  "ApiGatewayResourceUsersSpotifySpotifyuseridVar": {
                    "Type": "AWS::ApiGateway::Resource",
                    "Properties": {
                      "ParentId": {
                        "Ref": "ApiGatewayResourceUsersSpotify"
                      },
                      "PathPart": "{spotifyUserId}",
                      "RestApiId": {
                        "Ref": "ApiGatewayRestApi"
                      }
                    }
                  },
                  "ApiGatewayResourceMemories": {
                    "Type": "AWS::ApiGateway::Resource",
                    "Properties": {
                      "ParentId": {
                        "Fn::GetAtt": [
                          "ApiGatewayRestApi",
                          "RootResourceId"
                        ]
                      },
                      "PathPart": "memories",
                      "RestApiId": {
                        "Ref": "ApiGatewayRestApi"
                      }
                    }
                  },
                  "ApiGatewayResourceMemoriesUseridVar": {
                    "Type": "AWS::ApiGateway::Resource",
                    "Properties": {
                      "ParentId": {
                        "Ref": "ApiGatewayResourceMemories"
                      },
                      "PathPart": "{userId}",
                      "RestApiId": {
                        "Ref": "ApiGatewayRestApi"
                      }
                    }
                  },
                  "ApiGatewayResourceMemoriesUseridVarMemoryidVar": {
                    "Type": "AWS::ApiGateway::Resource",
                    "Properties": {
                      "ParentId": {
                        "Ref": "ApiGatewayResourceMemoriesUseridVar"
                      },
                      "PathPart": "{memoryId}",
                      "RestApiId": {
                        "Ref": "ApiGatewayRestApi"
                      }
                    }
                  },
                  "ApiGatewayResourceSpotify": {
                    "Type": "AWS::ApiGateway::Resource",
                    "Properties": {
                      "ParentId": {
                        "Fn::GetAtt": [
                          "ApiGatewayRestApi",
                          "RootResourceId"
                        ]
                      },
                      "PathPart": "spotify",
                      "RestApiId": {
                        "Ref": "ApiGatewayRestApi"
                      }
                    }
                  },
                  "ApiGatewayResourceSpotifyTracks": {
                    "Type": "AWS::ApiGateway::Resource",
                    "Properties": {
                      "ParentId": {
                        "Ref": "ApiGatewayResourceSpotify"
                      },
                      "PathPart": "tracks",
                      "RestApiId": {
                        "Ref": "ApiGatewayRestApi"
                      }
                    }
                  },
                  "ApiGatewayResourceSpotifyTracksTop": {
                    "Type": "AWS::ApiGateway::Resource",
                    "Properties": {
                      "ParentId": {
                        "Ref": "ApiGatewayResourceSpotifyTracks"
                      },
                      "PathPart": "top",
                      "RestApiId": {
                        "Ref": "ApiGatewayRestApi"
                      }
                    }
                  },
                  "ApiGatewayResourceSpotifyTracksTopUseridVar": {
                    "Type": "AWS::ApiGateway::Resource",
                    "Properties": {
                      "ParentId": {
                        "Ref": "ApiGatewayResourceSpotifyTracksTop"
                      },
                      "PathPart": "{userId}",
                      "RestApiId": {
                        "Ref": "ApiGatewayRestApi"
                      }
                    }
                  },
                  "ApiGatewayMethodAuthLoginOptions": {
                    "Type": "AWS::ApiGateway::Method",
                    "Properties": {
                      "AuthorizationType": "NONE",
                      "HttpMethod": "OPTIONS",
                      "MethodResponses": [
                        {
                          "StatusCode": "200",
                          "ResponseParameters": {
                            "method.response.header.Access-Control-Allow-Origin": true,
                            "method.response.header.Access-Control-Allow-Headers": true,
                            "method.response.header.Access-Control-Allow-Methods": true
                          },
                          "ResponseModels": {}
                        }
                      ],
                      "RequestParameters": {},
                      "Integration": {
                        "Type": "MOCK",
                        "RequestTemplates": {
                          "application/json": "{statusCode:200}"
                        },
                        "ContentHandling": "CONVERT_TO_TEXT",
                        "IntegrationResponses": [
                          {
                            "StatusCode": "200",
                            "ResponseParameters": {
                              "method.response.header.Access-Control-Allow-Origin": "'*'",
                              "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Amzn-Trace-Id'",
                              "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET'"
                            },
                            "ResponseTemplates": {
                              "application/json": ""
                            }
                          }
                        ]
                      },
                      "ResourceId": {
                        "Ref": "ApiGatewayResourceAuthLogin"
                      },
                      "RestApiId": {
                        "Ref": "ApiGatewayRestApi"
                      }
                    }
                  },
                  "ApiGatewayMethodCallbackOptions": {
                    "Type": "AWS::ApiGateway::Method",
                    "Properties": {
                      "AuthorizationType": "NONE",
                      "HttpMethod": "OPTIONS",
                      "MethodResponses": [
                        {
                          "StatusCode": "200",
                          "ResponseParameters": {
                            "method.response.header.Access-Control-Allow-Origin": true,
                            "method.response.header.Access-Control-Allow-Headers": true,
                            "method.response.header.Access-Control-Allow-Methods": true
                          },
                          "ResponseModels": {}
                        }
                      ],
                      "RequestParameters": {},
                      "Integration": {
                        "Type": "MOCK",
                        "RequestTemplates": {
                          "application/json": "{statusCode:200}"
                        },
                        "ContentHandling": "CONVERT_TO_TEXT",
                        "IntegrationResponses": [
                          {
                            "StatusCode": "200",
                            "ResponseParameters": {
                              "method.response.header.Access-Control-Allow-Origin": "'*'",
                              "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Amzn-Trace-Id'",
                              "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET'"
                            },
                            "ResponseTemplates": {
                              "application/json": ""
                            }
                          }
                        ]
                      },
                      "ResourceId": {
                        "Ref": "ApiGatewayResourceCallback"
                      },
                      "RestApiId": {
                        "Ref": "ApiGatewayRestApi"
                      }
                    }
                  },
                  "ApiGatewayMethodExchangespotifytokenOptions": "<REDACTED>",
                  "ApiGatewayMethodRefreshspotifytokenOptions": "<REDACTED>",
                  "ApiGatewayMethodValidatespotifytokenUseridVarOptions": "<REDACTED>",
                  "ApiGatewayMethodUsersOptions": {
                    "Type": "AWS::ApiGateway::Method",
                    "Properties": {
                      "AuthorizationType": "NONE",
                      "HttpMethod": "OPTIONS",
                      "MethodResponses": [
                        {
                          "StatusCode": "200",
                          "ResponseParameters": {
                            "method.response.header.Access-Control-Allow-Origin": true,
                            "method.response.header.Access-Control-Allow-Headers": true,
                            "method.response.header.Access-Control-Allow-Methods": true
                          },
                          "ResponseModels": {}
                        }
                      ],
                      "RequestParameters": {},
                      "Integration": {
                        "Type": "MOCK",
                        "RequestTemplates": {
                          "application/json": "{statusCode:200}"
                        },
                        "ContentHandling": "CONVERT_TO_TEXT",
                        "IntegrationResponses": [
                          {
                            "StatusCode": "200",
                            "ResponseParameters": {
                              "method.response.header.Access-Control-Allow-Origin": "'*'",
                              "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Amzn-Trace-Id'",
                              "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,POST'"
                            },
                            "ResponseTemplates": {
                              "application/json": ""
                            }
                          }
                        ]
                      },
                      "ResourceId": {
                        "Ref": "ApiGatewayResourceUsers"
                      },
                      "RestApiId": {
                        "Ref": "ApiGatewayRestApi"
                      }
                    }
                  },
                  "ApiGatewayMethodUsersUseridVarOptions": {
                    "Type": "AWS::ApiGateway::Method",
                    "Properties": {
                      "AuthorizationType": "NONE",
                      "HttpMethod": "OPTIONS",
                      "MethodResponses": [
                        {
                          "StatusCode": "200",
                          "ResponseParameters": {
                            "method.response.header.Access-Control-Allow-Origin": true,
                            "method.response.header.Access-Control-Allow-Headers": true,
                            "method.response.header.Access-Control-Allow-Methods": true
                          },
                          "ResponseModels": {}
                        }
                      ],
                      "RequestParameters": {},
                      "Integration": {
                        "Type": "MOCK",
                        "RequestTemplates": {
                          "application/json": "{statusCode:200}"
                        },
                        "ContentHandling": "CONVERT_TO_TEXT",
                        "IntegrationResponses": [
                          {
                            "StatusCode": "200",
                            "ResponseParameters": {
                              "method.response.header.Access-Control-Allow-Origin": "'*'",
                              "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Amzn-Trace-Id'",
                              "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,DELETE,PUT,GET'"
                            },
                            "ResponseTemplates": {
                              "application/json": ""
                            }
                          }
                        ]
                      },
                      "ResourceId": {
                        "Ref": "ApiGatewayResourceUsersUseridVar"
                      },
                      "RestApiId": {
                        "Ref": "ApiGatewayRestApi"
                      }
                    }
                  },
                  "ApiGatewayMethodUsersSpotifySpotifyuseridVarOptions": {
                    "Type": "AWS::ApiGateway::Method",
                    "Properties": {
                      "AuthorizationType": "NONE",
                      "HttpMethod": "OPTIONS",
                      "MethodResponses": [
                        {
                          "StatusCode": "200",
                          "ResponseParameters": {
                            "method.response.header.Access-Control-Allow-Origin": true,
                            "method.response.header.Access-Control-Allow-Headers": true,
                            "method.response.header.Access-Control-Allow-Methods": true
                          },
                          "ResponseModels": {}
                        }
                      ],
                      "RequestParameters": {},
                      "Integration": {
                        "Type": "MOCK",
                        "RequestTemplates": {
                          "application/json": "{statusCode:200}"
                        },
                        "ContentHandling": "CONVERT_TO_TEXT",
                        "IntegrationResponses": [
                          {
                            "StatusCode": "200",
                            "ResponseParameters": {
                              "method.response.header.Access-Control-Allow-Origin": "'*'",
                              "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Amzn-Trace-Id'",
                              "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET'"
                            },
                            "ResponseTemplates": {
                              "application/json": ""
                            }
                          }
                        ]
                      },
                      "ResourceId": {
                        "Ref": "ApiGatewayResourceUsersSpotifySpotifyuseridVar"
                      },
                      "RestApiId": {
                        "Ref": "ApiGatewayRestApi"
                      }
                    }
                  },
                  "ApiGatewayMethodMemoriesOptions": {
                    "Type": "AWS::ApiGateway::Method",
                    "Properties": {
                      "AuthorizationType": "NONE",
                      "HttpMethod": "OPTIONS",
                      "MethodResponses": [
                        {
                          "StatusCode": "200",
                          "ResponseParameters": {
                            "method.response.header.Access-Control-Allow-Origin": true,
                            "method.response.header.Access-Control-Allow-Headers": true,
                            "method.response.header.Access-Control-Allow-Methods": true
                          },
                          "ResponseModels": {}
                        }
                      ],
                      "RequestParameters": {},
                      "Integration": {
                        "Type": "MOCK",
                        "RequestTemplates": {
                          "application/json": "{statusCode:200}"
                        },
                        "ContentHandling": "CONVERT_TO_TEXT",
                        "IntegrationResponses": [
                          {
                            "StatusCode": "200",
                            "ResponseParameters": {
                              "method.response.header.Access-Control-Allow-Origin": "'*'",
                              "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Amzn-Trace-Id'",
                              "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,POST'"
                            },
                            "ResponseTemplates": {
                              "application/json": ""
                            }
                          }
                        ]
                      },
                      "ResourceId": {
                        "Ref": "ApiGatewayResourceMemories"
                      },
                      "RestApiId": {
                        "Ref": "ApiGatewayRestApi"
                      }
                    }
                  },
                  "ApiGatewayMethodMemoriesUseridVarMemoryidVarOptions": {
                    "Type": "AWS::ApiGateway::Method",
                    "Properties": {
                      "AuthorizationType": "NONE",
                      "HttpMethod": "OPTIONS",
                      "MethodResponses": [
                        {
                          "StatusCode": "200",
                          "ResponseParameters": {
                            "method.response.header.Access-Control-Allow-Origin": true,
                            "method.response.header.Access-Control-Allow-Headers": true,
                            "method.response.header.Access-Control-Allow-Methods": true
                          },
                          "ResponseModels": {}
                        }
                      ],
                      "RequestParameters": {},
                      "Integration": {
                        "Type": "MOCK",
                        "RequestTemplates": {
                          "application/json": "{statusCode:200}"
                        },
                        "ContentHandling": "CONVERT_TO_TEXT",
                        "IntegrationResponses": [
                          {
                            "StatusCode": "200",
                            "ResponseParameters": {
                              "method.response.header.Access-Control-Allow-Origin": "'*'",
                              "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Amzn-Trace-Id'",
                              "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,DELETE,PUT,GET'"
                            },
                            "ResponseTemplates": {
                              "application/json": ""
                            }
                          }
                        ]
                      },
                      "ResourceId": {
                        "Ref": "ApiGatewayResourceMemoriesUseridVarMemoryidVar"
                      },
                      "RestApiId": {
                        "Ref": "ApiGatewayRestApi"
                      }
                    }
                  },
                  "ApiGatewayMethodMemoriesUseridVarOptions": {
                    "Type": "AWS::ApiGateway::Method",
                    "Properties": {
                      "AuthorizationType": "NONE",
                      "HttpMethod": "OPTIONS",
                      "MethodResponses": [
                        {
                          "StatusCode": "200",
                          "ResponseParameters": {
                            "method.response.header.Access-Control-Allow-Origin": true,
                            "method.response.header.Access-Control-Allow-Headers": true,
                            "method.response.header.Access-Control-Allow-Methods": true
                          },
                          "ResponseModels": {}
                        }
                      ],
                      "RequestParameters": {},
                      "Integration": {
                        "Type": "MOCK",
                        "RequestTemplates": {
                          "application/json": "{statusCode:200}"
                        },
                        "ContentHandling": "CONVERT_TO_TEXT",
                        "IntegrationResponses": [
                          {
                            "StatusCode": "200",
                            "ResponseParameters": {
                              "method.response.header.Access-Control-Allow-Origin": "'*'",
                              "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Amzn-Trace-Id'",
                              "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET'"
                            },
                            "ResponseTemplates": {
                              "application/json": ""
                            }
                          }
                        ]
                      },
                      "ResourceId": {
                        "Ref": "ApiGatewayResourceMemoriesUseridVar"
                      },
                      "RestApiId": {
                        "Ref": "ApiGatewayRestApi"
                      }
                    }
                  },
                  "ApiGatewayMethodSpotifyTracksTopUseridVarOptions": {
                    "Type": "AWS::ApiGateway::Method",
                    "Properties": {
                      "AuthorizationType": "NONE",
                      "HttpMethod": "OPTIONS",
                      "MethodResponses": [
                        {
                          "StatusCode": "200",
                          "ResponseParameters": {
                            "method.response.header.Access-Control-Allow-Origin": true,
                            "method.response.header.Access-Control-Allow-Headers": true,
                            "method.response.header.Access-Control-Allow-Methods": true
                          },
                          "ResponseModels": {}
                        }
                      ],
                      "RequestParameters": {},
                      "Integration": {
                        "Type": "MOCK",
                        "RequestTemplates": {
                          "application/json": "{statusCode:200}"
                        },
                        "ContentHandling": "CONVERT_TO_TEXT",
                        "IntegrationResponses": [
                          {
                            "StatusCode": "200",
                            "ResponseParameters": {
                              "method.response.header.Access-Control-Allow-Origin": "'*'",
                              "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Amzn-Trace-Id'",
                              "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET'"
                            },
                            "ResponseTemplates": {
                              "application/json": ""
                            }
                          }
                        ]
                      },
                      "ResourceId": {
                        "Ref": "ApiGatewayResourceSpotifyTracksTopUseridVar"
                      },
                      "RestApiId": {
                        "Ref": "ApiGatewayRestApi"
                      }
                    }
                  },
                  "ApiGatewayMethodAuthLoginGet": {
                    "Type": "AWS::ApiGateway::Method",
                    "Properties": {
                      "HttpMethod": "GET",
                      "RequestParameters": {},
                      "ResourceId": {
                        "Ref": "ApiGatewayResourceAuthLogin"
                      },
                      "RestApiId": {
                        "Ref": "ApiGatewayRestApi"
                      },
                      "ApiKeyRequired": "<REDACTED>",
                      "AuthorizationType": "NONE",
                      "Integration": {
                        "IntegrationHttpMethod": "POST",
                        "Type": "AWS_PROXY",
                        "Uri": {
                          "Fn::Join": [
                            "",
                            [
                              "arn:",
                              {
                                "Ref": "AWS::Partition"
                              },
                              ":apigateway:",
                              {
                                "Ref": "AWS::Region"
                              },
                              ":lambda:path/2015-03-31/functions/",
                              {
                                "Fn::GetAtt": [
                                  "SpotifyAuthLambdaFunction",
                                  "Arn"
                                ]
                              },
                              "/invocations"
                            ]
                          ]
                        }
                      },
                      "MethodResponses": []
                    },
                    "DependsOn": [
                      "SpotifyAuthLambdaPermissionApiGateway"
                    ]
                  },
                  "ApiGatewayMethodCallbackGet": {
                    "Type": "AWS::ApiGateway::Method",
                    "Properties": {
                      "HttpMethod": "GET",
                      "RequestParameters": {},
                      "ResourceId": {
                        "Ref": "ApiGatewayResourceCallback"
                      },
                      "RestApiId": {
                        "Ref": "ApiGatewayRestApi"
                      },
                      "ApiKeyRequired": "<REDACTED>",
                      "AuthorizationType": "NONE",
                      "Integration": {
                        "IntegrationHttpMethod": "POST",
                        "Type": "AWS_PROXY",
                        "Uri": {
                          "Fn::Join": [
                            "",
                            [
                              "arn:",
                              {
                                "Ref": "AWS::Partition"
                              },
                              ":apigateway:",
                              {
                                "Ref": "AWS::Region"
                              },
                              ":lambda:path/2015-03-31/functions/",
                              {
                                "Fn::GetAtt": [
                                  "SpotifyCallbackLambdaFunction",
                                  "Arn"
                                ]
                              },
                              "/invocations"
                            ]
                          ]
                        }
                      },
                      "MethodResponses": []
                    },
                    "DependsOn": [
                      "SpotifyCallbackLambdaPermissionApiGateway"
                    ]
                  },
                  "ApiGatewayMethodExchangespotifytokenPost": "<REDACTED>",
                  "ApiGatewayMethodRefreshspotifytokenPost": "<REDACTED>",
                  "ApiGatewayMethodValidatespotifytokenUseridVarPost": "<REDACTED>",
                  "ApiGatewayMethodUsersPost": {
                    "Type": "AWS::ApiGateway::Method",
                    "Properties": {
                      "HttpMethod": "POST",
                      "RequestParameters": {},
                      "ResourceId": {
                        "Ref": "ApiGatewayResourceUsers"
                      },
                      "RestApiId": {
                        "Ref": "ApiGatewayRestApi"
                      },
                      "ApiKeyRequired": "<REDACTED>",
                      "AuthorizationType": "NONE",
                      "Integration": {
                        "IntegrationHttpMethod": "POST",
                        "Type": "AWS_PROXY",
                        "Uri": {
                          "Fn::Join": [
                            "",
                            [
                              "arn:",
                              {
                                "Ref": "AWS::Partition"
                              },
                              ":apigateway:",
                              {
                                "Ref": "AWS::Region"
                              },
                              ":lambda:path/2015-03-31/functions/",
                              {
                                "Fn::GetAtt": [
                                  "CreateUserLambdaFunction",
                                  "Arn"
                                ]
                              },
                              "/invocations"
                            ]
                          ]
                        }
                      },
                      "MethodResponses": []
                    },
                    "DependsOn": [
                      "CreateUserLambdaPermissionApiGateway"
                    ]
                  },
                  "ApiGatewayMethodUsersUseridVarGet": {
                    "Type": "AWS::ApiGateway::Method",
                    "Properties": {
                      "HttpMethod": "GET",
                      "RequestParameters": {},
                      "ResourceId": {
                        "Ref": "ApiGatewayResourceUsersUseridVar"
                      },
                      "RestApiId": {
                        "Ref": "ApiGatewayRestApi"
                      },
                      "ApiKeyRequired": "<REDACTED>",
                      "AuthorizationType": "NONE",
                      "Integration": {
                        "IntegrationHttpMethod": "POST",
                        "Type": "AWS_PROXY",
                        "Uri": {
                          "Fn::Join": [
                            "",
                            [
                              "arn:",
                              {
                                "Ref": "AWS::Partition"
                              },
                              ":apigateway:",
                              {
                                "Ref": "AWS::Region"
                              },
                              ":lambda:path/2015-03-31/functions/",
                              {
                                "Fn::GetAtt": [
                                  "GetUserLambdaFunction",
                                  "Arn"
                                ]
                              },
                              "/invocations"
                            ]
                          ]
                        }
                      },
                      "MethodResponses": []
                    },
                    "DependsOn": [
                      "GetUserLambdaPermissionApiGateway"
                    ]
                  },
                  "ApiGatewayMethodUsersSpotifySpotifyuseridVarGet": {
                    "Type": "AWS::ApiGateway::Method",
                    "Properties": {
                      "HttpMethod": "GET",
                      "RequestParameters": {},
                      "ResourceId": {
                        "Ref": "ApiGatewayResourceUsersSpotifySpotifyuseridVar"
                      },
                      "RestApiId": {
                        "Ref": "ApiGatewayRestApi"
                      },
                      "ApiKeyRequired": "<REDACTED>",
                      "AuthorizationType": "NONE",
                      "Integration": {
                        "IntegrationHttpMethod": "POST",
                        "Type": "AWS_PROXY",
                        "Uri": {
                          "Fn::Join": [
                            "",
                            [
                              "arn:",
                              {
                                "Ref": "AWS::Partition"
                              },
                              ":apigateway:",
                              {
                                "Ref": "AWS::Region"
                              },
                              ":lambda:path/2015-03-31/functions/",
                              {
                                "Fn::GetAtt": [
                                  "GetUserLambdaFunction",
                                  "Arn"
                                ]
                              },
                              "/invocations"
                            ]
                          ]
                        }
                      },
                      "MethodResponses": []
                    },
                    "DependsOn": [
                      "GetUserLambdaPermissionApiGateway"
                    ]
                  },
                  "ApiGatewayMethodUsersUseridVarPut": {
                    "Type": "AWS::ApiGateway::Method",
                    "Properties": {
                      "HttpMethod": "PUT",
                      "RequestParameters": {},
                      "ResourceId": {
                        "Ref": "ApiGatewayResourceUsersUseridVar"
                      },
                      "RestApiId": {
                        "Ref": "ApiGatewayRestApi"
                      },
                      "ApiKeyRequired": "<REDACTED>",
                      "AuthorizationType": "NONE",
                      "Integration": {
                        "IntegrationHttpMethod": "POST",
                        "Type": "AWS_PROXY",
                        "Uri": {
                          "Fn::Join": [
                            "",
                            [
                              "arn:",
                              {
                                "Ref": "AWS::Partition"
                              },
                              ":apigateway:",
                              {
                                "Ref": "AWS::Region"
                              },
                              ":lambda:path/2015-03-31/functions/",
                              {
                                "Fn::GetAtt": [
                                  "UpdateUserLambdaFunction",
                                  "Arn"
                                ]
                              },
                              "/invocations"
                            ]
                          ]
                        }
                      },
                      "MethodResponses": []
                    },
                    "DependsOn": [
                      "UpdateUserLambdaPermissionApiGateway"
                    ]
                  },
                  "ApiGatewayMethodUsersUseridVarDelete": {
                    "Type": "AWS::ApiGateway::Method",
                    "Properties": {
                      "HttpMethod": "DELETE",
                      "RequestParameters": {},
                      "ResourceId": {
                        "Ref": "ApiGatewayResourceUsersUseridVar"
                      },
                      "RestApiId": {
                        "Ref": "ApiGatewayRestApi"
                      },
                      "ApiKeyRequired": "<REDACTED>",
                      "AuthorizationType": "NONE",
                      "Integration": {
                        "IntegrationHttpMethod": "POST",
                        "Type": "AWS_PROXY",
                        "Uri": {
                          "Fn::Join": [
                            "",
                            [
                              "arn:",
                              {
                                "Ref": "AWS::Partition"
                              },
                              ":apigateway:",
                              {
                                "Ref": "AWS::Region"
                              },
                              ":lambda:path/2015-03-31/functions/",
                              {
                                "Fn::GetAtt": [
                                  "DeleteUserLambdaFunction",
                                  "Arn"
                                ]
                              },
                              "/invocations"
                            ]
                          ]
                        }
                      },
                      "MethodResponses": []
                    },
                    "DependsOn": [
                      "DeleteUserLambdaPermissionApiGateway"
                    ]
                  },
                  "ApiGatewayMethodMemoriesPost": {
                    "Type": "AWS::ApiGateway::Method",
                    "Properties": {
                      "HttpMethod": "POST",
                      "RequestParameters": {},
                      "ResourceId": {
                        "Ref": "ApiGatewayResourceMemories"
                      },
                      "RestApiId": {
                        "Ref": "ApiGatewayRestApi"
                      },
                      "ApiKeyRequired": "<REDACTED>",
                      "AuthorizationType": "NONE",
                      "Integration": {
                        "IntegrationHttpMethod": "POST",
                        "Type": "AWS_PROXY",
                        "Uri": {
                          "Fn::Join": [
                            "",
                            [
                              "arn:",
                              {
                                "Ref": "AWS::Partition"
                              },
                              ":apigateway:",
                              {
                                "Ref": "AWS::Region"
                              },
                              ":lambda:path/2015-03-31/functions/",
                              {
                                "Fn::GetAtt": [
                                  "CreateMemoryLambdaFunction",
                                  "Arn"
                                ]
                              },
                              "/invocations"
                            ]
                          ]
                        }
                      },
                      "MethodResponses": []
                    },
                    "DependsOn": [
                      "CreateMemoryLambdaPermissionApiGateway"
                    ]
                  },
                  "ApiGatewayMethodMemoriesUseridVarMemoryidVarGet": {
                    "Type": "AWS::ApiGateway::Method",
                    "Properties": {
                      "HttpMethod": "GET",
                      "RequestParameters": {},
                      "ResourceId": {
                        "Ref": "ApiGatewayResourceMemoriesUseridVarMemoryidVar"
                      },
                      "RestApiId": {
                        "Ref": "ApiGatewayRestApi"
                      },
                      "ApiKeyRequired": "<REDACTED>",
                      "AuthorizationType": "NONE",
                      "Integration": {
                        "IntegrationHttpMethod": "POST",
                        "Type": "AWS_PROXY",
                        "Uri": {
                          "Fn::Join": [
                            "",
                            [
                              "arn:",
                              {
                                "Ref": "AWS::Partition"
                              },
                              ":apigateway:",
                              {
                                "Ref": "AWS::Region"
                              },
                              ":lambda:path/2015-03-31/functions/",
                              {
                                "Fn::GetAtt": [
                                  "GetMemoryLambdaFunction",
                                  "Arn"
                                ]
                              },
                              "/invocations"
                            ]
                          ]
                        }
                      },
                      "MethodResponses": []
                    },
                    "DependsOn": [
                      "GetMemoryLambdaPermissionApiGateway"
                    ]
                  },
                  "ApiGatewayMethodMemoriesUseridVarMemoryidVarPut": {
                    "Type": "AWS::ApiGateway::Method",
                    "Properties": {
                      "HttpMethod": "PUT",
                      "RequestParameters": {},
                      "ResourceId": {
                        "Ref": "ApiGatewayResourceMemoriesUseridVarMemoryidVar"
                      },
                      "RestApiId": {
                        "Ref": "ApiGatewayRestApi"
                      },
                      "ApiKeyRequired": "<REDACTED>",
                      "AuthorizationType": "NONE",
                      "Integration": {
                        "IntegrationHttpMethod": "POST",
                        "Type": "AWS_PROXY",
                        "Uri": {
                          "Fn::Join": [
                            "",
                            [
                              "arn:",
                              {
                                "Ref": "AWS::Partition"
                              },
                              ":apigateway:",
                              {
                                "Ref": "AWS::Region"
                              },
                              ":lambda:path/2015-03-31/functions/",
                              {
                                "Fn::GetAtt": [
                                  "UpdateMemoryLambdaFunction",
                                  "Arn"
                                ]
                              },
                              "/invocations"
                            ]
                          ]
                        }
                      },
                      "MethodResponses": []
                    },
                    "DependsOn": [
                      "UpdateMemoryLambdaPermissionApiGateway"
                    ]
                  },
                  "ApiGatewayMethodMemoriesUseridVarMemoryidVarDelete": {
                    "Type": "AWS::ApiGateway::Method",
                    "Properties": {
                      "HttpMethod": "DELETE",
                      "RequestParameters": {},
                      "ResourceId": {
                        "Ref": "ApiGatewayResourceMemoriesUseridVarMemoryidVar"
                      },
                      "RestApiId": {
                        "Ref": "ApiGatewayRestApi"
                      },
                      "ApiKeyRequired": "<REDACTED>",
                      "AuthorizationType": "NONE",
                      "Integration": {
                        "IntegrationHttpMethod": "POST",
                        "Type": "AWS_PROXY",
                        "Uri": {
                          "Fn::Join": [
                            "",
                            [
                              "arn:",
                              {
                                "Ref": "AWS::Partition"
                              },
                              ":apigateway:",
                              {
                                "Ref": "AWS::Region"
                              },
                              ":lambda:path/2015-03-31/functions/",
                              {
                                "Fn::GetAtt": [
                                  "DeleteMemoryLambdaFunction",
                                  "Arn"
                                ]
                              },
                              "/invocations"
                            ]
                          ]
                        }
                      },
                      "MethodResponses": []
                    },
                    "DependsOn": [
                      "DeleteMemoryLambdaPermissionApiGateway"
                    ]
                  },
                  "ApiGatewayMethodMemoriesUseridVarGet": {
                    "Type": "AWS::ApiGateway::Method",
                    "Properties": {
                      "HttpMethod": "GET",
                      "RequestParameters": {},
                      "ResourceId": {
                        "Ref": "ApiGatewayResourceMemoriesUseridVar"
                      },
                      "RestApiId": {
                        "Ref": "ApiGatewayRestApi"
                      },
                      "ApiKeyRequired": "<REDACTED>",
                      "AuthorizationType": "NONE",
                      "Integration": {
                        "IntegrationHttpMethod": "POST",
                        "Type": "AWS_PROXY",
                        "Uri": {
                          "Fn::Join": [
                            "",
                            [
                              "arn:",
                              {
                                "Ref": "AWS::Partition"
                              },
                              ":apigateway:",
                              {
                                "Ref": "AWS::Region"
                              },
                              ":lambda:path/2015-03-31/functions/",
                              {
                                "Fn::GetAtt": [
                                  "ListMemoriesLambdaFunction",
                                  "Arn"
                                ]
                              },
                              "/invocations"
                            ]
                          ]
                        }
                      },
                      "MethodResponses": []
                    },
                    "DependsOn": [
                      "ListMemoriesLambdaPermissionApiGateway"
                    ]
                  },
                  "ApiGatewayMethodSpotifyTracksTopUseridVarGet": {
                    "Type": "AWS::ApiGateway::Method",
                    "Properties": {
                      "HttpMethod": "GET",
                      "RequestParameters": {},
                      "ResourceId": {
                        "Ref": "ApiGatewayResourceSpotifyTracksTopUseridVar"
                      },
                      "RestApiId": {
                        "Ref": "ApiGatewayRestApi"
                      },
                      "ApiKeyRequired": "<REDACTED>",
                      "AuthorizationType": "NONE",
                      "Integration": {
                        "IntegrationHttpMethod": "POST",
                        "Type": "AWS_PROXY",
                        "Uri": {
                          "Fn::Join": [
                            "",
                            [
                              "arn:",
                              {
                                "Ref": "AWS::Partition"
                              },
                              ":apigateway:",
                              {
                                "Ref": "AWS::Region"
                              },
                              ":lambda:path/2015-03-31/functions/",
                              {
                                "Fn::GetAtt": [
                                  "GetTopTracksLambdaFunction",
                                  "Arn"
                                ]
                              },
                              "/invocations"
                            ]
                          ]
                        }
                      },
                      "MethodResponses": []
                    },
                    "DependsOn": [
                      "GetTopTracksLambdaPermissionApiGateway"
                    ]
                  },
                  "ApiGatewayDeployment1727560454908": {
                    "Type": "AWS::ApiGateway::Deployment",
                    "Properties": {
                      "RestApiId": {
                        "Ref": "ApiGatewayRestApi"
                      },
                      "StageName": "dev"
                    },
                    "DependsOn": [
                      "ApiGatewayMethodAuthLoginOptions",
                      "ApiGatewayMethodCallbackOptions",
                      "ApiGatewayMethodExchangespotifytokenOptions",
                      "ApiGatewayMethodRefreshspotifytokenOptions",
                      "ApiGatewayMethodValidatespotifytokenUseridVarOptions",
                      "ApiGatewayMethodUsersOptions",
                      "ApiGatewayMethodUsersUseridVarOptions",
                      "ApiGatewayMethodUsersSpotifySpotifyuseridVarOptions",
                      "ApiGatewayMethodMemoriesOptions",
                      "ApiGatewayMethodMemoriesUseridVarMemoryidVarOptions",
                      "ApiGatewayMethodMemoriesUseridVarOptions",
                      "ApiGatewayMethodSpotifyTracksTopUseridVarOptions",
                      "ApiGatewayMethodAuthLoginGet",
                      "ApiGatewayMethodCallbackGet",
                      "ApiGatewayMethodExchangespotifytokenPost",
                      "ApiGatewayMethodRefreshspotifytokenPost",
                      "ApiGatewayMethodValidatespotifytokenUseridVarPost",
                      "ApiGatewayMethodUsersPost",
                      "ApiGatewayMethodUsersUseridVarGet",
                      "ApiGatewayMethodUsersSpotifySpotifyuseridVarGet",
                      "ApiGatewayMethodUsersUseridVarPut",
                      "ApiGatewayMethodUsersUseridVarDelete",
                      "ApiGatewayMethodMemoriesPost",
                      "ApiGatewayMethodMemoriesUseridVarMemoryidVarGet",
                      "ApiGatewayMethodMemoriesUseridVarMemoryidVarPut",
                      "ApiGatewayMethodMemoriesUseridVarMemoryidVarDelete",
                      "ApiGatewayMethodMemoriesUseridVarGet",
                      "ApiGatewayMethodSpotifyTracksTopUseridVarGet"
                    ]
                  },
                  "SpotifyAuthLambdaPermissionApiGateway": {
                    "Type": "AWS::Lambda::Permission",
                    "Properties": {
                      "FunctionName": {
                        "Fn::GetAtt": [
                          "SpotifyAuthLambdaFunction",
                          "Arn"
                        ]
                      },
                      "Action": "lambda:InvokeFunction",
                      "Principal": "apigateway.amazonaws.com",
                      "SourceArn": {
                        "Fn::Join": [
                          "",
                          [
                            "arn:",
                            {
                              "Ref": "AWS::Partition"
                            },
                            ":execute-api:",
                            {
                              "Ref": "AWS::Region"
                            },
                            ":",
                            {
                              "Ref": "AWS::AccountId"
                            },
                            ":",
                            {
                              "Ref": "ApiGatewayRestApi"
                            },
                            "/*/*"
                          ]
                        ]
                      }
                    }
                  },
                  "SpotifyCallbackLambdaPermissionApiGateway": {
                    "Type": "AWS::Lambda::Permission",
                    "Properties": {
                      "FunctionName": {
                        "Fn::GetAtt": [
                          "SpotifyCallbackLambdaFunction",
                          "Arn"
                        ]
                      },
                      "Action": "lambda:InvokeFunction",
                      "Principal": "apigateway.amazonaws.com",
                      "SourceArn": {
                        "Fn::Join": [
                          "",
                          [
                            "arn:",
                            {
                              "Ref": "AWS::Partition"
                            },
                            ":execute-api:",
                            {
                              "Ref": "AWS::Region"
                            },
                            ":",
                            {
                              "Ref": "AWS::AccountId"
                            },
                            ":",
                            {
                              "Ref": "ApiGatewayRestApi"
                            },
                            "/*/*"
                          ]
                        ]
                      }
                    }
                  },
                  "ExchangeSpotifyTokenLambdaPermissionApiGateway": "<REDACTED>",
                  "RefreshSpotifyTokenLambdaPermissionApiGateway": "<REDACTED>",
                  "ValidateSpotifyTokenLambdaPermissionApiGateway": "<REDACTED>",
                  "CreateUserLambdaPermissionApiGateway": {
                    "Type": "AWS::Lambda::Permission",
                    "Properties": {
                      "FunctionName": {
                        "Fn::GetAtt": [
                          "CreateUserLambdaFunction",
                          "Arn"
                        ]
                      },
                      "Action": "lambda:InvokeFunction",
                      "Principal": "apigateway.amazonaws.com",
                      "SourceArn": {
                        "Fn::Join": [
                          "",
                          [
                            "arn:",
                            {
                              "Ref": "AWS::Partition"
                            },
                            ":execute-api:",
                            {
                              "Ref": "AWS::Region"
                            },
                            ":",
                            {
                              "Ref": "AWS::AccountId"
                            },
                            ":",
                            {
                              "Ref": "ApiGatewayRestApi"
                            },
                            "/*/*"
                          ]
                        ]
                      }
                    }
                  },
                  "GetUserLambdaPermissionApiGateway": {
                    "Type": "AWS::Lambda::Permission",
                    "Properties": {
                      "FunctionName": {
                        "Fn::GetAtt": [
                          "GetUserLambdaFunction",
                          "Arn"
                        ]
                      },
                      "Action": "lambda:InvokeFunction",
                      "Principal": "apigateway.amazonaws.com",
                      "SourceArn": {
                        "Fn::Join": [
                          "",
                          [
                            "arn:",
                            {
                              "Ref": "AWS::Partition"
                            },
                            ":execute-api:",
                            {
                              "Ref": "AWS::Region"
                            },
                            ":",
                            {
                              "Ref": "AWS::AccountId"
                            },
                            ":",
                            {
                              "Ref": "ApiGatewayRestApi"
                            },
                            "/*/*"
                          ]
                        ]
                      }
                    }
                  },
                  "UpdateUserLambdaPermissionApiGateway": {
                    "Type": "AWS::Lambda::Permission",
                    "Properties": {
                      "FunctionName": {
                        "Fn::GetAtt": [
                          "UpdateUserLambdaFunction",
                          "Arn"
                        ]
                      },
                      "Action": "lambda:InvokeFunction",
                      "Principal": "apigateway.amazonaws.com",
                      "SourceArn": {
                        "Fn::Join": [
                          "",
                          [
                            "arn:",
                            {
                              "Ref": "AWS::Partition"
                            },
                            ":execute-api:",
                            {
                              "Ref": "AWS::Region"
                            },
                            ":",
                            {
                              "Ref": "AWS::AccountId"
                            },
                            ":",
                            {
                              "Ref": "ApiGatewayRestApi"
                            },
                            "/*/*"
                          ]
                        ]
                      }
                    }
                  },
                  "DeleteUserLambdaPermissionApiGateway": {
                    "Type": "AWS::Lambda::Permission",
                    "Properties": {
                      "FunctionName": {
                        "Fn::GetAtt": [
                          "DeleteUserLambdaFunction",
                          "Arn"
                        ]
                      },
                      "Action": "lambda:InvokeFunction",
                      "Principal": "apigateway.amazonaws.com",
                      "SourceArn": {
                        "Fn::Join": [
                          "",
                          [
                            "arn:",
                            {
                              "Ref": "AWS::Partition"
                            },
                            ":execute-api:",
                            {
                              "Ref": "AWS::Region"
                            },
                            ":",
                            {
                              "Ref": "AWS::AccountId"
                            },
                            ":",
                            {
                              "Ref": "ApiGatewayRestApi"
                            },
                            "/*/*"
                          ]
                        ]
                      }
                    }
                  },
                  "CreateMemoryLambdaPermissionApiGateway": {
                    "Type": "AWS::Lambda::Permission",
                    "Properties": {
                      "FunctionName": {
                        "Fn::GetAtt": [
                          "CreateMemoryLambdaFunction",
                          "Arn"
                        ]
                      },
                      "Action": "lambda:InvokeFunction",
                      "Principal": "apigateway.amazonaws.com",
                      "SourceArn": {
                        "Fn::Join": [
                          "",
                          [
                            "arn:",
                            {
                              "Ref": "AWS::Partition"
                            },
                            ":execute-api:",
                            {
                              "Ref": "AWS::Region"
                            },
                            ":",
                            {
                              "Ref": "AWS::AccountId"
                            },
                            ":",
                            {
                              "Ref": "ApiGatewayRestApi"
                            },
                            "/*/*"
                          ]
                        ]
                      }
                    }
                  },
                  "GetMemoryLambdaPermissionApiGateway": {
                    "Type": "AWS::Lambda::Permission",
                    "Properties": {
                      "FunctionName": {
                        "Fn::GetAtt": [
                          "GetMemoryLambdaFunction",
                          "Arn"
                        ]
                      },
                      "Action": "lambda:InvokeFunction",
                      "Principal": "apigateway.amazonaws.com",
                      "SourceArn": {
                        "Fn::Join": [
                          "",
                          [
                            "arn:",
                            {
                              "Ref": "AWS::Partition"
                            },
                            ":execute-api:",
                            {
                              "Ref": "AWS::Region"
                            },
                            ":",
                            {
                              "Ref": "AWS::AccountId"
                            },
                            ":",
                            {
                              "Ref": "ApiGatewayRestApi"
                            },
                            "/*/*"
                          ]
                        ]
                      }
                    }
                  },
                  "UpdateMemoryLambdaPermissionApiGateway": {
                    "Type": "AWS::Lambda::Permission",
                    "Properties": {
                      "FunctionName": {
                        "Fn::GetAtt": [
                          "UpdateMemoryLambdaFunction",
                          "Arn"
                        ]
                      },
                      "Action": "lambda:InvokeFunction",
                      "Principal": "apigateway.amazonaws.com",
                      "SourceArn": {
                        "Fn::Join": [
                          "",
                          [
                            "arn:",
                            {
                              "Ref": "AWS::Partition"
                            },
                            ":execute-api:",
                            {
                              "Ref": "AWS::Region"
                            },
                            ":",
                            {
                              "Ref": "AWS::AccountId"
                            },
                            ":",
                            {
                              "Ref": "ApiGatewayRestApi"
                            },
                            "/*/*"
                          ]
                        ]
                      }
                    }
                  },
                  "DeleteMemoryLambdaPermissionApiGateway": {
                    "Type": "AWS::Lambda::Permission",
                    "Properties": {
                      "FunctionName": {
                        "Fn::GetAtt": [
                          "DeleteMemoryLambdaFunction",
                          "Arn"
                        ]
                      },
                      "Action": "lambda:InvokeFunction",
                      "Principal": "apigateway.amazonaws.com",
                      "SourceArn": {
                        "Fn::Join": [
                          "",
                          [
                            "arn:",
                            {
                              "Ref": "AWS::Partition"
                            },
                            ":execute-api:",
                            {
                              "Ref": "AWS::Region"
                            },
                            ":",
                            {
                              "Ref": "AWS::AccountId"
                            },
                            ":",
                            {
                              "Ref": "ApiGatewayRestApi"
                            },
                            "/*/*"
                          ]
                        ]
                      }
                    }
                  },
                  "ListMemoriesLambdaPermissionApiGateway": {
                    "Type": "AWS::Lambda::Permission",
                    "Properties": {
                      "FunctionName": {
                        "Fn::GetAtt": [
                          "ListMemoriesLambdaFunction",
                          "Arn"
                        ]
                      },
                      "Action": "lambda:InvokeFunction",
                      "Principal": "apigateway.amazonaws.com",
                      "SourceArn": {
                        "Fn::Join": [
                          "",
                          [
                            "arn:",
                            {
                              "Ref": "AWS::Partition"
                            },
                            ":execute-api:",
                            {
                              "Ref": "AWS::Region"
                            },
                            ":",
                            {
                              "Ref": "AWS::AccountId"
                            },
                            ":",
                            {
                              "Ref": "ApiGatewayRestApi"
                            },
                            "/*/*"
                          ]
                        ]
                      }
                    }
                  },
                  "GetTopTracksLambdaPermissionApiGateway": {
                    "Type": "AWS::Lambda::Permission",
                    "Properties": {
                      "FunctionName": {
                        "Fn::GetAtt": [
                          "GetTopTracksLambdaFunction",
                          "Arn"
                        ]
                      },
                      "Action": "lambda:InvokeFunction",
                      "Principal": "apigateway.amazonaws.com",
                      "SourceArn": {
                        "Fn::Join": [
                          "",
                          [
                            "arn:",
                            {
                              "Ref": "AWS::Partition"
                            },
                            ":execute-api:",
                            {
                              "Ref": "AWS::Region"
                            },
                            ":",
                            {
                              "Ref": "AWS::AccountId"
                            },
                            ":",
                            {
                              "Ref": "ApiGatewayRestApi"
                            },
                            "/*/*"
                          ]
                        ]
                      }
                    }
                  },
                  "StreamMemoryUpdatesEventSourceMappingDynamodbMemoriesTable": {
                    "Type": "AWS::Lambda::EventSourceMapping",
                    "DependsOn": [
                      "IamRoleLambdaExecution"
                    ],
                    "Properties": {
                      "BatchSize": 10,
                      "Enabled": true,
                      "EventSourceArn": {
                        "Fn::GetAtt": [
                          "MemoriesTable",
                          "StreamArn"
                        ]
                      },
                      "FunctionName": {
                        "Fn::GetAtt": [
                          "StreamMemoryUpdatesLambdaFunction",
                          "Arn"
                        ]
                      },
                      "StartingPosition": "TRIM_HORIZON"
                    }
                  },
                  "AuthSessionData": {
                    "Type": "AWS::DynamoDB::Table",
                    "Properties": {
                      "TableName": "AuthSessionData",
                      "AttributeDefinitions": [
                        {
                          "AttributeName": "UserId",
                          "AttributeType": "S"
                        }
                      ],
                      "KeySchema": [
                        {
                          "AttributeName": "UserId",
                          "KeyType": "HASH"
                        }
                      ],
                      "BillingMode": "PAY_PER_REQUEST",
                      "TimeToLiveSpecification": {
                        "AttributeName": "ExpiresAt",
                        "Enabled": true
                      }
                    }
                  },
                  "UsersTable": {
                    "Type": "AWS::DynamoDB::Table",
                    "Properties": {
                      "TableName": "Users",
                      "AttributeDefinitions": [
                        {
                          "AttributeName": "UserId",
                          "AttributeType": "S"
                        },
                        {
                          "AttributeName": "SpotifyUserId",
                          "AttributeType": "S"
                        }
                      ],
                      "KeySchema": [
                        {
                          "AttributeName": "UserId",
                          "KeyType": "HASH"
                        }
                      ],
                      "GlobalSecondaryIndexes": [
                        {
                          "IndexName": "SpotifyUserIdIndex",
                          "KeySchema": [
                            {
                              "AttributeName": "SpotifyUserId",
                              "KeyType": "HASH"
                            }
                          ],
                          "Projection": {
                            "ProjectionType": "ALL"
                          }
                        }
                      ],
                      "BillingMode": "PAY_PER_REQUEST",
                      "StreamSpecification": {
                        "StreamViewType": "NEW_AND_OLD_IMAGES"
                      }
                    }
                  },
                  "MemoriesTable": {
                    "Type": "AWS::DynamoDB::Table",
                    "Properties": {
                      "TableName": "Memories",
                      "AttributeDefinitions": [
                        {
                          "AttributeName": "UserId",
                          "AttributeType": "S"
                        },
                        {
                          "AttributeName": "MemoryId",
                          "AttributeType": "S"
                        }
                      ],
                      "KeySchema": [
                        {
                          "AttributeName": "UserId",
                          "KeyType": "HASH"
                        },
                        {
                          "AttributeName": "MemoryId",
                          "KeyType": "RANGE"
                        }
                      ],
                      "BillingMode": "PAY_PER_REQUEST",
                      "StreamSpecification": {
                        "StreamViewType": "NEW_AND_OLD_IMAGES"
                      }
                    }
                  }
                },
                "Outputs": {
                  "ServerlessDeploymentBucketName": {
                    "Value": "serverless-framework-deployments-us-east-1-55cebd6e-28d6",
                    "Export": {
                      "Name": "sls-nostalgio-backend-dev-ServerlessDeploymentBucketName"
                    }
                  },
                  "SpotifyAuthLambdaFunctionQualifiedArn": {
                    "Description": "Current Lambda function version",
                    "Value": {
                      "Ref": "SpotifyAuthLambdaVersiontPVw1jw6Aad7GcKwIlpemFCqIaCScnAITl3ct4KZJI"
                    },
                    "Export": {
                      "Name": "sls-nostalgio-backend-dev-SpotifyAuthLambdaFunctionQualifiedArn"
                    }
                  },
                  "ValidateSpotifyTokenLambdaFunctionQualifiedArn": "<REDACTED>",
                  "ExchangeSpotifyTokenLambdaFunctionQualifiedArn": "<REDACTED>",
                  "UpdateUserLambdaFunctionQualifiedArn": {
                    "Description": "Current Lambda function version",
                    "Value": {
                      "Ref": "UpdateUserLambdaVersionFrQkQgMdoj08bEB3fIzaN9z59gjE5Xea9cTEHVgLlI"
                    },
                    "Export": {
                      "Name": "sls-nostalgio-backend-dev-UpdateUserLambdaFunctionQualifiedArn"
                    }
                  },
                  "SpotifyCallbackLambdaFunctionQualifiedArn": {
                    "Description": "Current Lambda function version",
                    "Value": {
                      "Ref": "SpotifyCallbackLambdaVersionHcwq496FnTX493Oq4vfTdlqrRP8N1zvi7YpHJ9IT2MM"
                    },
                    "Export": {
                      "Name": "sls-nostalgio-backend-dev-SpotifyCallbackLambdaFunctionQualifiedArn"
                    }
                  },
                  "GetUserLambdaFunctionQualifiedArn": {
                    "Description": "Current Lambda function version",
                    "Value": {
                      "Ref": "GetUserLambdaVersionDwz0xJGw46JR9RJ0XK93zJaYjpIdmmmDQy8Zekxc"
                    },
                    "Export": {
                      "Name": "sls-nostalgio-backend-dev-GetUserLambdaFunctionQualifiedArn"
                    }
                  },
                  "CreateUserLambdaFunctionQualifiedArn": {
                    "Description": "Current Lambda function version",
                    "Value": {
                      "Ref": "CreateUserLambdaVersionsLF1EE4pnRkmumF2DuBOPrl2ncWgnikHBKghcukcY"
                    },
                    "Export": {
                      "Name": "sls-nostalgio-backend-dev-CreateUserLambdaFunctionQualifiedArn"
                    }
                  },
                  "RefreshSpotifyTokenLambdaFunctionQualifiedArn": "<REDACTED>",
                  "DeleteUserLambdaFunctionQualifiedArn": {
                    "Description": "Current Lambda function version",
                    "Value": {
                      "Ref": "DeleteUserLambdaVersionfmmH52E282Q7f76Callujj6vTerG8qe8enOC65o"
                    },
                    "Export": {
                      "Name": "sls-nostalgio-backend-dev-DeleteUserLambdaFunctionQualifiedArn"
                    }
                  },
                  "CreateMemoryLambdaFunctionQualifiedArn": {
                    "Description": "Current Lambda function version",
                    "Value": {
                      "Ref": "CreateMemoryLambdaVersionokDKpGGXuW2mpWPVyeVJ36htBtjmkk3BaEoiz8ds"
                    },
                    "Export": {
                      "Name": "sls-nostalgio-backend-dev-CreateMemoryLambdaFunctionQualifiedArn"
                    }
                  },
                  "UpdateMemoryLambdaFunctionQualifiedArn": {
                    "Description": "Current Lambda function version",
                    "Value": {
                      "Ref": "UpdateMemoryLambdaVersionRacKmRvFJEeFd7F21R8BHYK7dnDN2aN69iVOlSMRQc"
                    },
                    "Export": {
                      "Name": "sls-nostalgio-backend-dev-UpdateMemoryLambdaFunctionQualifiedArn"
                    }
                  },
                  "ListMemoriesLambdaFunctionQualifiedArn": {
                    "Description": "Current Lambda function version",
                    "Value": {
                      "Ref": "ListMemoriesLambdaVersionZei8fgbvJAKnhQRvNCoUNHg2IEK3KW16rdfA0cMRM"
                    },
                    "Export": {
                      "Name": "sls-nostalgio-backend-dev-ListMemoriesLambdaFunctionQualifiedArn"
                    }
                  },
                  "StreamMemoryUpdatesLambdaFunctionQualifiedArn": {
                    "Description": "Current Lambda function version",
                    "Value": {
                      "Ref": "StreamMemoryUpdatesLambdaVersionlbDkfvE4o4xulVdClHlWRmN9YhSH98gMnYkP1Z57veE"
                    },
                    "Export": {
                      "Name": "sls-nostalgio-backend-dev-StreamMemoryUpdatesLambdaFunctionQualifiedArn"
                    }
                  },
                  "DeleteMemoryLambdaFunctionQualifiedArn": {
                    "Description": "Current Lambda function version",
                    "Value": {
                      "Ref": "DeleteMemoryLambdaVersion2UrMfz0smOQVM2fCOpE32ahiZHqi7YUJH4fx918oY"
                    },
                    "Export": {
                      "Name": "sls-nostalgio-backend-dev-DeleteMemoryLambdaFunctionQualifiedArn"
                    }
                  },
                  "GetTopTracksLambdaFunctionQualifiedArn": {
                    "Description": "Current Lambda function version",
                    "Value": {
                      "Ref": "GetTopTracksLambdaVersion72SznfM9ZnOREILfCYeAqxbsHEnx5fntkZUB3SZS84"
                    },
                    "Export": {
                      "Name": "sls-nostalgio-backend-dev-GetTopTracksLambdaFunctionQualifiedArn"
                    }
                  },
                  "GetMemoryLambdaFunctionQualifiedArn": {
                    "Description": "Current Lambda function version",
                    "Value": {
                      "Ref": "GetMemoryLambdaVersionkYIdneML5V5faoCn7Ymh96ZRIQbD3ymhtXJ0RxXWZ4"
                    },
                    "Export": {
                      "Name": "sls-nostalgio-backend-dev-GetMemoryLambdaFunctionQualifiedArn"
                    }
                  },
                  "ServiceEndpoint": {
                    "Description": "URL of the service endpoint",
                    "Value": {
                      "Fn::Join": [
                        "",
                        [
                          "https://",
                          {
                            "Ref": "ApiGatewayRestApi"
                          },
                          ".execute-api.",
                          {
                            "Ref": "AWS::Region"
                          },
                          ".",
                          {
                            "Ref": "AWS::URLSuffix"
                          },
                          "/dev"
                        ]
                      ]
                    },
                    "Export": {
                      "Name": "sls-nostalgio-backend-dev-ServiceEndpoint"
                    }
                  }
                }
              },
              "vpc": {}
            },
            "package": {
              "individually": true,
              "artifactsS3KeyDirname": "serverless/nostalgio-backend/dev/code-artifacts",
              "deploymentBucket": "serverless-framework-deployments-us-east-1-55cebd6e-28d6",
              "artifactDirectoryName": "serverless/nostalgio-backend/dev/1727560476305-2024-09-28T21:54:36.305Z"
            },
            "plugins": [
              "serverless-offline"
            ],
            "functions": {
              "spotifyAuth": {
                "handler": "src/auth/spotify/spotifyAuthHandler.spotifyAuthHandler",
                "events": [
                  {
                    "http": {
                      "path": "auth/login",
                      "method": "get",
                      "cors": {
                        "origin": "*",
                        "methods": [
                          "OPTIONS",
                          "GET"
                        ],
                        "headers": [
                          "Content-Type",
                          "X-Amz-Date",
                          "Authorization",
                          "X-Api-Key",
                          "X-Amz-Security-Token",
                          "X-Amz-User-Agent",
                          "X-Amzn-Trace-Id"
                        ],
                        "allowCredentials": "<REDACTED>"
                      },
                      "integration": "AWS_PROXY"
                    }
                  }
                ],
                "name": "nostalgio-backend-dev-spotifyAuth",
                "package": {
                  "artifact": "/Users/andresgarcia/Desktop/ACM_Projects/Nostalgio/server/.serverless/spotifyAuth.zip"
                },
                "memory": 1024,
                "timeout": 6,
                "runtime": "nodejs18.x",
                "vpc": {},
                "versionLogicalId": "SpotifyAuthLambdaVersiontPVw1jw6Aad7GcKwIlpemFCqIaCScnAITl3ct4KZJI"
              },
              "spotifyCallback": {
                "handler": "src/auth/spotify/spotifyCallbackHandler.spotifyCallbackHandler",
                "events": [
                  {
                    "http": {
                      "path": "callback",
                      "method": "get",
                      "cors": {
                        "origin": "*",
                        "methods": [
                          "OPTIONS",
                          "GET"
                        ],
                        "headers": [
                          "Content-Type",
                          "X-Amz-Date",
                          "Authorization",
                          "X-Api-Key",
                          "X-Amz-Security-Token",
                          "X-Amz-User-Agent",
                          "X-Amzn-Trace-Id"
                        ],
                        "allowCredentials": "<REDACTED>"
                      },
                      "integration": "AWS_PROXY"
                    }
                  }
                ],
                "name": "nostalgio-backend-dev-spotifyCallback",
                "package": {
                  "artifact": "/Users/andresgarcia/Desktop/ACM_Projects/Nostalgio/server/.serverless/spotifyCallback.zip"
                },
                "memory": 1024,
                "timeout": 6,
                "runtime": "nodejs18.x",
                "vpc": {},
                "versionLogicalId": "SpotifyCallbackLambdaVersionHcwq496FnTX493Oq4vfTdlqrRP8N1zvi7YpHJ9IT2MM"
              },
              "exchangeSpotifyToken": "<REDACTED>",
              "refreshSpotifyToken": "<REDACTED>",
              "validateSpotifyToken": "<REDACTED>",
              "createUser": {
                "handler": "src/users/handlers/createUser.createUserHandler",
                "events": [
                  {
                    "http": {
                      "path": "users",
                      "method": "post",
                      "cors": {
                        "origin": "*",
                        "methods": [
                          "OPTIONS",
                          "POST"
                        ],
                        "headers": [
                          "Content-Type",
                          "X-Amz-Date",
                          "Authorization",
                          "X-Api-Key",
                          "X-Amz-Security-Token",
                          "X-Amz-User-Agent",
                          "X-Amzn-Trace-Id"
                        ],
                        "allowCredentials": "<REDACTED>"
                      },
                      "integration": "AWS_PROXY"
                    }
                  }
                ],
                "name": "nostalgio-backend-dev-createUser",
                "package": {
                  "artifact": "/Users/andresgarcia/Desktop/ACM_Projects/Nostalgio/server/.serverless/createUser.zip"
                },
                "memory": 1024,
                "timeout": 6,
                "runtime": "nodejs18.x",
                "vpc": {},
                "versionLogicalId": "CreateUserLambdaVersionsLF1EE4pnRkmumF2DuBOPrl2ncWgnikHBKghcukcY"
              },
              "getUser": {
                "handler": "src/users/handlers/getUser.getUserHandler",
                "events": [
                  {
                    "http": {
                      "path": "users/{userId}",
                      "method": "get",
                      "cors": {
                        "origin": "*",
                        "methods": [
                          "OPTIONS",
                          "GET"
                        ],
                        "headers": [
                          "Content-Type",
                          "X-Amz-Date",
                          "Authorization",
                          "X-Api-Key",
                          "X-Amz-Security-Token",
                          "X-Amz-User-Agent",
                          "X-Amzn-Trace-Id"
                        ],
                        "allowCredentials": "<REDACTED>"
                      },
                      "integration": "AWS_PROXY"
                    }
                  },
                  {
                    "http": {
                      "path": "users/spotify/{spotifyUserId}",
                      "method": "get",
                      "cors": {
                        "origin": "*",
                        "methods": [
                          "OPTIONS",
                          "GET"
                        ],
                        "headers": [
                          "Content-Type",
                          "X-Amz-Date",
                          "Authorization",
                          "X-Api-Key",
                          "X-Amz-Security-Token",
                          "X-Amz-User-Agent",
                          "X-Amzn-Trace-Id"
                        ],
                        "allowCredentials": "<REDACTED>"
                      },
                      "integration": "AWS_PROXY"
                    }
                  }
                ],
                "name": "nostalgio-backend-dev-getUser",
                "package": {
                  "artifact": "/Users/andresgarcia/Desktop/ACM_Projects/Nostalgio/server/.serverless/getUser.zip"
                },
                "memory": 1024,
                "timeout": 6,
                "runtime": "nodejs18.x",
                "vpc": {},
                "versionLogicalId": "GetUserLambdaVersionDwz0xJGw46JR9RJ0XK93zJaYjpIdmmmDQy8Zekxc"
              },
              "updateUser": {
                "handler": "src/users/handlers/updateUser.updateUserHandler",
                "events": [
                  {
                    "http": {
                      "path": "users/{userId}",
                      "method": "put",
                      "cors": {
                        "origin": "*",
                        "methods": [
                          "OPTIONS",
                          "PUT"
                        ],
                        "headers": [
                          "Content-Type",
                          "X-Amz-Date",
                          "Authorization",
                          "X-Api-Key",
                          "X-Amz-Security-Token",
                          "X-Amz-User-Agent",
                          "X-Amzn-Trace-Id"
                        ],
                        "allowCredentials": "<REDACTED>"
                      },
                      "integration": "AWS_PROXY"
                    }
                  }
                ],
                "name": "nostalgio-backend-dev-updateUser",
                "package": {
                  "artifact": "/Users/andresgarcia/Desktop/ACM_Projects/Nostalgio/server/.serverless/updateUser.zip"
                },
                "memory": 1024,
                "timeout": 6,
                "runtime": "nodejs18.x",
                "vpc": {},
                "versionLogicalId": "UpdateUserLambdaVersionFrQkQgMdoj08bEB3fIzaN9z59gjE5Xea9cTEHVgLlI"
              },
              "deleteUser": {
                "handler": "src/users/handlers/deleteUser.deleteUserHandler",
                "events": [
                  {
                    "http": {
                      "path": "users/{userId}",
                      "method": "delete",
                      "cors": {
                        "origin": "*",
                        "methods": [
                          "OPTIONS",
                          "DELETE"
                        ],
                        "headers": [
                          "Content-Type",
                          "X-Amz-Date",
                          "Authorization",
                          "X-Api-Key",
                          "X-Amz-Security-Token",
                          "X-Amz-User-Agent",
                          "X-Amzn-Trace-Id"
                        ],
                        "allowCredentials": "<REDACTED>"
                      },
                      "integration": "AWS_PROXY"
                    }
                  }
                ],
                "name": "nostalgio-backend-dev-deleteUser",
                "package": {
                  "artifact": "/Users/andresgarcia/Desktop/ACM_Projects/Nostalgio/server/.serverless/deleteUser.zip"
                },
                "memory": 1024,
                "timeout": 6,
                "runtime": "nodejs18.x",
                "vpc": {},
                "versionLogicalId": "DeleteUserLambdaVersionfmmH52E282Q7f76Callujj6vTerG8qe8enOC65o"
              },
              "createMemory": {
                "handler": "src/memories/handlers/createMemory.createMemoryHandler",
                "events": [
                  {
                    "http": {
                      "path": "memories",
                      "method": "post",
                      "cors": {
                        "origin": "*",
                        "methods": [
                          "OPTIONS",
                          "POST"
                        ],
                        "headers": [
                          "Content-Type",
                          "X-Amz-Date",
                          "Authorization",
                          "X-Api-Key",
                          "X-Amz-Security-Token",
                          "X-Amz-User-Agent",
                          "X-Amzn-Trace-Id"
                        ],
                        "allowCredentials": "<REDACTED>"
                      },
                      "integration": "AWS_PROXY"
                    }
                  }
                ],
                "name": "nostalgio-backend-dev-createMemory",
                "package": {
                  "artifact": "/Users/andresgarcia/Desktop/ACM_Projects/Nostalgio/server/.serverless/createMemory.zip"
                },
                "memory": 1024,
                "timeout": 6,
                "runtime": "nodejs18.x",
                "vpc": {},
                "versionLogicalId": "CreateMemoryLambdaVersionokDKpGGXuW2mpWPVyeVJ36htBtjmkk3BaEoiz8ds"
              },
              "getMemory": {
                "handler": "src/memories/handlers/getMemory.getMemoryHandler",
                "events": [
                  {
                    "http": {
                      "path": "memories/{userId}/{memoryId}",
                      "method": "get",
                      "cors": {
                        "origin": "*",
                        "methods": [
                          "OPTIONS",
                          "GET"
                        ],
                        "headers": [
                          "Content-Type",
                          "X-Amz-Date",
                          "Authorization",
                          "X-Api-Key",
                          "X-Amz-Security-Token",
                          "X-Amz-User-Agent",
                          "X-Amzn-Trace-Id"
                        ],
                        "allowCredentials": "<REDACTED>"
                      },
                      "integration": "AWS_PROXY"
                    }
                  }
                ],
                "name": "nostalgio-backend-dev-getMemory",
                "package": {
                  "artifact": "/Users/andresgarcia/Desktop/ACM_Projects/Nostalgio/server/.serverless/getMemory.zip"
                },
                "memory": 1024,
                "timeout": 6,
                "runtime": "nodejs18.x",
                "vpc": {},
                "versionLogicalId": "GetMemoryLambdaVersionkYIdneML5V5faoCn7Ymh96ZRIQbD3ymhtXJ0RxXWZ4"
              },
              "updateMemory": {
                "handler": "src/memories/handlers/updateMemory.updateMemoryHandler",
                "events": [
                  {
                    "http": {
                      "path": "memories/{userId}/{memoryId}",
                      "method": "put",
                      "cors": {
                        "origin": "*",
                        "methods": [
                          "OPTIONS",
                          "PUT"
                        ],
                        "headers": [
                          "Content-Type",
                          "X-Amz-Date",
                          "Authorization",
                          "X-Api-Key",
                          "X-Amz-Security-Token",
                          "X-Amz-User-Agent",
                          "X-Amzn-Trace-Id"
                        ],
                        "allowCredentials": "<REDACTED>"
                      },
                      "integration": "AWS_PROXY"
                    }
                  }
                ],
                "name": "nostalgio-backend-dev-updateMemory",
                "package": {
                  "artifact": "/Users/andresgarcia/Desktop/ACM_Projects/Nostalgio/server/.serverless/updateMemory.zip"
                },
                "memory": 1024,
                "timeout": 6,
                "runtime": "nodejs18.x",
                "vpc": {},
                "versionLogicalId": "UpdateMemoryLambdaVersionRacKmRvFJEeFd7F21R8BHYK7dnDN2aN69iVOlSMRQc"
              },
              "deleteMemory": {
                "handler": "src/memories/handlers/deleteMemory.deleteMemoryHandler",
                "events": [
                  {
                    "http": {
                      "path": "memories/{userId}/{memoryId}",
                      "method": "delete",
                      "cors": {
                        "origin": "*",
                        "methods": [
                          "OPTIONS",
                          "DELETE"
                        ],
                        "headers": [
                          "Content-Type",
                          "X-Amz-Date",
                          "Authorization",
                          "X-Api-Key",
                          "X-Amz-Security-Token",
                          "X-Amz-User-Agent",
                          "X-Amzn-Trace-Id"
                        ],
                        "allowCredentials": "<REDACTED>"
                      },
                      "integration": "AWS_PROXY"
                    }
                  }
                ],
                "name": "nostalgio-backend-dev-deleteMemory",
                "package": {
                  "artifact": "/Users/andresgarcia/Desktop/ACM_Projects/Nostalgio/server/.serverless/deleteMemory.zip"
                },
                "memory": 1024,
                "timeout": 6,
                "runtime": "nodejs18.x",
                "vpc": {},
                "versionLogicalId": "DeleteMemoryLambdaVersion2UrMfz0smOQVM2fCOpE32ahiZHqi7YUJH4fx918oY"
              },
              "listMemories": {
                "handler": "src/memories/handlers/listMemories.listMemoriesHandler",
                "events": [
                  {
                    "http": {
                      "path": "memories/{userId}",
                      "method": "get",
                      "cors": {
                        "origin": "*",
                        "methods": [
                          "OPTIONS",
                          "GET"
                        ],
                        "headers": [
                          "Content-Type",
                          "X-Amz-Date",
                          "Authorization",
                          "X-Api-Key",
                          "X-Amz-Security-Token",
                          "X-Amz-User-Agent",
                          "X-Amzn-Trace-Id"
                        ],
                        "allowCredentials": "<REDACTED>"
                      },
                      "integration": "AWS_PROXY"
                    }
                  }
                ],
                "name": "nostalgio-backend-dev-listMemories",
                "package": {
                  "artifact": "/Users/andresgarcia/Desktop/ACM_Projects/Nostalgio/server/.serverless/listMemories.zip"
                },
                "memory": 1024,
                "timeout": 6,
                "runtime": "nodejs18.x",
                "vpc": {},
                "versionLogicalId": "ListMemoriesLambdaVersionZei8fgbvJAKnhQRvNCoUNHg2IEK3KW16rdfA0cMRM"
              },
              "streamMemoryUpdates": {
                "handler": "src/memories/handlers/streamMemoryUpdates.streamMemoryUpdatesHandler",
                "events": [
                  {
                    "stream": {
                      "type": "dynamodb",
                      "arn": {
                        "Fn::GetAtt": [
                          "MemoriesTable",
                          "StreamArn"
                        ]
                      }
                    }
                  }
                ],
                "name": "nostalgio-backend-dev-streamMemoryUpdates",
                "package": {
                  "artifact": "/Users/andresgarcia/Desktop/ACM_Projects/Nostalgio/server/.serverless/streamMemoryUpdates.zip"
                },
                "memory": 1024,
                "timeout": 6,
                "runtime": "nodejs18.x",
                "vpc": {},
                "versionLogicalId": "StreamMemoryUpdatesLambdaVersionlbDkfvE4o4xulVdClHlWRmN9YhSH98gMnYkP1Z57veE"
              },
              "getTopTracks": {
                "handler": "src/spotify/tracks/handlers/getTopTracks.getTopTracks",
                "events": [
                  {
                    "http": {
                      "path": "spotify/tracks/top/{userId}",
                      "method": "get",
                      "cors": {
                        "origin": "*",
                        "methods": [
                          "OPTIONS",
                          "GET"
                        ],
                        "headers": [
                          "Content-Type",
                          "X-Amz-Date",
                          "Authorization",
                          "X-Api-Key",
                          "X-Amz-Security-Token",
                          "X-Amz-User-Agent",
                          "X-Amzn-Trace-Id"
                        ],
                        "allowCredentials": "<REDACTED>"
                      },
                      "integration": "AWS_PROXY"
                    }
                  }
                ],
                "name": "nostalgio-backend-dev-getTopTracks",
                "package": {
                  "artifact": "/Users/andresgarcia/Desktop/ACM_Projects/Nostalgio/server/.serverless/getTopTracks.zip"
                },
                "memory": 1024,
                "timeout": 6,
                "runtime": "nodejs18.x",
                "vpc": {},
                "versionLogicalId": "GetTopTracksLambdaVersion72SznfM9ZnOREILfCYeAqxbsHEnx5fntkZUB3SZS84"
              }
            },
            "resources": {
              "Resources": {
                "AuthSessionData": {
                  "Type": "AWS::DynamoDB::Table",
                  "Properties": {
                    "TableName": "AuthSessionData",
                    "AttributeDefinitions": [
                      {
                        "AttributeName": "UserId",
                        "AttributeType": "S"
                      }
                    ],
                    "KeySchema": [
                      {
                        "AttributeName": "UserId",
                        "KeyType": "HASH"
                      }
                    ],
                    "BillingMode": "PAY_PER_REQUEST",
                    "TimeToLiveSpecification": {
                      "AttributeName": "ExpiresAt",
                      "Enabled": true
                    }
                  }
                },
                "UsersTable": {
                  "Type": "AWS::DynamoDB::Table",
                  "Properties": {
                    "TableName": "Users",
                    "AttributeDefinitions": [
                      {
                        "AttributeName": "UserId",
                        "AttributeType": "S"
                      },
                      {
                        "AttributeName": "SpotifyUserId",
                        "AttributeType": "S"
                      }
                    ],
                    "KeySchema": [
                      {
                        "AttributeName": "UserId",
                        "KeyType": "HASH"
                      }
                    ],
                    "GlobalSecondaryIndexes": [
                      {
                        "IndexName": "SpotifyUserIdIndex",
                        "KeySchema": [
                          {
                            "AttributeName": "SpotifyUserId",
                            "KeyType": "HASH"
                          }
                        ],
                        "Projection": {
                          "ProjectionType": "ALL"
                        }
                      }
                    ],
                    "BillingMode": "PAY_PER_REQUEST",
                    "StreamSpecification": {
                      "StreamViewType": "NEW_AND_OLD_IMAGES"
                    }
                  }
                },
                "MemoriesTable": {
                  "Type": "AWS::DynamoDB::Table",
                  "Properties": {
                    "TableName": "Memories",
                    "AttributeDefinitions": [
                      {
                        "AttributeName": "UserId",
                        "AttributeType": "S"
                      },
                      {
                        "AttributeName": "MemoryId",
                        "AttributeType": "S"
                      }
                    ],
                    "KeySchema": [
                      {
                        "AttributeName": "UserId",
                        "KeyType": "HASH"
                      },
                      {
                        "AttributeName": "MemoryId",
                        "KeyType": "RANGE"
                      }
                    ],
                    "BillingMode": "PAY_PER_REQUEST",
                    "StreamSpecification": {
                      "StreamViewType": "NEW_AND_OLD_IMAGES"
                    }
                  }
                }
              },
              "Outputs": {}
            }
          },
          "configFileDirPath": "/Users/andresgarcia/Desktop/ACM_Projects/Nostalgio/server",
          "config": {
            "type": "env"
          },
          "options": {
            "aws-profile": "nostalgio"
          },
          "stage": "dev",
          "dashboard": null,
          "logger": {
            "namespace": "s:core:resolver:env",
            "prefix": null,
            "prefixColor": null
          },
          "_credentialsPromise": "<REDACTED>"
        },
        "resolvers": {}
      },
      "self": {
        "instance": {
          "credentials": "<REDACTED>",
          "serviceConfigFile": {
            "org": "andresgrc",
            "app": "nostalgio-backend",
            "service": "nostalgio-backend",
            "provider": {
              "name": "aws",
              "runtime": "nodejs18.x",
              "region": "us-east-1",
              "environment": {
                "COGNITO_USER_POOL_ID": "us-east-1_lqzsgfHQr",
                "COGNITO_CLIENT_ID": "12pcqimdf7f5qdk3h3uhv5nhtc",
                "COGNITO_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                "SPOTIFY_CLIENT_ID": "c7806fa71cc749499f5c7517aa908f39",
                "SPOTIFY_CLIENT_SECRET": "<REDACTED>",
                "SPOTIFY_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                "USERS_TABLE": "Users",
                "MEMORIES_TABLE": "Memories",
                "AUTH_SESSION_TABLE": "AuthSessionData"
              },
              "iamRoleStatements": [
                {
                  "Effect": "Allow",
                  "Action": [
                    "cognito-idp:AdminCreateUser",
                    "cognito-idp:AdminUpdateUserAttributes",
                    "cognito-idp:AdminInitiateAuth",
                    "cognito-idp:AdminRespondToAuthChallenge",
                    "cognito-idp:ListUsers",
                    "cognito-idp:AdminGetUser",
                    "cognito-idp:AdminDeleteUser"
                  ],
                  "Resource": "arn:aws:cognito-idp:us-east-1:*:userpool/us-east-1_lqzsgfHQr"
                },
                {
                  "Effect": "Allow",
                  "Action": [
                    "lambda:InvokeFunction"
                  ],
                  "Resource": "*"
                },
                {
                  "Effect": "Allow",
                  "Action": [
                    "dynamodb:Query",
                    "dynamodb:PutItem",
                    "dynamodb:GetItem",
                    "dynamodb:UpdateItem",
                    "dynamodb:DeleteItem",
                    "dynamodb:DescribeStream",
                    "dynamodb:GetRecords",
                    "dynamodb:GetShardIterator"
                  ],
                  "Resource": [
                    {
                      "Fn::GetAtt": [
                        "UsersTable",
                        "Arn"
                      ]
                    },
                    {
                      "Fn::GetAtt": [
                        "UsersTable",
                        "StreamArn"
                      ]
                    },
                    {
                      "Fn::GetAtt": [
                        "MemoriesTable",
                        "Arn"
                      ]
                    },
                    {
                      "Fn::GetAtt": [
                        "MemoriesTable",
                        "StreamArn"
                      ]
                    },
                    {
                      "Fn::GetAtt": [
                        "AuthSessionData",
                        "Arn"
                      ]
                    },
                    "arn:aws:dynamodb:us-east-1:*:table/Users/index/SpotifyUserIdIndex"
                  ]
                },
                {
                  "Effect": "Allow",
                  "Action": [
                    "logs:CreateLogGroup",
                    "logs:CreateLogStream",
                    "logs:PutLogEvents"
                  ],
                  "Resource": "*"
                }
              ],
              "stage": "dev",
              "versionFunctions": true,
              "compiledCloudFormationTemplate": {
                "AWSTemplateFormatVersion": "2010-09-09",
                "Description": "The AWS CloudFormation template for this Serverless application",
                "Resources": {
                  "SpotifyAuthLogGroup": {
                    "Type": "AWS::Logs::LogGroup",
                    "Properties": {
                      "LogGroupName": "/aws/lambda/nostalgio-backend-dev-spotifyAuth"
                    }
                  },
                  "SpotifyCallbackLogGroup": {
                    "Type": "AWS::Logs::LogGroup",
                    "Properties": {
                      "LogGroupName": "/aws/lambda/nostalgio-backend-dev-spotifyCallback"
                    }
                  },
                  "ExchangeSpotifyTokenLogGroup": "<REDACTED>",
                  "RefreshSpotifyTokenLogGroup": "<REDACTED>",
                  "ValidateSpotifyTokenLogGroup": "<REDACTED>",
                  "CreateUserLogGroup": {
                    "Type": "AWS::Logs::LogGroup",
                    "Properties": {
                      "LogGroupName": "/aws/lambda/nostalgio-backend-dev-createUser"
                    }
                  },
                  "GetUserLogGroup": {
                    "Type": "AWS::Logs::LogGroup",
                    "Properties": {
                      "LogGroupName": "/aws/lambda/nostalgio-backend-dev-getUser"
                    }
                  },
                  "UpdateUserLogGroup": {
                    "Type": "AWS::Logs::LogGroup",
                    "Properties": {
                      "LogGroupName": "/aws/lambda/nostalgio-backend-dev-updateUser"
                    }
                  },
                  "DeleteUserLogGroup": {
                    "Type": "AWS::Logs::LogGroup",
                    "Properties": {
                      "LogGroupName": "/aws/lambda/nostalgio-backend-dev-deleteUser"
                    }
                  },
                  "CreateMemoryLogGroup": {
                    "Type": "AWS::Logs::LogGroup",
                    "Properties": {
                      "LogGroupName": "/aws/lambda/nostalgio-backend-dev-createMemory"
                    }
                  },
                  "GetMemoryLogGroup": {
                    "Type": "AWS::Logs::LogGroup",
                    "Properties": {
                      "LogGroupName": "/aws/lambda/nostalgio-backend-dev-getMemory"
                    }
                  },
                  "UpdateMemoryLogGroup": {
                    "Type": "AWS::Logs::LogGroup",
                    "Properties": {
                      "LogGroupName": "/aws/lambda/nostalgio-backend-dev-updateMemory"
                    }
                  },
                  "DeleteMemoryLogGroup": {
                    "Type": "AWS::Logs::LogGroup",
                    "Properties": {
                      "LogGroupName": "/aws/lambda/nostalgio-backend-dev-deleteMemory"
                    }
                  },
                  "ListMemoriesLogGroup": {
                    "Type": "AWS::Logs::LogGroup",
                    "Properties": {
                      "LogGroupName": "/aws/lambda/nostalgio-backend-dev-listMemories"
                    }
                  },
                  "StreamMemoryUpdatesLogGroup": {
                    "Type": "AWS::Logs::LogGroup",
                    "Properties": {
                      "LogGroupName": "/aws/lambda/nostalgio-backend-dev-streamMemoryUpdates"
                    }
                  },
                  "GetTopTracksLogGroup": {
                    "Type": "AWS::Logs::LogGroup",
                    "Properties": {
                      "LogGroupName": "/aws/lambda/nostalgio-backend-dev-getTopTracks"
                    }
                  },
                  "IamRoleLambdaExecution": {
                    "Type": "AWS::IAM::Role",
                    "Properties": {
                      "AssumeRolePolicyDocument": {
                        "Version": "2012-10-17",
                        "Statement": [
                          {
                            "Effect": "Allow",
                            "Principal": {
                              "Service": [
                                "lambda.amazonaws.com"
                              ]
                            },
                            "Action": [
                              "sts:AssumeRole"
                            ]
                          }
                        ]
                      },
                      "Policies": [
                        {
                          "PolicyName": {
                            "Fn::Join": [
                              "-",
                              [
                                "nostalgio-backend",
                                "dev",
                                "lambda"
                              ]
                            ]
                          },
                          "PolicyDocument": {
                            "Version": "2012-10-17",
                            "Statement": [
                              {
                                "Effect": "Allow",
                                "Action": [
                                  "logs:CreateLogStream",
                                  "logs:CreateLogGroup",
                                  "logs:TagResource"
                                ],
                                "Resource": [
                                  {
                                    "Fn::Sub": "arn:${AWS::Partition}:logs:${AWS::Region}:${AWS::AccountId}:log-group:/aws/lambda/nostalgio-backend-dev*:*"
                                  }
                                ]
                              },
                              {
                                "Effect": "Allow",
                                "Action": [
                                  "logs:PutLogEvents"
                                ],
                                "Resource": [
                                  {
                                    "Fn::Sub": "arn:${AWS::Partition}:logs:${AWS::Region}:${AWS::AccountId}:log-group:/aws/lambda/nostalgio-backend-dev*:*:*"
                                  }
                                ]
                              },
                              {
                                "Effect": "Allow",
                                "Action": [
                                  "cognito-idp:AdminCreateUser",
                                  "cognito-idp:AdminUpdateUserAttributes",
                                  "cognito-idp:AdminInitiateAuth",
                                  "cognito-idp:AdminRespondToAuthChallenge",
                                  "cognito-idp:ListUsers",
                                  "cognito-idp:AdminGetUser",
                                  "cognito-idp:AdminDeleteUser"
                                ],
                                "Resource": "arn:aws:cognito-idp:us-east-1:*:userpool/us-east-1_lqzsgfHQr"
                              },
                              {
                                "Effect": "Allow",
                                "Action": [
                                  "lambda:InvokeFunction"
                                ],
                                "Resource": "*"
                              },
                              {
                                "Effect": "Allow",
                                "Action": [
                                  "dynamodb:Query",
                                  "dynamodb:PutItem",
                                  "dynamodb:GetItem",
                                  "dynamodb:UpdateItem",
                                  "dynamodb:DeleteItem",
                                  "dynamodb:DescribeStream",
                                  "dynamodb:GetRecords",
                                  "dynamodb:GetShardIterator"
                                ],
                                "Resource": [
                                  {
                                    "Fn::GetAtt": [
                                      "UsersTable",
                                      "Arn"
                                    ]
                                  },
                                  {
                                    "Fn::GetAtt": [
                                      "UsersTable",
                                      "StreamArn"
                                    ]
                                  },
                                  {
                                    "Fn::GetAtt": [
                                      "MemoriesTable",
                                      "Arn"
                                    ]
                                  },
                                  {
                                    "Fn::GetAtt": [
                                      "MemoriesTable",
                                      "StreamArn"
                                    ]
                                  },
                                  {
                                    "Fn::GetAtt": [
                                      "AuthSessionData",
                                      "Arn"
                                    ]
                                  },
                                  "arn:aws:dynamodb:us-east-1:*:table/Users/index/SpotifyUserIdIndex"
                                ]
                              },
                              {
                                "Effect": "Allow",
                                "Action": [
                                  "logs:CreateLogGroup",
                                  "logs:CreateLogStream",
                                  "logs:PutLogEvents"
                                ],
                                "Resource": "*"
                              },
                              {
                                "Effect": "Allow",
                                "Action": [
                                  "dynamodb:GetRecords",
                                  "dynamodb:GetShardIterator",
                                  "dynamodb:DescribeStream",
                                  "dynamodb:ListStreams"
                                ],
                                "Resource": [
                                  {
                                    "Fn::GetAtt": [
                                      "MemoriesTable",
                                      "StreamArn"
                                    ]
                                  }
                                ]
                              }
                            ]
                          }
                        }
                      ],
                      "Path": "/",
                      "RoleName": {
                        "Fn::Join": [
                          "-",
                          [
                            "nostalgio-backend",
                            "dev",
                            {
                              "Ref": "AWS::Region"
                            },
                            "lambdaRole"
                          ]
                        ]
                      }
                    }
                  },
                  "SpotifyAuthLambdaFunction": {
                    "Type": "AWS::Lambda::Function",
                    "Properties": {
                      "Code": {
                        "S3Bucket": "serverless-framework-deployments-us-east-1-55cebd6e-28d6",
                        "S3Key": "serverless/nostalgio-backend/dev/1727560476305-2024-09-28T21:54:36.305Z/spotifyAuth.zip"
                      },
                      "Handler": "src/auth/spotify/spotifyAuthHandler.spotifyAuthHandler",
                      "Runtime": "nodejs18.x",
                      "FunctionName": "nostalgio-backend-dev-spotifyAuth",
                      "MemorySize": 1024,
                      "Timeout": 6,
                      "Environment": {
                        "Variables": {
                          "COGNITO_USER_POOL_ID": "us-east-1_lqzsgfHQr",
                          "COGNITO_CLIENT_ID": "12pcqimdf7f5qdk3h3uhv5nhtc",
                          "COGNITO_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                          "SPOTIFY_CLIENT_ID": "c7806fa71cc749499f5c7517aa908f39",
                          "SPOTIFY_CLIENT_SECRET": "<REDACTED>",
                          "SPOTIFY_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                          "USERS_TABLE": "Users",
                          "MEMORIES_TABLE": "Memories",
                          "AUTH_SESSION_TABLE": "AuthSessionData"
                        }
                      },
                      "Role": {
                        "Fn::GetAtt": [
                          "IamRoleLambdaExecution",
                          "Arn"
                        ]
                      }
                    },
                    "DependsOn": [
                      "SpotifyAuthLogGroup"
                    ]
                  },
                  "SpotifyCallbackLambdaFunction": {
                    "Type": "AWS::Lambda::Function",
                    "Properties": {
                      "Code": {
                        "S3Bucket": "serverless-framework-deployments-us-east-1-55cebd6e-28d6",
                        "S3Key": "serverless/nostalgio-backend/dev/1727560476305-2024-09-28T21:54:36.305Z/spotifyCallback.zip"
                      },
                      "Handler": "src/auth/spotify/spotifyCallbackHandler.spotifyCallbackHandler",
                      "Runtime": "nodejs18.x",
                      "FunctionName": "nostalgio-backend-dev-spotifyCallback",
                      "MemorySize": 1024,
                      "Timeout": 6,
                      "Environment": {
                        "Variables": {
                          "COGNITO_USER_POOL_ID": "us-east-1_lqzsgfHQr",
                          "COGNITO_CLIENT_ID": "12pcqimdf7f5qdk3h3uhv5nhtc",
                          "COGNITO_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                          "SPOTIFY_CLIENT_ID": "c7806fa71cc749499f5c7517aa908f39",
                          "SPOTIFY_CLIENT_SECRET": "<REDACTED>",
                          "SPOTIFY_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                          "USERS_TABLE": "Users",
                          "MEMORIES_TABLE": "Memories",
                          "AUTH_SESSION_TABLE": "AuthSessionData"
                        }
                      },
                      "Role": {
                        "Fn::GetAtt": [
                          "IamRoleLambdaExecution",
                          "Arn"
                        ]
                      }
                    },
                    "DependsOn": [
                      "SpotifyCallbackLogGroup"
                    ]
                  },
                  "ExchangeSpotifyTokenLambdaFunction": "<REDACTED>",
                  "RefreshSpotifyTokenLambdaFunction": "<REDACTED>",
                  "ValidateSpotifyTokenLambdaFunction": "<REDACTED>",
                  "CreateUserLambdaFunction": {
                    "Type": "AWS::Lambda::Function",
                    "Properties": {
                      "Code": {
                        "S3Bucket": "serverless-framework-deployments-us-east-1-55cebd6e-28d6",
                        "S3Key": "serverless/nostalgio-backend/dev/1727560476305-2024-09-28T21:54:36.305Z/createUser.zip"
                      },
                      "Handler": "src/users/handlers/createUser.createUserHandler",
                      "Runtime": "nodejs18.x",
                      "FunctionName": "nostalgio-backend-dev-createUser",
                      "MemorySize": 1024,
                      "Timeout": 6,
                      "Environment": {
                        "Variables": {
                          "COGNITO_USER_POOL_ID": "us-east-1_lqzsgfHQr",
                          "COGNITO_CLIENT_ID": "12pcqimdf7f5qdk3h3uhv5nhtc",
                          "COGNITO_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                          "SPOTIFY_CLIENT_ID": "c7806fa71cc749499f5c7517aa908f39",
                          "SPOTIFY_CLIENT_SECRET": "<REDACTED>",
                          "SPOTIFY_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                          "USERS_TABLE": "Users",
                          "MEMORIES_TABLE": "Memories",
                          "AUTH_SESSION_TABLE": "AuthSessionData"
                        }
                      },
                      "Role": {
                        "Fn::GetAtt": [
                          "IamRoleLambdaExecution",
                          "Arn"
                        ]
                      }
                    },
                    "DependsOn": [
                      "CreateUserLogGroup"
                    ]
                  },
                  "GetUserLambdaFunction": {
                    "Type": "AWS::Lambda::Function",
                    "Properties": {
                      "Code": {
                        "S3Bucket": "serverless-framework-deployments-us-east-1-55cebd6e-28d6",
                        "S3Key": "serverless/nostalgio-backend/dev/1727560476305-2024-09-28T21:54:36.305Z/getUser.zip"
                      },
                      "Handler": "src/users/handlers/getUser.getUserHandler",
                      "Runtime": "nodejs18.x",
                      "FunctionName": "nostalgio-backend-dev-getUser",
                      "MemorySize": 1024,
                      "Timeout": 6,
                      "Environment": {
                        "Variables": {
                          "COGNITO_USER_POOL_ID": "us-east-1_lqzsgfHQr",
                          "COGNITO_CLIENT_ID": "12pcqimdf7f5qdk3h3uhv5nhtc",
                          "COGNITO_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                          "SPOTIFY_CLIENT_ID": "c7806fa71cc749499f5c7517aa908f39",
                          "SPOTIFY_CLIENT_SECRET": "<REDACTED>",
                          "SPOTIFY_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                          "USERS_TABLE": "Users",
                          "MEMORIES_TABLE": "Memories",
                          "AUTH_SESSION_TABLE": "AuthSessionData"
                        }
                      },
                      "Role": {
                        "Fn::GetAtt": [
                          "IamRoleLambdaExecution",
                          "Arn"
                        ]
                      }
                    },
                    "DependsOn": [
                      "GetUserLogGroup"
                    ]
                  },
                  "UpdateUserLambdaFunction": {
                    "Type": "AWS::Lambda::Function",
                    "Properties": {
                      "Code": {
                        "S3Bucket": "serverless-framework-deployments-us-east-1-55cebd6e-28d6",
                        "S3Key": "serverless/nostalgio-backend/dev/1727560476305-2024-09-28T21:54:36.305Z/updateUser.zip"
                      },
                      "Handler": "src/users/handlers/updateUser.updateUserHandler",
                      "Runtime": "nodejs18.x",
                      "FunctionName": "nostalgio-backend-dev-updateUser",
                      "MemorySize": 1024,
                      "Timeout": 6,
                      "Environment": {
                        "Variables": {
                          "COGNITO_USER_POOL_ID": "us-east-1_lqzsgfHQr",
                          "COGNITO_CLIENT_ID": "12pcqimdf7f5qdk3h3uhv5nhtc",
                          "COGNITO_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                          "SPOTIFY_CLIENT_ID": "c7806fa71cc749499f5c7517aa908f39",
                          "SPOTIFY_CLIENT_SECRET": "<REDACTED>",
                          "SPOTIFY_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                          "USERS_TABLE": "Users",
                          "MEMORIES_TABLE": "Memories",
                          "AUTH_SESSION_TABLE": "AuthSessionData"
                        }
                      },
                      "Role": {
                        "Fn::GetAtt": [
                          "IamRoleLambdaExecution",
                          "Arn"
                        ]
                      }
                    },
                    "DependsOn": [
                      "UpdateUserLogGroup"
                    ]
                  },
                  "DeleteUserLambdaFunction": {
                    "Type": "AWS::Lambda::Function",
                    "Properties": {
                      "Code": {
                        "S3Bucket": "serverless-framework-deployments-us-east-1-55cebd6e-28d6",
                        "S3Key": "serverless/nostalgio-backend/dev/1727560476305-2024-09-28T21:54:36.305Z/deleteUser.zip"
                      },
                      "Handler": "src/users/handlers/deleteUser.deleteUserHandler",
                      "Runtime": "nodejs18.x",
                      "FunctionName": "nostalgio-backend-dev-deleteUser",
                      "MemorySize": 1024,
                      "Timeout": 6,
                      "Environment": {
                        "Variables": {
                          "COGNITO_USER_POOL_ID": "us-east-1_lqzsgfHQr",
                          "COGNITO_CLIENT_ID": "12pcqimdf7f5qdk3h3uhv5nhtc",
                          "COGNITO_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                          "SPOTIFY_CLIENT_ID": "c7806fa71cc749499f5c7517aa908f39",
                          "SPOTIFY_CLIENT_SECRET": "<REDACTED>",
                          "SPOTIFY_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                          "USERS_TABLE": "Users",
                          "MEMORIES_TABLE": "Memories",
                          "AUTH_SESSION_TABLE": "AuthSessionData"
                        }
                      },
                      "Role": {
                        "Fn::GetAtt": [
                          "IamRoleLambdaExecution",
                          "Arn"
                        ]
                      }
                    },
                    "DependsOn": [
                      "DeleteUserLogGroup"
                    ]
                  },
                  "CreateMemoryLambdaFunction": {
                    "Type": "AWS::Lambda::Function",
                    "Properties": {
                      "Code": {
                        "S3Bucket": "serverless-framework-deployments-us-east-1-55cebd6e-28d6",
                        "S3Key": "serverless/nostalgio-backend/dev/1727560476305-2024-09-28T21:54:36.305Z/createMemory.zip"
                      },
                      "Handler": "src/memories/handlers/createMemory.createMemoryHandler",
                      "Runtime": "nodejs18.x",
                      "FunctionName": "nostalgio-backend-dev-createMemory",
                      "MemorySize": 1024,
                      "Timeout": 6,
                      "Environment": {
                        "Variables": {
                          "COGNITO_USER_POOL_ID": "us-east-1_lqzsgfHQr",
                          "COGNITO_CLIENT_ID": "12pcqimdf7f5qdk3h3uhv5nhtc",
                          "COGNITO_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                          "SPOTIFY_CLIENT_ID": "c7806fa71cc749499f5c7517aa908f39",
                          "SPOTIFY_CLIENT_SECRET": "<REDACTED>",
                          "SPOTIFY_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                          "USERS_TABLE": "Users",
                          "MEMORIES_TABLE": "Memories",
                          "AUTH_SESSION_TABLE": "AuthSessionData"
                        }
                      },
                      "Role": {
                        "Fn::GetAtt": [
                          "IamRoleLambdaExecution",
                          "Arn"
                        ]
                      }
                    },
                    "DependsOn": [
                      "CreateMemoryLogGroup"
                    ]
                  },
                  "GetMemoryLambdaFunction": {
                    "Type": "AWS::Lambda::Function",
                    "Properties": {
                      "Code": {
                        "S3Bucket": "serverless-framework-deployments-us-east-1-55cebd6e-28d6",
                        "S3Key": "serverless/nostalgio-backend/dev/1727560476305-2024-09-28T21:54:36.305Z/getMemory.zip"
                      },
                      "Handler": "src/memories/handlers/getMemory.getMemoryHandler",
                      "Runtime": "nodejs18.x",
                      "FunctionName": "nostalgio-backend-dev-getMemory",
                      "MemorySize": 1024,
                      "Timeout": 6,
                      "Environment": {
                        "Variables": {
                          "COGNITO_USER_POOL_ID": "us-east-1_lqzsgfHQr",
                          "COGNITO_CLIENT_ID": "12pcqimdf7f5qdk3h3uhv5nhtc",
                          "COGNITO_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                          "SPOTIFY_CLIENT_ID": "c7806fa71cc749499f5c7517aa908f39",
                          "SPOTIFY_CLIENT_SECRET": "<REDACTED>",
                          "SPOTIFY_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                          "USERS_TABLE": "Users",
                          "MEMORIES_TABLE": "Memories",
                          "AUTH_SESSION_TABLE": "AuthSessionData"
                        }
                      },
                      "Role": {
                        "Fn::GetAtt": [
                          "IamRoleLambdaExecution",
                          "Arn"
                        ]
                      }
                    },
                    "DependsOn": [
                      "GetMemoryLogGroup"
                    ]
                  },
                  "UpdateMemoryLambdaFunction": {
                    "Type": "AWS::Lambda::Function",
                    "Properties": {
                      "Code": {
                        "S3Bucket": "serverless-framework-deployments-us-east-1-55cebd6e-28d6",
                        "S3Key": "serverless/nostalgio-backend/dev/1727560476305-2024-09-28T21:54:36.305Z/updateMemory.zip"
                      },
                      "Handler": "src/memories/handlers/updateMemory.updateMemoryHandler",
                      "Runtime": "nodejs18.x",
                      "FunctionName": "nostalgio-backend-dev-updateMemory",
                      "MemorySize": 1024,
                      "Timeout": 6,
                      "Environment": {
                        "Variables": {
                          "COGNITO_USER_POOL_ID": "us-east-1_lqzsgfHQr",
                          "COGNITO_CLIENT_ID": "12pcqimdf7f5qdk3h3uhv5nhtc",
                          "COGNITO_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                          "SPOTIFY_CLIENT_ID": "c7806fa71cc749499f5c7517aa908f39",
                          "SPOTIFY_CLIENT_SECRET": "<REDACTED>",
                          "SPOTIFY_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                          "USERS_TABLE": "Users",
                          "MEMORIES_TABLE": "Memories",
                          "AUTH_SESSION_TABLE": "AuthSessionData"
                        }
                      },
                      "Role": {
                        "Fn::GetAtt": [
                          "IamRoleLambdaExecution",
                          "Arn"
                        ]
                      }
                    },
                    "DependsOn": [
                      "UpdateMemoryLogGroup"
                    ]
                  },
                  "DeleteMemoryLambdaFunction": {
                    "Type": "AWS::Lambda::Function",
                    "Properties": {
                      "Code": {
                        "S3Bucket": "serverless-framework-deployments-us-east-1-55cebd6e-28d6",
                        "S3Key": "serverless/nostalgio-backend/dev/1727560476305-2024-09-28T21:54:36.305Z/deleteMemory.zip"
                      },
                      "Handler": "src/memories/handlers/deleteMemory.deleteMemoryHandler",
                      "Runtime": "nodejs18.x",
                      "FunctionName": "nostalgio-backend-dev-deleteMemory",
                      "MemorySize": 1024,
                      "Timeout": 6,
                      "Environment": {
                        "Variables": {
                          "COGNITO_USER_POOL_ID": "us-east-1_lqzsgfHQr",
                          "COGNITO_CLIENT_ID": "12pcqimdf7f5qdk3h3uhv5nhtc",
                          "COGNITO_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                          "SPOTIFY_CLIENT_ID": "c7806fa71cc749499f5c7517aa908f39",
                          "SPOTIFY_CLIENT_SECRET": "<REDACTED>",
                          "SPOTIFY_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                          "USERS_TABLE": "Users",
                          "MEMORIES_TABLE": "Memories",
                          "AUTH_SESSION_TABLE": "AuthSessionData"
                        }
                      },
                      "Role": {
                        "Fn::GetAtt": [
                          "IamRoleLambdaExecution",
                          "Arn"
                        ]
                      }
                    },
                    "DependsOn": [
                      "DeleteMemoryLogGroup"
                    ]
                  },
                  "ListMemoriesLambdaFunction": {
                    "Type": "AWS::Lambda::Function",
                    "Properties": {
                      "Code": {
                        "S3Bucket": "serverless-framework-deployments-us-east-1-55cebd6e-28d6",
                        "S3Key": "serverless/nostalgio-backend/dev/1727560476305-2024-09-28T21:54:36.305Z/listMemories.zip"
                      },
                      "Handler": "src/memories/handlers/listMemories.listMemoriesHandler",
                      "Runtime": "nodejs18.x",
                      "FunctionName": "nostalgio-backend-dev-listMemories",
                      "MemorySize": 1024,
                      "Timeout": 6,
                      "Environment": {
                        "Variables": {
                          "COGNITO_USER_POOL_ID": "us-east-1_lqzsgfHQr",
                          "COGNITO_CLIENT_ID": "12pcqimdf7f5qdk3h3uhv5nhtc",
                          "COGNITO_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                          "SPOTIFY_CLIENT_ID": "c7806fa71cc749499f5c7517aa908f39",
                          "SPOTIFY_CLIENT_SECRET": "<REDACTED>",
                          "SPOTIFY_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                          "USERS_TABLE": "Users",
                          "MEMORIES_TABLE": "Memories",
                          "AUTH_SESSION_TABLE": "AuthSessionData"
                        }
                      },
                      "Role": {
                        "Fn::GetAtt": [
                          "IamRoleLambdaExecution",
                          "Arn"
                        ]
                      }
                    },
                    "DependsOn": [
                      "ListMemoriesLogGroup"
                    ]
                  },
                  "StreamMemoryUpdatesLambdaFunction": {
                    "Type": "AWS::Lambda::Function",
                    "Properties": {
                      "Code": {
                        "S3Bucket": "serverless-framework-deployments-us-east-1-55cebd6e-28d6",
                        "S3Key": "serverless/nostalgio-backend/dev/1727560476305-2024-09-28T21:54:36.305Z/streamMemoryUpdates.zip"
                      },
                      "Handler": "src/memories/handlers/streamMemoryUpdates.streamMemoryUpdatesHandler",
                      "Runtime": "nodejs18.x",
                      "FunctionName": "nostalgio-backend-dev-streamMemoryUpdates",
                      "MemorySize": 1024,
                      "Timeout": 6,
                      "Environment": {
                        "Variables": {
                          "COGNITO_USER_POOL_ID": "us-east-1_lqzsgfHQr",
                          "COGNITO_CLIENT_ID": "12pcqimdf7f5qdk3h3uhv5nhtc",
                          "COGNITO_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                          "SPOTIFY_CLIENT_ID": "c7806fa71cc749499f5c7517aa908f39",
                          "SPOTIFY_CLIENT_SECRET": "<REDACTED>",
                          "SPOTIFY_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                          "USERS_TABLE": "Users",
                          "MEMORIES_TABLE": "Memories",
                          "AUTH_SESSION_TABLE": "AuthSessionData"
                        }
                      },
                      "Role": {
                        "Fn::GetAtt": [
                          "IamRoleLambdaExecution",
                          "Arn"
                        ]
                      }
                    },
                    "DependsOn": [
                      "StreamMemoryUpdatesLogGroup"
                    ]
                  },
                  "GetTopTracksLambdaFunction": {
                    "Type": "AWS::Lambda::Function",
                    "Properties": {
                      "Code": {
                        "S3Bucket": "serverless-framework-deployments-us-east-1-55cebd6e-28d6",
                        "S3Key": "serverless/nostalgio-backend/dev/1727560476305-2024-09-28T21:54:36.305Z/getTopTracks.zip"
                      },
                      "Handler": "src/spotify/tracks/handlers/getTopTracks.getTopTracks",
                      "Runtime": "nodejs18.x",
                      "FunctionName": "nostalgio-backend-dev-getTopTracks",
                      "MemorySize": 1024,
                      "Timeout": 6,
                      "Environment": {
                        "Variables": {
                          "COGNITO_USER_POOL_ID": "us-east-1_lqzsgfHQr",
                          "COGNITO_CLIENT_ID": "12pcqimdf7f5qdk3h3uhv5nhtc",
                          "COGNITO_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                          "SPOTIFY_CLIENT_ID": "c7806fa71cc749499f5c7517aa908f39",
                          "SPOTIFY_CLIENT_SECRET": "<REDACTED>",
                          "SPOTIFY_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                          "USERS_TABLE": "Users",
                          "MEMORIES_TABLE": "Memories",
                          "AUTH_SESSION_TABLE": "AuthSessionData"
                        }
                      },
                      "Role": {
                        "Fn::GetAtt": [
                          "IamRoleLambdaExecution",
                          "Arn"
                        ]
                      }
                    },
                    "DependsOn": [
                      "GetTopTracksLogGroup"
                    ]
                  },
                  "SpotifyAuthLambdaVersiontPVw1jw6Aad7GcKwIlpemFCqIaCScnAITl3ct4KZJI": {
                    "Type": "AWS::Lambda::Version",
                    "DeletionPolicy": "Retain",
                    "Properties": {
                      "FunctionName": {
                        "Ref": "SpotifyAuthLambdaFunction"
                      },
                      "CodeSha256": "m9JlsUsM4mT8M1s7NP+eS++cGnnLyg++T1y3XjCiBC0="
                    }
                  },
                  "ValidateSpotifyTokenLambdaVersionzBBT0xUMjMXFJmoz3ZFByzxr8ptunV4p812tWiehM": "<REDACTED>",
                  "ExchangeSpotifyTokenLambdaVersionq0wgG7ZeouYyXEmbCqzZrrPcGYqmLdRN7IoOCCsioIg": "<REDACTED>",
                  "UpdateUserLambdaVersionFrQkQgMdoj08bEB3fIzaN9z59gjE5Xea9cTEHVgLlI": {
                    "Type": "AWS::Lambda::Version",
                    "DeletionPolicy": "Retain",
                    "Properties": {
                      "FunctionName": {
                        "Ref": "UpdateUserLambdaFunction"
                      },
                      "CodeSha256": "m9JlsUsM4mT8M1s7NP+eS++cGnnLyg++T1y3XjCiBC0="
                    }
                  },
                  "SpotifyCallbackLambdaVersionHcwq496FnTX493Oq4vfTdlqrRP8N1zvi7YpHJ9IT2MM": {
                    "Type": "AWS::Lambda::Version",
                    "DeletionPolicy": "Retain",
                    "Properties": {
                      "FunctionName": {
                        "Ref": "SpotifyCallbackLambdaFunction"
                      },
                      "CodeSha256": "m9JlsUsM4mT8M1s7NP+eS++cGnnLyg++T1y3XjCiBC0="
                    }
                  },
                  "GetUserLambdaVersionDwz0xJGw46JR9RJ0XK93zJaYjpIdmmmDQy8Zekxc": {
                    "Type": "AWS::Lambda::Version",
                    "DeletionPolicy": "Retain",
                    "Properties": {
                      "FunctionName": {
                        "Ref": "GetUserLambdaFunction"
                      },
                      "CodeSha256": "m9JlsUsM4mT8M1s7NP+eS++cGnnLyg++T1y3XjCiBC0="
                    }
                  },
                  "CreateUserLambdaVersionsLF1EE4pnRkmumF2DuBOPrl2ncWgnikHBKghcukcY": {
                    "Type": "AWS::Lambda::Version",
                    "DeletionPolicy": "Retain",
                    "Properties": {
                      "FunctionName": {
                        "Ref": "CreateUserLambdaFunction"
                      },
                      "CodeSha256": "m9JlsUsM4mT8M1s7NP+eS++cGnnLyg++T1y3XjCiBC0="
                    }
                  },
                  "RefreshSpotifyTokenLambdaVersionbvKKwEcniYqO4XH5eOlHXZFTHihl0v4tmPuk51H1E": "<REDACTED>",
                  "DeleteUserLambdaVersionfmmH52E282Q7f76Callujj6vTerG8qe8enOC65o": {
                    "Type": "AWS::Lambda::Version",
                    "DeletionPolicy": "Retain",
                    "Properties": {
                      "FunctionName": {
                        "Ref": "DeleteUserLambdaFunction"
                      },
                      "CodeSha256": "m9JlsUsM4mT8M1s7NP+eS++cGnnLyg++T1y3XjCiBC0="
                    }
                  },
                  "CreateMemoryLambdaVersionokDKpGGXuW2mpWPVyeVJ36htBtjmkk3BaEoiz8ds": {
                    "Type": "AWS::Lambda::Version",
                    "DeletionPolicy": "Retain",
                    "Properties": {
                      "FunctionName": {
                        "Ref": "CreateMemoryLambdaFunction"
                      },
                      "CodeSha256": "m9JlsUsM4mT8M1s7NP+eS++cGnnLyg++T1y3XjCiBC0="
                    }
                  },
                  "UpdateMemoryLambdaVersionRacKmRvFJEeFd7F21R8BHYK7dnDN2aN69iVOlSMRQc": {
                    "Type": "AWS::Lambda::Version",
                    "DeletionPolicy": "Retain",
                    "Properties": {
                      "FunctionName": {
                        "Ref": "UpdateMemoryLambdaFunction"
                      },
                      "CodeSha256": "m9JlsUsM4mT8M1s7NP+eS++cGnnLyg++T1y3XjCiBC0="
                    }
                  },
                  "ListMemoriesLambdaVersionZei8fgbvJAKnhQRvNCoUNHg2IEK3KW16rdfA0cMRM": {
                    "Type": "AWS::Lambda::Version",
                    "DeletionPolicy": "Retain",
                    "Properties": {
                      "FunctionName": {
                        "Ref": "ListMemoriesLambdaFunction"
                      },
                      "CodeSha256": "m9JlsUsM4mT8M1s7NP+eS++cGnnLyg++T1y3XjCiBC0="
                    }
                  },
                  "StreamMemoryUpdatesLambdaVersionlbDkfvE4o4xulVdClHlWRmN9YhSH98gMnYkP1Z57veE": {
                    "Type": "AWS::Lambda::Version",
                    "DeletionPolicy": "Retain",
                    "Properties": {
                      "FunctionName": {
                        "Ref": "StreamMemoryUpdatesLambdaFunction"
                      },
                      "CodeSha256": "m9JlsUsM4mT8M1s7NP+eS++cGnnLyg++T1y3XjCiBC0="
                    }
                  },
                  "DeleteMemoryLambdaVersion2UrMfz0smOQVM2fCOpE32ahiZHqi7YUJH4fx918oY": {
                    "Type": "AWS::Lambda::Version",
                    "DeletionPolicy": "Retain",
                    "Properties": {
                      "FunctionName": {
                        "Ref": "DeleteMemoryLambdaFunction"
                      },
                      "CodeSha256": "m9JlsUsM4mT8M1s7NP+eS++cGnnLyg++T1y3XjCiBC0="
                    }
                  },
                  "GetTopTracksLambdaVersion72SznfM9ZnOREILfCYeAqxbsHEnx5fntkZUB3SZS84": {
                    "Type": "AWS::Lambda::Version",
                    "DeletionPolicy": "Retain",
                    "Properties": {
                      "FunctionName": {
                        "Ref": "GetTopTracksLambdaFunction"
                      },
                      "CodeSha256": "m9JlsUsM4mT8M1s7NP+eS++cGnnLyg++T1y3XjCiBC0="
                    }
                  },
                  "GetMemoryLambdaVersionkYIdneML5V5faoCn7Ymh96ZRIQbD3ymhtXJ0RxXWZ4": {
                    "Type": "AWS::Lambda::Version",
                    "DeletionPolicy": "Retain",
                    "Properties": {
                      "FunctionName": {
                        "Ref": "GetMemoryLambdaFunction"
                      },
                      "CodeSha256": "m9JlsUsM4mT8M1s7NP+eS++cGnnLyg++T1y3XjCiBC0="
                    }
                  },
                  "ApiGatewayRestApi": {
                    "Type": "AWS::ApiGateway::RestApi",
                    "Properties": {
                      "Name": "dev-nostalgio-backend",
                      "EndpointConfiguration": {
                        "Types": [
                          "EDGE"
                        ]
                      },
                      "Policy": ""
                    }
                  },
                  "ApiGatewayResourceAuth": {
                    "Type": "AWS::ApiGateway::Resource",
                    "Properties": {
                      "ParentId": {
                        "Fn::GetAtt": [
                          "ApiGatewayRestApi",
                          "RootResourceId"
                        ]
                      },
                      "PathPart": "auth",
                      "RestApiId": {
                        "Ref": "ApiGatewayRestApi"
                      }
                    }
                  },
                  "ApiGatewayResourceAuthLogin": {
                    "Type": "AWS::ApiGateway::Resource",
                    "Properties": {
                      "ParentId": {
                        "Ref": "ApiGatewayResourceAuth"
                      },
                      "PathPart": "login",
                      "RestApiId": {
                        "Ref": "ApiGatewayRestApi"
                      }
                    }
                  },
                  "ApiGatewayResourceCallback": {
                    "Type": "AWS::ApiGateway::Resource",
                    "Properties": {
                      "ParentId": {
                        "Fn::GetAtt": [
                          "ApiGatewayRestApi",
                          "RootResourceId"
                        ]
                      },
                      "PathPart": "callback",
                      "RestApiId": {
                        "Ref": "ApiGatewayRestApi"
                      }
                    }
                  },
                  "ApiGatewayResourceExchangespotifytoken": "<REDACTED>",
                  "ApiGatewayResourceRefreshspotifytoken": "<REDACTED>",
                  "ApiGatewayResourceValidatespotifytoken": "<REDACTED>",
                  "ApiGatewayResourceValidatespotifytokenUseridVar": "<REDACTED>",
                  "ApiGatewayResourceUsers": {
                    "Type": "AWS::ApiGateway::Resource",
                    "Properties": {
                      "ParentId": {
                        "Fn::GetAtt": [
                          "ApiGatewayRestApi",
                          "RootResourceId"
                        ]
                      },
                      "PathPart": "users",
                      "RestApiId": {
                        "Ref": "ApiGatewayRestApi"
                      }
                    }
                  },
                  "ApiGatewayResourceUsersUseridVar": {
                    "Type": "AWS::ApiGateway::Resource",
                    "Properties": {
                      "ParentId": {
                        "Ref": "ApiGatewayResourceUsers"
                      },
                      "PathPart": "{userId}",
                      "RestApiId": {
                        "Ref": "ApiGatewayRestApi"
                      }
                    }
                  },
                  "ApiGatewayResourceUsersSpotify": {
                    "Type": "AWS::ApiGateway::Resource",
                    "Properties": {
                      "ParentId": {
                        "Ref": "ApiGatewayResourceUsers"
                      },
                      "PathPart": "spotify",
                      "RestApiId": {
                        "Ref": "ApiGatewayRestApi"
                      }
                    }
                  },
                  "ApiGatewayResourceUsersSpotifySpotifyuseridVar": {
                    "Type": "AWS::ApiGateway::Resource",
                    "Properties": {
                      "ParentId": {
                        "Ref": "ApiGatewayResourceUsersSpotify"
                      },
                      "PathPart": "{spotifyUserId}",
                      "RestApiId": {
                        "Ref": "ApiGatewayRestApi"
                      }
                    }
                  },
                  "ApiGatewayResourceMemories": {
                    "Type": "AWS::ApiGateway::Resource",
                    "Properties": {
                      "ParentId": {
                        "Fn::GetAtt": [
                          "ApiGatewayRestApi",
                          "RootResourceId"
                        ]
                      },
                      "PathPart": "memories",
                      "RestApiId": {
                        "Ref": "ApiGatewayRestApi"
                      }
                    }
                  },
                  "ApiGatewayResourceMemoriesUseridVar": {
                    "Type": "AWS::ApiGateway::Resource",
                    "Properties": {
                      "ParentId": {
                        "Ref": "ApiGatewayResourceMemories"
                      },
                      "PathPart": "{userId}",
                      "RestApiId": {
                        "Ref": "ApiGatewayRestApi"
                      }
                    }
                  },
                  "ApiGatewayResourceMemoriesUseridVarMemoryidVar": {
                    "Type": "AWS::ApiGateway::Resource",
                    "Properties": {
                      "ParentId": {
                        "Ref": "ApiGatewayResourceMemoriesUseridVar"
                      },
                      "PathPart": "{memoryId}",
                      "RestApiId": {
                        "Ref": "ApiGatewayRestApi"
                      }
                    }
                  },
                  "ApiGatewayResourceSpotify": {
                    "Type": "AWS::ApiGateway::Resource",
                    "Properties": {
                      "ParentId": {
                        "Fn::GetAtt": [
                          "ApiGatewayRestApi",
                          "RootResourceId"
                        ]
                      },
                      "PathPart": "spotify",
                      "RestApiId": {
                        "Ref": "ApiGatewayRestApi"
                      }
                    }
                  },
                  "ApiGatewayResourceSpotifyTracks": {
                    "Type": "AWS::ApiGateway::Resource",
                    "Properties": {
                      "ParentId": {
                        "Ref": "ApiGatewayResourceSpotify"
                      },
                      "PathPart": "tracks",
                      "RestApiId": {
                        "Ref": "ApiGatewayRestApi"
                      }
                    }
                  },
                  "ApiGatewayResourceSpotifyTracksTop": {
                    "Type": "AWS::ApiGateway::Resource",
                    "Properties": {
                      "ParentId": {
                        "Ref": "ApiGatewayResourceSpotifyTracks"
                      },
                      "PathPart": "top",
                      "RestApiId": {
                        "Ref": "ApiGatewayRestApi"
                      }
                    }
                  },
                  "ApiGatewayResourceSpotifyTracksTopUseridVar": {
                    "Type": "AWS::ApiGateway::Resource",
                    "Properties": {
                      "ParentId": {
                        "Ref": "ApiGatewayResourceSpotifyTracksTop"
                      },
                      "PathPart": "{userId}",
                      "RestApiId": {
                        "Ref": "ApiGatewayRestApi"
                      }
                    }
                  },
                  "ApiGatewayMethodAuthLoginOptions": {
                    "Type": "AWS::ApiGateway::Method",
                    "Properties": {
                      "AuthorizationType": "NONE",
                      "HttpMethod": "OPTIONS",
                      "MethodResponses": [
                        {
                          "StatusCode": "200",
                          "ResponseParameters": {
                            "method.response.header.Access-Control-Allow-Origin": true,
                            "method.response.header.Access-Control-Allow-Headers": true,
                            "method.response.header.Access-Control-Allow-Methods": true
                          },
                          "ResponseModels": {}
                        }
                      ],
                      "RequestParameters": {},
                      "Integration": {
                        "Type": "MOCK",
                        "RequestTemplates": {
                          "application/json": "{statusCode:200}"
                        },
                        "ContentHandling": "CONVERT_TO_TEXT",
                        "IntegrationResponses": [
                          {
                            "StatusCode": "200",
                            "ResponseParameters": {
                              "method.response.header.Access-Control-Allow-Origin": "'*'",
                              "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Amzn-Trace-Id'",
                              "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET'"
                            },
                            "ResponseTemplates": {
                              "application/json": ""
                            }
                          }
                        ]
                      },
                      "ResourceId": {
                        "Ref": "ApiGatewayResourceAuthLogin"
                      },
                      "RestApiId": {
                        "Ref": "ApiGatewayRestApi"
                      }
                    }
                  },
                  "ApiGatewayMethodCallbackOptions": {
                    "Type": "AWS::ApiGateway::Method",
                    "Properties": {
                      "AuthorizationType": "NONE",
                      "HttpMethod": "OPTIONS",
                      "MethodResponses": [
                        {
                          "StatusCode": "200",
                          "ResponseParameters": {
                            "method.response.header.Access-Control-Allow-Origin": true,
                            "method.response.header.Access-Control-Allow-Headers": true,
                            "method.response.header.Access-Control-Allow-Methods": true
                          },
                          "ResponseModels": {}
                        }
                      ],
                      "RequestParameters": {},
                      "Integration": {
                        "Type": "MOCK",
                        "RequestTemplates": {
                          "application/json": "{statusCode:200}"
                        },
                        "ContentHandling": "CONVERT_TO_TEXT",
                        "IntegrationResponses": [
                          {
                            "StatusCode": "200",
                            "ResponseParameters": {
                              "method.response.header.Access-Control-Allow-Origin": "'*'",
                              "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Amzn-Trace-Id'",
                              "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET'"
                            },
                            "ResponseTemplates": {
                              "application/json": ""
                            }
                          }
                        ]
                      },
                      "ResourceId": {
                        "Ref": "ApiGatewayResourceCallback"
                      },
                      "RestApiId": {
                        "Ref": "ApiGatewayRestApi"
                      }
                    }
                  },
                  "ApiGatewayMethodExchangespotifytokenOptions": "<REDACTED>",
                  "ApiGatewayMethodRefreshspotifytokenOptions": "<REDACTED>",
                  "ApiGatewayMethodValidatespotifytokenUseridVarOptions": "<REDACTED>",
                  "ApiGatewayMethodUsersOptions": {
                    "Type": "AWS::ApiGateway::Method",
                    "Properties": {
                      "AuthorizationType": "NONE",
                      "HttpMethod": "OPTIONS",
                      "MethodResponses": [
                        {
                          "StatusCode": "200",
                          "ResponseParameters": {
                            "method.response.header.Access-Control-Allow-Origin": true,
                            "method.response.header.Access-Control-Allow-Headers": true,
                            "method.response.header.Access-Control-Allow-Methods": true
                          },
                          "ResponseModels": {}
                        }
                      ],
                      "RequestParameters": {},
                      "Integration": {
                        "Type": "MOCK",
                        "RequestTemplates": {
                          "application/json": "{statusCode:200}"
                        },
                        "ContentHandling": "CONVERT_TO_TEXT",
                        "IntegrationResponses": [
                          {
                            "StatusCode": "200",
                            "ResponseParameters": {
                              "method.response.header.Access-Control-Allow-Origin": "'*'",
                              "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Amzn-Trace-Id'",
                              "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,POST'"
                            },
                            "ResponseTemplates": {
                              "application/json": ""
                            }
                          }
                        ]
                      },
                      "ResourceId": {
                        "Ref": "ApiGatewayResourceUsers"
                      },
                      "RestApiId": {
                        "Ref": "ApiGatewayRestApi"
                      }
                    }
                  },
                  "ApiGatewayMethodUsersUseridVarOptions": {
                    "Type": "AWS::ApiGateway::Method",
                    "Properties": {
                      "AuthorizationType": "NONE",
                      "HttpMethod": "OPTIONS",
                      "MethodResponses": [
                        {
                          "StatusCode": "200",
                          "ResponseParameters": {
                            "method.response.header.Access-Control-Allow-Origin": true,
                            "method.response.header.Access-Control-Allow-Headers": true,
                            "method.response.header.Access-Control-Allow-Methods": true
                          },
                          "ResponseModels": {}
                        }
                      ],
                      "RequestParameters": {},
                      "Integration": {
                        "Type": "MOCK",
                        "RequestTemplates": {
                          "application/json": "{statusCode:200}"
                        },
                        "ContentHandling": "CONVERT_TO_TEXT",
                        "IntegrationResponses": [
                          {
                            "StatusCode": "200",
                            "ResponseParameters": {
                              "method.response.header.Access-Control-Allow-Origin": "'*'",
                              "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Amzn-Trace-Id'",
                              "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,DELETE,PUT,GET'"
                            },
                            "ResponseTemplates": {
                              "application/json": ""
                            }
                          }
                        ]
                      },
                      "ResourceId": {
                        "Ref": "ApiGatewayResourceUsersUseridVar"
                      },
                      "RestApiId": {
                        "Ref": "ApiGatewayRestApi"
                      }
                    }
                  },
                  "ApiGatewayMethodUsersSpotifySpotifyuseridVarOptions": {
                    "Type": "AWS::ApiGateway::Method",
                    "Properties": {
                      "AuthorizationType": "NONE",
                      "HttpMethod": "OPTIONS",
                      "MethodResponses": [
                        {
                          "StatusCode": "200",
                          "ResponseParameters": {
                            "method.response.header.Access-Control-Allow-Origin": true,
                            "method.response.header.Access-Control-Allow-Headers": true,
                            "method.response.header.Access-Control-Allow-Methods": true
                          },
                          "ResponseModels": {}
                        }
                      ],
                      "RequestParameters": {},
                      "Integration": {
                        "Type": "MOCK",
                        "RequestTemplates": {
                          "application/json": "{statusCode:200}"
                        },
                        "ContentHandling": "CONVERT_TO_TEXT",
                        "IntegrationResponses": [
                          {
                            "StatusCode": "200",
                            "ResponseParameters": {
                              "method.response.header.Access-Control-Allow-Origin": "'*'",
                              "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Amzn-Trace-Id'",
                              "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET'"
                            },
                            "ResponseTemplates": {
                              "application/json": ""
                            }
                          }
                        ]
                      },
                      "ResourceId": {
                        "Ref": "ApiGatewayResourceUsersSpotifySpotifyuseridVar"
                      },
                      "RestApiId": {
                        "Ref": "ApiGatewayRestApi"
                      }
                    }
                  },
                  "ApiGatewayMethodMemoriesOptions": {
                    "Type": "AWS::ApiGateway::Method",
                    "Properties": {
                      "AuthorizationType": "NONE",
                      "HttpMethod": "OPTIONS",
                      "MethodResponses": [
                        {
                          "StatusCode": "200",
                          "ResponseParameters": {
                            "method.response.header.Access-Control-Allow-Origin": true,
                            "method.response.header.Access-Control-Allow-Headers": true,
                            "method.response.header.Access-Control-Allow-Methods": true
                          },
                          "ResponseModels": {}
                        }
                      ],
                      "RequestParameters": {},
                      "Integration": {
                        "Type": "MOCK",
                        "RequestTemplates": {
                          "application/json": "{statusCode:200}"
                        },
                        "ContentHandling": "CONVERT_TO_TEXT",
                        "IntegrationResponses": [
                          {
                            "StatusCode": "200",
                            "ResponseParameters": {
                              "method.response.header.Access-Control-Allow-Origin": "'*'",
                              "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Amzn-Trace-Id'",
                              "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,POST'"
                            },
                            "ResponseTemplates": {
                              "application/json": ""
                            }
                          }
                        ]
                      },
                      "ResourceId": {
                        "Ref": "ApiGatewayResourceMemories"
                      },
                      "RestApiId": {
                        "Ref": "ApiGatewayRestApi"
                      }
                    }
                  },
                  "ApiGatewayMethodMemoriesUseridVarMemoryidVarOptions": {
                    "Type": "AWS::ApiGateway::Method",
                    "Properties": {
                      "AuthorizationType": "NONE",
                      "HttpMethod": "OPTIONS",
                      "MethodResponses": [
                        {
                          "StatusCode": "200",
                          "ResponseParameters": {
                            "method.response.header.Access-Control-Allow-Origin": true,
                            "method.response.header.Access-Control-Allow-Headers": true,
                            "method.response.header.Access-Control-Allow-Methods": true
                          },
                          "ResponseModels": {}
                        }
                      ],
                      "RequestParameters": {},
                      "Integration": {
                        "Type": "MOCK",
                        "RequestTemplates": {
                          "application/json": "{statusCode:200}"
                        },
                        "ContentHandling": "CONVERT_TO_TEXT",
                        "IntegrationResponses": [
                          {
                            "StatusCode": "200",
                            "ResponseParameters": {
                              "method.response.header.Access-Control-Allow-Origin": "'*'",
                              "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Amzn-Trace-Id'",
                              "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,DELETE,PUT,GET'"
                            },
                            "ResponseTemplates": {
                              "application/json": ""
                            }
                          }
                        ]
                      },
                      "ResourceId": {
                        "Ref": "ApiGatewayResourceMemoriesUseridVarMemoryidVar"
                      },
                      "RestApiId": {
                        "Ref": "ApiGatewayRestApi"
                      }
                    }
                  },
                  "ApiGatewayMethodMemoriesUseridVarOptions": {
                    "Type": "AWS::ApiGateway::Method",
                    "Properties": {
                      "AuthorizationType": "NONE",
                      "HttpMethod": "OPTIONS",
                      "MethodResponses": [
                        {
                          "StatusCode": "200",
                          "ResponseParameters": {
                            "method.response.header.Access-Control-Allow-Origin": true,
                            "method.response.header.Access-Control-Allow-Headers": true,
                            "method.response.header.Access-Control-Allow-Methods": true
                          },
                          "ResponseModels": {}
                        }
                      ],
                      "RequestParameters": {},
                      "Integration": {
                        "Type": "MOCK",
                        "RequestTemplates": {
                          "application/json": "{statusCode:200}"
                        },
                        "ContentHandling": "CONVERT_TO_TEXT",
                        "IntegrationResponses": [
                          {
                            "StatusCode": "200",
                            "ResponseParameters": {
                              "method.response.header.Access-Control-Allow-Origin": "'*'",
                              "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Amzn-Trace-Id'",
                              "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET'"
                            },
                            "ResponseTemplates": {
                              "application/json": ""
                            }
                          }
                        ]
                      },
                      "ResourceId": {
                        "Ref": "ApiGatewayResourceMemoriesUseridVar"
                      },
                      "RestApiId": {
                        "Ref": "ApiGatewayRestApi"
                      }
                    }
                  },
                  "ApiGatewayMethodSpotifyTracksTopUseridVarOptions": {
                    "Type": "AWS::ApiGateway::Method",
                    "Properties": {
                      "AuthorizationType": "NONE",
                      "HttpMethod": "OPTIONS",
                      "MethodResponses": [
                        {
                          "StatusCode": "200",
                          "ResponseParameters": {
                            "method.response.header.Access-Control-Allow-Origin": true,
                            "method.response.header.Access-Control-Allow-Headers": true,
                            "method.response.header.Access-Control-Allow-Methods": true
                          },
                          "ResponseModels": {}
                        }
                      ],
                      "RequestParameters": {},
                      "Integration": {
                        "Type": "MOCK",
                        "RequestTemplates": {
                          "application/json": "{statusCode:200}"
                        },
                        "ContentHandling": "CONVERT_TO_TEXT",
                        "IntegrationResponses": [
                          {
                            "StatusCode": "200",
                            "ResponseParameters": {
                              "method.response.header.Access-Control-Allow-Origin": "'*'",
                              "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Amzn-Trace-Id'",
                              "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET'"
                            },
                            "ResponseTemplates": {
                              "application/json": ""
                            }
                          }
                        ]
                      },
                      "ResourceId": {
                        "Ref": "ApiGatewayResourceSpotifyTracksTopUseridVar"
                      },
                      "RestApiId": {
                        "Ref": "ApiGatewayRestApi"
                      }
                    }
                  },
                  "ApiGatewayMethodAuthLoginGet": {
                    "Type": "AWS::ApiGateway::Method",
                    "Properties": {
                      "HttpMethod": "GET",
                      "RequestParameters": {},
                      "ResourceId": {
                        "Ref": "ApiGatewayResourceAuthLogin"
                      },
                      "RestApiId": {
                        "Ref": "ApiGatewayRestApi"
                      },
                      "ApiKeyRequired": "<REDACTED>",
                      "AuthorizationType": "NONE",
                      "Integration": {
                        "IntegrationHttpMethod": "POST",
                        "Type": "AWS_PROXY",
                        "Uri": {
                          "Fn::Join": [
                            "",
                            [
                              "arn:",
                              {
                                "Ref": "AWS::Partition"
                              },
                              ":apigateway:",
                              {
                                "Ref": "AWS::Region"
                              },
                              ":lambda:path/2015-03-31/functions/",
                              {
                                "Fn::GetAtt": [
                                  "SpotifyAuthLambdaFunction",
                                  "Arn"
                                ]
                              },
                              "/invocations"
                            ]
                          ]
                        }
                      },
                      "MethodResponses": []
                    },
                    "DependsOn": [
                      "SpotifyAuthLambdaPermissionApiGateway"
                    ]
                  },
                  "ApiGatewayMethodCallbackGet": {
                    "Type": "AWS::ApiGateway::Method",
                    "Properties": {
                      "HttpMethod": "GET",
                      "RequestParameters": {},
                      "ResourceId": {
                        "Ref": "ApiGatewayResourceCallback"
                      },
                      "RestApiId": {
                        "Ref": "ApiGatewayRestApi"
                      },
                      "ApiKeyRequired": "<REDACTED>",
                      "AuthorizationType": "NONE",
                      "Integration": {
                        "IntegrationHttpMethod": "POST",
                        "Type": "AWS_PROXY",
                        "Uri": {
                          "Fn::Join": [
                            "",
                            [
                              "arn:",
                              {
                                "Ref": "AWS::Partition"
                              },
                              ":apigateway:",
                              {
                                "Ref": "AWS::Region"
                              },
                              ":lambda:path/2015-03-31/functions/",
                              {
                                "Fn::GetAtt": [
                                  "SpotifyCallbackLambdaFunction",
                                  "Arn"
                                ]
                              },
                              "/invocations"
                            ]
                          ]
                        }
                      },
                      "MethodResponses": []
                    },
                    "DependsOn": [
                      "SpotifyCallbackLambdaPermissionApiGateway"
                    ]
                  },
                  "ApiGatewayMethodExchangespotifytokenPost": "<REDACTED>",
                  "ApiGatewayMethodRefreshspotifytokenPost": "<REDACTED>",
                  "ApiGatewayMethodValidatespotifytokenUseridVarPost": "<REDACTED>",
                  "ApiGatewayMethodUsersPost": {
                    "Type": "AWS::ApiGateway::Method",
                    "Properties": {
                      "HttpMethod": "POST",
                      "RequestParameters": {},
                      "ResourceId": {
                        "Ref": "ApiGatewayResourceUsers"
                      },
                      "RestApiId": {
                        "Ref": "ApiGatewayRestApi"
                      },
                      "ApiKeyRequired": "<REDACTED>",
                      "AuthorizationType": "NONE",
                      "Integration": {
                        "IntegrationHttpMethod": "POST",
                        "Type": "AWS_PROXY",
                        "Uri": {
                          "Fn::Join": [
                            "",
                            [
                              "arn:",
                              {
                                "Ref": "AWS::Partition"
                              },
                              ":apigateway:",
                              {
                                "Ref": "AWS::Region"
                              },
                              ":lambda:path/2015-03-31/functions/",
                              {
                                "Fn::GetAtt": [
                                  "CreateUserLambdaFunction",
                                  "Arn"
                                ]
                              },
                              "/invocations"
                            ]
                          ]
                        }
                      },
                      "MethodResponses": []
                    },
                    "DependsOn": [
                      "CreateUserLambdaPermissionApiGateway"
                    ]
                  },
                  "ApiGatewayMethodUsersUseridVarGet": {
                    "Type": "AWS::ApiGateway::Method",
                    "Properties": {
                      "HttpMethod": "GET",
                      "RequestParameters": {},
                      "ResourceId": {
                        "Ref": "ApiGatewayResourceUsersUseridVar"
                      },
                      "RestApiId": {
                        "Ref": "ApiGatewayRestApi"
                      },
                      "ApiKeyRequired": "<REDACTED>",
                      "AuthorizationType": "NONE",
                      "Integration": {
                        "IntegrationHttpMethod": "POST",
                        "Type": "AWS_PROXY",
                        "Uri": {
                          "Fn::Join": [
                            "",
                            [
                              "arn:",
                              {
                                "Ref": "AWS::Partition"
                              },
                              ":apigateway:",
                              {
                                "Ref": "AWS::Region"
                              },
                              ":lambda:path/2015-03-31/functions/",
                              {
                                "Fn::GetAtt": [
                                  "GetUserLambdaFunction",
                                  "Arn"
                                ]
                              },
                              "/invocations"
                            ]
                          ]
                        }
                      },
                      "MethodResponses": []
                    },
                    "DependsOn": [
                      "GetUserLambdaPermissionApiGateway"
                    ]
                  },
                  "ApiGatewayMethodUsersSpotifySpotifyuseridVarGet": {
                    "Type": "AWS::ApiGateway::Method",
                    "Properties": {
                      "HttpMethod": "GET",
                      "RequestParameters": {},
                      "ResourceId": {
                        "Ref": "ApiGatewayResourceUsersSpotifySpotifyuseridVar"
                      },
                      "RestApiId": {
                        "Ref": "ApiGatewayRestApi"
                      },
                      "ApiKeyRequired": "<REDACTED>",
                      "AuthorizationType": "NONE",
                      "Integration": {
                        "IntegrationHttpMethod": "POST",
                        "Type": "AWS_PROXY",
                        "Uri": {
                          "Fn::Join": [
                            "",
                            [
                              "arn:",
                              {
                                "Ref": "AWS::Partition"
                              },
                              ":apigateway:",
                              {
                                "Ref": "AWS::Region"
                              },
                              ":lambda:path/2015-03-31/functions/",
                              {
                                "Fn::GetAtt": [
                                  "GetUserLambdaFunction",
                                  "Arn"
                                ]
                              },
                              "/invocations"
                            ]
                          ]
                        }
                      },
                      "MethodResponses": []
                    },
                    "DependsOn": [
                      "GetUserLambdaPermissionApiGateway"
                    ]
                  },
                  "ApiGatewayMethodUsersUseridVarPut": {
                    "Type": "AWS::ApiGateway::Method",
                    "Properties": {
                      "HttpMethod": "PUT",
                      "RequestParameters": {},
                      "ResourceId": {
                        "Ref": "ApiGatewayResourceUsersUseridVar"
                      },
                      "RestApiId": {
                        "Ref": "ApiGatewayRestApi"
                      },
                      "ApiKeyRequired": "<REDACTED>",
                      "AuthorizationType": "NONE",
                      "Integration": {
                        "IntegrationHttpMethod": "POST",
                        "Type": "AWS_PROXY",
                        "Uri": {
                          "Fn::Join": [
                            "",
                            [
                              "arn:",
                              {
                                "Ref": "AWS::Partition"
                              },
                              ":apigateway:",
                              {
                                "Ref": "AWS::Region"
                              },
                              ":lambda:path/2015-03-31/functions/",
                              {
                                "Fn::GetAtt": [
                                  "UpdateUserLambdaFunction",
                                  "Arn"
                                ]
                              },
                              "/invocations"
                            ]
                          ]
                        }
                      },
                      "MethodResponses": []
                    },
                    "DependsOn": [
                      "UpdateUserLambdaPermissionApiGateway"
                    ]
                  },
                  "ApiGatewayMethodUsersUseridVarDelete": {
                    "Type": "AWS::ApiGateway::Method",
                    "Properties": {
                      "HttpMethod": "DELETE",
                      "RequestParameters": {},
                      "ResourceId": {
                        "Ref": "ApiGatewayResourceUsersUseridVar"
                      },
                      "RestApiId": {
                        "Ref": "ApiGatewayRestApi"
                      },
                      "ApiKeyRequired": "<REDACTED>",
                      "AuthorizationType": "NONE",
                      "Integration": {
                        "IntegrationHttpMethod": "POST",
                        "Type": "AWS_PROXY",
                        "Uri": {
                          "Fn::Join": [
                            "",
                            [
                              "arn:",
                              {
                                "Ref": "AWS::Partition"
                              },
                              ":apigateway:",
                              {
                                "Ref": "AWS::Region"
                              },
                              ":lambda:path/2015-03-31/functions/",
                              {
                                "Fn::GetAtt": [
                                  "DeleteUserLambdaFunction",
                                  "Arn"
                                ]
                              },
                              "/invocations"
                            ]
                          ]
                        }
                      },
                      "MethodResponses": []
                    },
                    "DependsOn": [
                      "DeleteUserLambdaPermissionApiGateway"
                    ]
                  },
                  "ApiGatewayMethodMemoriesPost": {
                    "Type": "AWS::ApiGateway::Method",
                    "Properties": {
                      "HttpMethod": "POST",
                      "RequestParameters": {},
                      "ResourceId": {
                        "Ref": "ApiGatewayResourceMemories"
                      },
                      "RestApiId": {
                        "Ref": "ApiGatewayRestApi"
                      },
                      "ApiKeyRequired": "<REDACTED>",
                      "AuthorizationType": "NONE",
                      "Integration": {
                        "IntegrationHttpMethod": "POST",
                        "Type": "AWS_PROXY",
                        "Uri": {
                          "Fn::Join": [
                            "",
                            [
                              "arn:",
                              {
                                "Ref": "AWS::Partition"
                              },
                              ":apigateway:",
                              {
                                "Ref": "AWS::Region"
                              },
                              ":lambda:path/2015-03-31/functions/",
                              {
                                "Fn::GetAtt": [
                                  "CreateMemoryLambdaFunction",
                                  "Arn"
                                ]
                              },
                              "/invocations"
                            ]
                          ]
                        }
                      },
                      "MethodResponses": []
                    },
                    "DependsOn": [
                      "CreateMemoryLambdaPermissionApiGateway"
                    ]
                  },
                  "ApiGatewayMethodMemoriesUseridVarMemoryidVarGet": {
                    "Type": "AWS::ApiGateway::Method",
                    "Properties": {
                      "HttpMethod": "GET",
                      "RequestParameters": {},
                      "ResourceId": {
                        "Ref": "ApiGatewayResourceMemoriesUseridVarMemoryidVar"
                      },
                      "RestApiId": {
                        "Ref": "ApiGatewayRestApi"
                      },
                      "ApiKeyRequired": "<REDACTED>",
                      "AuthorizationType": "NONE",
                      "Integration": {
                        "IntegrationHttpMethod": "POST",
                        "Type": "AWS_PROXY",
                        "Uri": {
                          "Fn::Join": [
                            "",
                            [
                              "arn:",
                              {
                                "Ref": "AWS::Partition"
                              },
                              ":apigateway:",
                              {
                                "Ref": "AWS::Region"
                              },
                              ":lambda:path/2015-03-31/functions/",
                              {
                                "Fn::GetAtt": [
                                  "GetMemoryLambdaFunction",
                                  "Arn"
                                ]
                              },
                              "/invocations"
                            ]
                          ]
                        }
                      },
                      "MethodResponses": []
                    },
                    "DependsOn": [
                      "GetMemoryLambdaPermissionApiGateway"
                    ]
                  },
                  "ApiGatewayMethodMemoriesUseridVarMemoryidVarPut": {
                    "Type": "AWS::ApiGateway::Method",
                    "Properties": {
                      "HttpMethod": "PUT",
                      "RequestParameters": {},
                      "ResourceId": {
                        "Ref": "ApiGatewayResourceMemoriesUseridVarMemoryidVar"
                      },
                      "RestApiId": {
                        "Ref": "ApiGatewayRestApi"
                      },
                      "ApiKeyRequired": "<REDACTED>",
                      "AuthorizationType": "NONE",
                      "Integration": {
                        "IntegrationHttpMethod": "POST",
                        "Type": "AWS_PROXY",
                        "Uri": {
                          "Fn::Join": [
                            "",
                            [
                              "arn:",
                              {
                                "Ref": "AWS::Partition"
                              },
                              ":apigateway:",
                              {
                                "Ref": "AWS::Region"
                              },
                              ":lambda:path/2015-03-31/functions/",
                              {
                                "Fn::GetAtt": [
                                  "UpdateMemoryLambdaFunction",
                                  "Arn"
                                ]
                              },
                              "/invocations"
                            ]
                          ]
                        }
                      },
                      "MethodResponses": []
                    },
                    "DependsOn": [
                      "UpdateMemoryLambdaPermissionApiGateway"
                    ]
                  },
                  "ApiGatewayMethodMemoriesUseridVarMemoryidVarDelete": {
                    "Type": "AWS::ApiGateway::Method",
                    "Properties": {
                      "HttpMethod": "DELETE",
                      "RequestParameters": {},
                      "ResourceId": {
                        "Ref": "ApiGatewayResourceMemoriesUseridVarMemoryidVar"
                      },
                      "RestApiId": {
                        "Ref": "ApiGatewayRestApi"
                      },
                      "ApiKeyRequired": "<REDACTED>",
                      "AuthorizationType": "NONE",
                      "Integration": {
                        "IntegrationHttpMethod": "POST",
                        "Type": "AWS_PROXY",
                        "Uri": {
                          "Fn::Join": [
                            "",
                            [
                              "arn:",
                              {
                                "Ref": "AWS::Partition"
                              },
                              ":apigateway:",
                              {
                                "Ref": "AWS::Region"
                              },
                              ":lambda:path/2015-03-31/functions/",
                              {
                                "Fn::GetAtt": [
                                  "DeleteMemoryLambdaFunction",
                                  "Arn"
                                ]
                              },
                              "/invocations"
                            ]
                          ]
                        }
                      },
                      "MethodResponses": []
                    },
                    "DependsOn": [
                      "DeleteMemoryLambdaPermissionApiGateway"
                    ]
                  },
                  "ApiGatewayMethodMemoriesUseridVarGet": {
                    "Type": "AWS::ApiGateway::Method",
                    "Properties": {
                      "HttpMethod": "GET",
                      "RequestParameters": {},
                      "ResourceId": {
                        "Ref": "ApiGatewayResourceMemoriesUseridVar"
                      },
                      "RestApiId": {
                        "Ref": "ApiGatewayRestApi"
                      },
                      "ApiKeyRequired": "<REDACTED>",
                      "AuthorizationType": "NONE",
                      "Integration": {
                        "IntegrationHttpMethod": "POST",
                        "Type": "AWS_PROXY",
                        "Uri": {
                          "Fn::Join": [
                            "",
                            [
                              "arn:",
                              {
                                "Ref": "AWS::Partition"
                              },
                              ":apigateway:",
                              {
                                "Ref": "AWS::Region"
                              },
                              ":lambda:path/2015-03-31/functions/",
                              {
                                "Fn::GetAtt": [
                                  "ListMemoriesLambdaFunction",
                                  "Arn"
                                ]
                              },
                              "/invocations"
                            ]
                          ]
                        }
                      },
                      "MethodResponses": []
                    },
                    "DependsOn": [
                      "ListMemoriesLambdaPermissionApiGateway"
                    ]
                  },
                  "ApiGatewayMethodSpotifyTracksTopUseridVarGet": {
                    "Type": "AWS::ApiGateway::Method",
                    "Properties": {
                      "HttpMethod": "GET",
                      "RequestParameters": {},
                      "ResourceId": {
                        "Ref": "ApiGatewayResourceSpotifyTracksTopUseridVar"
                      },
                      "RestApiId": {
                        "Ref": "ApiGatewayRestApi"
                      },
                      "ApiKeyRequired": "<REDACTED>",
                      "AuthorizationType": "NONE",
                      "Integration": {
                        "IntegrationHttpMethod": "POST",
                        "Type": "AWS_PROXY",
                        "Uri": {
                          "Fn::Join": [
                            "",
                            [
                              "arn:",
                              {
                                "Ref": "AWS::Partition"
                              },
                              ":apigateway:",
                              {
                                "Ref": "AWS::Region"
                              },
                              ":lambda:path/2015-03-31/functions/",
                              {
                                "Fn::GetAtt": [
                                  "GetTopTracksLambdaFunction",
                                  "Arn"
                                ]
                              },
                              "/invocations"
                            ]
                          ]
                        }
                      },
                      "MethodResponses": []
                    },
                    "DependsOn": [
                      "GetTopTracksLambdaPermissionApiGateway"
                    ]
                  },
                  "ApiGatewayDeployment1727560454908": {
                    "Type": "AWS::ApiGateway::Deployment",
                    "Properties": {
                      "RestApiId": {
                        "Ref": "ApiGatewayRestApi"
                      },
                      "StageName": "dev"
                    },
                    "DependsOn": [
                      "ApiGatewayMethodAuthLoginOptions",
                      "ApiGatewayMethodCallbackOptions",
                      "ApiGatewayMethodExchangespotifytokenOptions",
                      "ApiGatewayMethodRefreshspotifytokenOptions",
                      "ApiGatewayMethodValidatespotifytokenUseridVarOptions",
                      "ApiGatewayMethodUsersOptions",
                      "ApiGatewayMethodUsersUseridVarOptions",
                      "ApiGatewayMethodUsersSpotifySpotifyuseridVarOptions",
                      "ApiGatewayMethodMemoriesOptions",
                      "ApiGatewayMethodMemoriesUseridVarMemoryidVarOptions",
                      "ApiGatewayMethodMemoriesUseridVarOptions",
                      "ApiGatewayMethodSpotifyTracksTopUseridVarOptions",
                      "ApiGatewayMethodAuthLoginGet",
                      "ApiGatewayMethodCallbackGet",
                      "ApiGatewayMethodExchangespotifytokenPost",
                      "ApiGatewayMethodRefreshspotifytokenPost",
                      "ApiGatewayMethodValidatespotifytokenUseridVarPost",
                      "ApiGatewayMethodUsersPost",
                      "ApiGatewayMethodUsersUseridVarGet",
                      "ApiGatewayMethodUsersSpotifySpotifyuseridVarGet",
                      "ApiGatewayMethodUsersUseridVarPut",
                      "ApiGatewayMethodUsersUseridVarDelete",
                      "ApiGatewayMethodMemoriesPost",
                      "ApiGatewayMethodMemoriesUseridVarMemoryidVarGet",
                      "ApiGatewayMethodMemoriesUseridVarMemoryidVarPut",
                      "ApiGatewayMethodMemoriesUseridVarMemoryidVarDelete",
                      "ApiGatewayMethodMemoriesUseridVarGet",
                      "ApiGatewayMethodSpotifyTracksTopUseridVarGet"
                    ]
                  },
                  "SpotifyAuthLambdaPermissionApiGateway": {
                    "Type": "AWS::Lambda::Permission",
                    "Properties": {
                      "FunctionName": {
                        "Fn::GetAtt": [
                          "SpotifyAuthLambdaFunction",
                          "Arn"
                        ]
                      },
                      "Action": "lambda:InvokeFunction",
                      "Principal": "apigateway.amazonaws.com",
                      "SourceArn": {
                        "Fn::Join": [
                          "",
                          [
                            "arn:",
                            {
                              "Ref": "AWS::Partition"
                            },
                            ":execute-api:",
                            {
                              "Ref": "AWS::Region"
                            },
                            ":",
                            {
                              "Ref": "AWS::AccountId"
                            },
                            ":",
                            {
                              "Ref": "ApiGatewayRestApi"
                            },
                            "/*/*"
                          ]
                        ]
                      }
                    }
                  },
                  "SpotifyCallbackLambdaPermissionApiGateway": {
                    "Type": "AWS::Lambda::Permission",
                    "Properties": {
                      "FunctionName": {
                        "Fn::GetAtt": [
                          "SpotifyCallbackLambdaFunction",
                          "Arn"
                        ]
                      },
                      "Action": "lambda:InvokeFunction",
                      "Principal": "apigateway.amazonaws.com",
                      "SourceArn": {
                        "Fn::Join": [
                          "",
                          [
                            "arn:",
                            {
                              "Ref": "AWS::Partition"
                            },
                            ":execute-api:",
                            {
                              "Ref": "AWS::Region"
                            },
                            ":",
                            {
                              "Ref": "AWS::AccountId"
                            },
                            ":",
                            {
                              "Ref": "ApiGatewayRestApi"
                            },
                            "/*/*"
                          ]
                        ]
                      }
                    }
                  },
                  "ExchangeSpotifyTokenLambdaPermissionApiGateway": "<REDACTED>",
                  "RefreshSpotifyTokenLambdaPermissionApiGateway": "<REDACTED>",
                  "ValidateSpotifyTokenLambdaPermissionApiGateway": "<REDACTED>",
                  "CreateUserLambdaPermissionApiGateway": {
                    "Type": "AWS::Lambda::Permission",
                    "Properties": {
                      "FunctionName": {
                        "Fn::GetAtt": [
                          "CreateUserLambdaFunction",
                          "Arn"
                        ]
                      },
                      "Action": "lambda:InvokeFunction",
                      "Principal": "apigateway.amazonaws.com",
                      "SourceArn": {
                        "Fn::Join": [
                          "",
                          [
                            "arn:",
                            {
                              "Ref": "AWS::Partition"
                            },
                            ":execute-api:",
                            {
                              "Ref": "AWS::Region"
                            },
                            ":",
                            {
                              "Ref": "AWS::AccountId"
                            },
                            ":",
                            {
                              "Ref": "ApiGatewayRestApi"
                            },
                            "/*/*"
                          ]
                        ]
                      }
                    }
                  },
                  "GetUserLambdaPermissionApiGateway": {
                    "Type": "AWS::Lambda::Permission",
                    "Properties": {
                      "FunctionName": {
                        "Fn::GetAtt": [
                          "GetUserLambdaFunction",
                          "Arn"
                        ]
                      },
                      "Action": "lambda:InvokeFunction",
                      "Principal": "apigateway.amazonaws.com",
                      "SourceArn": {
                        "Fn::Join": [
                          "",
                          [
                            "arn:",
                            {
                              "Ref": "AWS::Partition"
                            },
                            ":execute-api:",
                            {
                              "Ref": "AWS::Region"
                            },
                            ":",
                            {
                              "Ref": "AWS::AccountId"
                            },
                            ":",
                            {
                              "Ref": "ApiGatewayRestApi"
                            },
                            "/*/*"
                          ]
                        ]
                      }
                    }
                  },
                  "UpdateUserLambdaPermissionApiGateway": {
                    "Type": "AWS::Lambda::Permission",
                    "Properties": {
                      "FunctionName": {
                        "Fn::GetAtt": [
                          "UpdateUserLambdaFunction",
                          "Arn"
                        ]
                      },
                      "Action": "lambda:InvokeFunction",
                      "Principal": "apigateway.amazonaws.com",
                      "SourceArn": {
                        "Fn::Join": [
                          "",
                          [
                            "arn:",
                            {
                              "Ref": "AWS::Partition"
                            },
                            ":execute-api:",
                            {
                              "Ref": "AWS::Region"
                            },
                            ":",
                            {
                              "Ref": "AWS::AccountId"
                            },
                            ":",
                            {
                              "Ref": "ApiGatewayRestApi"
                            },
                            "/*/*"
                          ]
                        ]
                      }
                    }
                  },
                  "DeleteUserLambdaPermissionApiGateway": {
                    "Type": "AWS::Lambda::Permission",
                    "Properties": {
                      "FunctionName": {
                        "Fn::GetAtt": [
                          "DeleteUserLambdaFunction",
                          "Arn"
                        ]
                      },
                      "Action": "lambda:InvokeFunction",
                      "Principal": "apigateway.amazonaws.com",
                      "SourceArn": {
                        "Fn::Join": [
                          "",
                          [
                            "arn:",
                            {
                              "Ref": "AWS::Partition"
                            },
                            ":execute-api:",
                            {
                              "Ref": "AWS::Region"
                            },
                            ":",
                            {
                              "Ref": "AWS::AccountId"
                            },
                            ":",
                            {
                              "Ref": "ApiGatewayRestApi"
                            },
                            "/*/*"
                          ]
                        ]
                      }
                    }
                  },
                  "CreateMemoryLambdaPermissionApiGateway": {
                    "Type": "AWS::Lambda::Permission",
                    "Properties": {
                      "FunctionName": {
                        "Fn::GetAtt": [
                          "CreateMemoryLambdaFunction",
                          "Arn"
                        ]
                      },
                      "Action": "lambda:InvokeFunction",
                      "Principal": "apigateway.amazonaws.com",
                      "SourceArn": {
                        "Fn::Join": [
                          "",
                          [
                            "arn:",
                            {
                              "Ref": "AWS::Partition"
                            },
                            ":execute-api:",
                            {
                              "Ref": "AWS::Region"
                            },
                            ":",
                            {
                              "Ref": "AWS::AccountId"
                            },
                            ":",
                            {
                              "Ref": "ApiGatewayRestApi"
                            },
                            "/*/*"
                          ]
                        ]
                      }
                    }
                  },
                  "GetMemoryLambdaPermissionApiGateway": {
                    "Type": "AWS::Lambda::Permission",
                    "Properties": {
                      "FunctionName": {
                        "Fn::GetAtt": [
                          "GetMemoryLambdaFunction",
                          "Arn"
                        ]
                      },
                      "Action": "lambda:InvokeFunction",
                      "Principal": "apigateway.amazonaws.com",
                      "SourceArn": {
                        "Fn::Join": [
                          "",
                          [
                            "arn:",
                            {
                              "Ref": "AWS::Partition"
                            },
                            ":execute-api:",
                            {
                              "Ref": "AWS::Region"
                            },
                            ":",
                            {
                              "Ref": "AWS::AccountId"
                            },
                            ":",
                            {
                              "Ref": "ApiGatewayRestApi"
                            },
                            "/*/*"
                          ]
                        ]
                      }
                    }
                  },
                  "UpdateMemoryLambdaPermissionApiGateway": {
                    "Type": "AWS::Lambda::Permission",
                    "Properties": {
                      "FunctionName": {
                        "Fn::GetAtt": [
                          "UpdateMemoryLambdaFunction",
                          "Arn"
                        ]
                      },
                      "Action": "lambda:InvokeFunction",
                      "Principal": "apigateway.amazonaws.com",
                      "SourceArn": {
                        "Fn::Join": [
                          "",
                          [
                            "arn:",
                            {
                              "Ref": "AWS::Partition"
                            },
                            ":execute-api:",
                            {
                              "Ref": "AWS::Region"
                            },
                            ":",
                            {
                              "Ref": "AWS::AccountId"
                            },
                            ":",
                            {
                              "Ref": "ApiGatewayRestApi"
                            },
                            "/*/*"
                          ]
                        ]
                      }
                    }
                  },
                  "DeleteMemoryLambdaPermissionApiGateway": {
                    "Type": "AWS::Lambda::Permission",
                    "Properties": {
                      "FunctionName": {
                        "Fn::GetAtt": [
                          "DeleteMemoryLambdaFunction",
                          "Arn"
                        ]
                      },
                      "Action": "lambda:InvokeFunction",
                      "Principal": "apigateway.amazonaws.com",
                      "SourceArn": {
                        "Fn::Join": [
                          "",
                          [
                            "arn:",
                            {
                              "Ref": "AWS::Partition"
                            },
                            ":execute-api:",
                            {
                              "Ref": "AWS::Region"
                            },
                            ":",
                            {
                              "Ref": "AWS::AccountId"
                            },
                            ":",
                            {
                              "Ref": "ApiGatewayRestApi"
                            },
                            "/*/*"
                          ]
                        ]
                      }
                    }
                  },
                  "ListMemoriesLambdaPermissionApiGateway": {
                    "Type": "AWS::Lambda::Permission",
                    "Properties": {
                      "FunctionName": {
                        "Fn::GetAtt": [
                          "ListMemoriesLambdaFunction",
                          "Arn"
                        ]
                      },
                      "Action": "lambda:InvokeFunction",
                      "Principal": "apigateway.amazonaws.com",
                      "SourceArn": {
                        "Fn::Join": [
                          "",
                          [
                            "arn:",
                            {
                              "Ref": "AWS::Partition"
                            },
                            ":execute-api:",
                            {
                              "Ref": "AWS::Region"
                            },
                            ":",
                            {
                              "Ref": "AWS::AccountId"
                            },
                            ":",
                            {
                              "Ref": "ApiGatewayRestApi"
                            },
                            "/*/*"
                          ]
                        ]
                      }
                    }
                  },
                  "GetTopTracksLambdaPermissionApiGateway": {
                    "Type": "AWS::Lambda::Permission",
                    "Properties": {
                      "FunctionName": {
                        "Fn::GetAtt": [
                          "GetTopTracksLambdaFunction",
                          "Arn"
                        ]
                      },
                      "Action": "lambda:InvokeFunction",
                      "Principal": "apigateway.amazonaws.com",
                      "SourceArn": {
                        "Fn::Join": [
                          "",
                          [
                            "arn:",
                            {
                              "Ref": "AWS::Partition"
                            },
                            ":execute-api:",
                            {
                              "Ref": "AWS::Region"
                            },
                            ":",
                            {
                              "Ref": "AWS::AccountId"
                            },
                            ":",
                            {
                              "Ref": "ApiGatewayRestApi"
                            },
                            "/*/*"
                          ]
                        ]
                      }
                    }
                  },
                  "StreamMemoryUpdatesEventSourceMappingDynamodbMemoriesTable": {
                    "Type": "AWS::Lambda::EventSourceMapping",
                    "DependsOn": [
                      "IamRoleLambdaExecution"
                    ],
                    "Properties": {
                      "BatchSize": 10,
                      "Enabled": true,
                      "EventSourceArn": {
                        "Fn::GetAtt": [
                          "MemoriesTable",
                          "StreamArn"
                        ]
                      },
                      "FunctionName": {
                        "Fn::GetAtt": [
                          "StreamMemoryUpdatesLambdaFunction",
                          "Arn"
                        ]
                      },
                      "StartingPosition": "TRIM_HORIZON"
                    }
                  },
                  "AuthSessionData": {
                    "Type": "AWS::DynamoDB::Table",
                    "Properties": {
                      "TableName": "AuthSessionData",
                      "AttributeDefinitions": [
                        {
                          "AttributeName": "UserId",
                          "AttributeType": "S"
                        }
                      ],
                      "KeySchema": [
                        {
                          "AttributeName": "UserId",
                          "KeyType": "HASH"
                        }
                      ],
                      "BillingMode": "PAY_PER_REQUEST",
                      "TimeToLiveSpecification": {
                        "AttributeName": "ExpiresAt",
                        "Enabled": true
                      }
                    }
                  },
                  "UsersTable": {
                    "Type": "AWS::DynamoDB::Table",
                    "Properties": {
                      "TableName": "Users",
                      "AttributeDefinitions": [
                        {
                          "AttributeName": "UserId",
                          "AttributeType": "S"
                        },
                        {
                          "AttributeName": "SpotifyUserId",
                          "AttributeType": "S"
                        }
                      ],
                      "KeySchema": [
                        {
                          "AttributeName": "UserId",
                          "KeyType": "HASH"
                        }
                      ],
                      "GlobalSecondaryIndexes": [
                        {
                          "IndexName": "SpotifyUserIdIndex",
                          "KeySchema": [
                            {
                              "AttributeName": "SpotifyUserId",
                              "KeyType": "HASH"
                            }
                          ],
                          "Projection": {
                            "ProjectionType": "ALL"
                          }
                        }
                      ],
                      "BillingMode": "PAY_PER_REQUEST",
                      "StreamSpecification": {
                        "StreamViewType": "NEW_AND_OLD_IMAGES"
                      }
                    }
                  },
                  "MemoriesTable": {
                    "Type": "AWS::DynamoDB::Table",
                    "Properties": {
                      "TableName": "Memories",
                      "AttributeDefinitions": [
                        {
                          "AttributeName": "UserId",
                          "AttributeType": "S"
                        },
                        {
                          "AttributeName": "MemoryId",
                          "AttributeType": "S"
                        }
                      ],
                      "KeySchema": [
                        {
                          "AttributeName": "UserId",
                          "KeyType": "HASH"
                        },
                        {
                          "AttributeName": "MemoryId",
                          "KeyType": "RANGE"
                        }
                      ],
                      "BillingMode": "PAY_PER_REQUEST",
                      "StreamSpecification": {
                        "StreamViewType": "NEW_AND_OLD_IMAGES"
                      }
                    }
                  }
                },
                "Outputs": {
                  "ServerlessDeploymentBucketName": {
                    "Value": "serverless-framework-deployments-us-east-1-55cebd6e-28d6",
                    "Export": {
                      "Name": "sls-nostalgio-backend-dev-ServerlessDeploymentBucketName"
                    }
                  },
                  "SpotifyAuthLambdaFunctionQualifiedArn": {
                    "Description": "Current Lambda function version",
                    "Value": {
                      "Ref": "SpotifyAuthLambdaVersiontPVw1jw6Aad7GcKwIlpemFCqIaCScnAITl3ct4KZJI"
                    },
                    "Export": {
                      "Name": "sls-nostalgio-backend-dev-SpotifyAuthLambdaFunctionQualifiedArn"
                    }
                  },
                  "ValidateSpotifyTokenLambdaFunctionQualifiedArn": "<REDACTED>",
                  "ExchangeSpotifyTokenLambdaFunctionQualifiedArn": "<REDACTED>",
                  "UpdateUserLambdaFunctionQualifiedArn": {
                    "Description": "Current Lambda function version",
                    "Value": {
                      "Ref": "UpdateUserLambdaVersionFrQkQgMdoj08bEB3fIzaN9z59gjE5Xea9cTEHVgLlI"
                    },
                    "Export": {
                      "Name": "sls-nostalgio-backend-dev-UpdateUserLambdaFunctionQualifiedArn"
                    }
                  },
                  "SpotifyCallbackLambdaFunctionQualifiedArn": {
                    "Description": "Current Lambda function version",
                    "Value": {
                      "Ref": "SpotifyCallbackLambdaVersionHcwq496FnTX493Oq4vfTdlqrRP8N1zvi7YpHJ9IT2MM"
                    },
                    "Export": {
                      "Name": "sls-nostalgio-backend-dev-SpotifyCallbackLambdaFunctionQualifiedArn"
                    }
                  },
                  "GetUserLambdaFunctionQualifiedArn": {
                    "Description": "Current Lambda function version",
                    "Value": {
                      "Ref": "GetUserLambdaVersionDwz0xJGw46JR9RJ0XK93zJaYjpIdmmmDQy8Zekxc"
                    },
                    "Export": {
                      "Name": "sls-nostalgio-backend-dev-GetUserLambdaFunctionQualifiedArn"
                    }
                  },
                  "CreateUserLambdaFunctionQualifiedArn": {
                    "Description": "Current Lambda function version",
                    "Value": {
                      "Ref": "CreateUserLambdaVersionsLF1EE4pnRkmumF2DuBOPrl2ncWgnikHBKghcukcY"
                    },
                    "Export": {
                      "Name": "sls-nostalgio-backend-dev-CreateUserLambdaFunctionQualifiedArn"
                    }
                  },
                  "RefreshSpotifyTokenLambdaFunctionQualifiedArn": "<REDACTED>",
                  "DeleteUserLambdaFunctionQualifiedArn": {
                    "Description": "Current Lambda function version",
                    "Value": {
                      "Ref": "DeleteUserLambdaVersionfmmH52E282Q7f76Callujj6vTerG8qe8enOC65o"
                    },
                    "Export": {
                      "Name": "sls-nostalgio-backend-dev-DeleteUserLambdaFunctionQualifiedArn"
                    }
                  },
                  "CreateMemoryLambdaFunctionQualifiedArn": {
                    "Description": "Current Lambda function version",
                    "Value": {
                      "Ref": "CreateMemoryLambdaVersionokDKpGGXuW2mpWPVyeVJ36htBtjmkk3BaEoiz8ds"
                    },
                    "Export": {
                      "Name": "sls-nostalgio-backend-dev-CreateMemoryLambdaFunctionQualifiedArn"
                    }
                  },
                  "UpdateMemoryLambdaFunctionQualifiedArn": {
                    "Description": "Current Lambda function version",
                    "Value": {
                      "Ref": "UpdateMemoryLambdaVersionRacKmRvFJEeFd7F21R8BHYK7dnDN2aN69iVOlSMRQc"
                    },
                    "Export": {
                      "Name": "sls-nostalgio-backend-dev-UpdateMemoryLambdaFunctionQualifiedArn"
                    }
                  },
                  "ListMemoriesLambdaFunctionQualifiedArn": {
                    "Description": "Current Lambda function version",
                    "Value": {
                      "Ref": "ListMemoriesLambdaVersionZei8fgbvJAKnhQRvNCoUNHg2IEK3KW16rdfA0cMRM"
                    },
                    "Export": {
                      "Name": "sls-nostalgio-backend-dev-ListMemoriesLambdaFunctionQualifiedArn"
                    }
                  },
                  "StreamMemoryUpdatesLambdaFunctionQualifiedArn": {
                    "Description": "Current Lambda function version",
                    "Value": {
                      "Ref": "StreamMemoryUpdatesLambdaVersionlbDkfvE4o4xulVdClHlWRmN9YhSH98gMnYkP1Z57veE"
                    },
                    "Export": {
                      "Name": "sls-nostalgio-backend-dev-StreamMemoryUpdatesLambdaFunctionQualifiedArn"
                    }
                  },
                  "DeleteMemoryLambdaFunctionQualifiedArn": {
                    "Description": "Current Lambda function version",
                    "Value": {
                      "Ref": "DeleteMemoryLambdaVersion2UrMfz0smOQVM2fCOpE32ahiZHqi7YUJH4fx918oY"
                    },
                    "Export": {
                      "Name": "sls-nostalgio-backend-dev-DeleteMemoryLambdaFunctionQualifiedArn"
                    }
                  },
                  "GetTopTracksLambdaFunctionQualifiedArn": {
                    "Description": "Current Lambda function version",
                    "Value": {
                      "Ref": "GetTopTracksLambdaVersion72SznfM9ZnOREILfCYeAqxbsHEnx5fntkZUB3SZS84"
                    },
                    "Export": {
                      "Name": "sls-nostalgio-backend-dev-GetTopTracksLambdaFunctionQualifiedArn"
                    }
                  },
                  "GetMemoryLambdaFunctionQualifiedArn": {
                    "Description": "Current Lambda function version",
                    "Value": {
                      "Ref": "GetMemoryLambdaVersionkYIdneML5V5faoCn7Ymh96ZRIQbD3ymhtXJ0RxXWZ4"
                    },
                    "Export": {
                      "Name": "sls-nostalgio-backend-dev-GetMemoryLambdaFunctionQualifiedArn"
                    }
                  },
                  "ServiceEndpoint": {
                    "Description": "URL of the service endpoint",
                    "Value": {
                      "Fn::Join": [
                        "",
                        [
                          "https://",
                          {
                            "Ref": "ApiGatewayRestApi"
                          },
                          ".execute-api.",
                          {
                            "Ref": "AWS::Region"
                          },
                          ".",
                          {
                            "Ref": "AWS::URLSuffix"
                          },
                          "/dev"
                        ]
                      ]
                    },
                    "Export": {
                      "Name": "sls-nostalgio-backend-dev-ServiceEndpoint"
                    }
                  }
                }
              },
              "vpc": {}
            },
            "package": {
              "individually": true,
              "artifactsS3KeyDirname": "serverless/nostalgio-backend/dev/code-artifacts",
              "deploymentBucket": "serverless-framework-deployments-us-east-1-55cebd6e-28d6",
              "artifactDirectoryName": "serverless/nostalgio-backend/dev/1727560476305-2024-09-28T21:54:36.305Z"
            },
            "plugins": [
              "serverless-offline"
            ],
            "functions": {
              "spotifyAuth": {
                "handler": "src/auth/spotify/spotifyAuthHandler.spotifyAuthHandler",
                "events": [
                  {
                    "http": {
                      "path": "auth/login",
                      "method": "get",
                      "cors": {
                        "origin": "*",
                        "methods": [
                          "OPTIONS",
                          "GET"
                        ],
                        "headers": [
                          "Content-Type",
                          "X-Amz-Date",
                          "Authorization",
                          "X-Api-Key",
                          "X-Amz-Security-Token",
                          "X-Amz-User-Agent",
                          "X-Amzn-Trace-Id"
                        ],
                        "allowCredentials": "<REDACTED>"
                      },
                      "integration": "AWS_PROXY"
                    }
                  }
                ],
                "name": "nostalgio-backend-dev-spotifyAuth",
                "package": {
                  "artifact": "/Users/andresgarcia/Desktop/ACM_Projects/Nostalgio/server/.serverless/spotifyAuth.zip"
                },
                "memory": 1024,
                "timeout": 6,
                "runtime": "nodejs18.x",
                "vpc": {},
                "versionLogicalId": "SpotifyAuthLambdaVersiontPVw1jw6Aad7GcKwIlpemFCqIaCScnAITl3ct4KZJI"
              },
              "spotifyCallback": {
                "handler": "src/auth/spotify/spotifyCallbackHandler.spotifyCallbackHandler",
                "events": [
                  {
                    "http": {
                      "path": "callback",
                      "method": "get",
                      "cors": {
                        "origin": "*",
                        "methods": [
                          "OPTIONS",
                          "GET"
                        ],
                        "headers": [
                          "Content-Type",
                          "X-Amz-Date",
                          "Authorization",
                          "X-Api-Key",
                          "X-Amz-Security-Token",
                          "X-Amz-User-Agent",
                          "X-Amzn-Trace-Id"
                        ],
                        "allowCredentials": "<REDACTED>"
                      },
                      "integration": "AWS_PROXY"
                    }
                  }
                ],
                "name": "nostalgio-backend-dev-spotifyCallback",
                "package": {
                  "artifact": "/Users/andresgarcia/Desktop/ACM_Projects/Nostalgio/server/.serverless/spotifyCallback.zip"
                },
                "memory": 1024,
                "timeout": 6,
                "runtime": "nodejs18.x",
                "vpc": {},
                "versionLogicalId": "SpotifyCallbackLambdaVersionHcwq496FnTX493Oq4vfTdlqrRP8N1zvi7YpHJ9IT2MM"
              },
              "exchangeSpotifyToken": "<REDACTED>",
              "refreshSpotifyToken": "<REDACTED>",
              "validateSpotifyToken": "<REDACTED>",
              "createUser": {
                "handler": "src/users/handlers/createUser.createUserHandler",
                "events": [
                  {
                    "http": {
                      "path": "users",
                      "method": "post",
                      "cors": {
                        "origin": "*",
                        "methods": [
                          "OPTIONS",
                          "POST"
                        ],
                        "headers": [
                          "Content-Type",
                          "X-Amz-Date",
                          "Authorization",
                          "X-Api-Key",
                          "X-Amz-Security-Token",
                          "X-Amz-User-Agent",
                          "X-Amzn-Trace-Id"
                        ],
                        "allowCredentials": "<REDACTED>"
                      },
                      "integration": "AWS_PROXY"
                    }
                  }
                ],
                "name": "nostalgio-backend-dev-createUser",
                "package": {
                  "artifact": "/Users/andresgarcia/Desktop/ACM_Projects/Nostalgio/server/.serverless/createUser.zip"
                },
                "memory": 1024,
                "timeout": 6,
                "runtime": "nodejs18.x",
                "vpc": {},
                "versionLogicalId": "CreateUserLambdaVersionsLF1EE4pnRkmumF2DuBOPrl2ncWgnikHBKghcukcY"
              },
              "getUser": {
                "handler": "src/users/handlers/getUser.getUserHandler",
                "events": [
                  {
                    "http": {
                      "path": "users/{userId}",
                      "method": "get",
                      "cors": {
                        "origin": "*",
                        "methods": [
                          "OPTIONS",
                          "GET"
                        ],
                        "headers": [
                          "Content-Type",
                          "X-Amz-Date",
                          "Authorization",
                          "X-Api-Key",
                          "X-Amz-Security-Token",
                          "X-Amz-User-Agent",
                          "X-Amzn-Trace-Id"
                        ],
                        "allowCredentials": "<REDACTED>"
                      },
                      "integration": "AWS_PROXY"
                    }
                  },
                  {
                    "http": {
                      "path": "users/spotify/{spotifyUserId}",
                      "method": "get",
                      "cors": {
                        "origin": "*",
                        "methods": [
                          "OPTIONS",
                          "GET"
                        ],
                        "headers": [
                          "Content-Type",
                          "X-Amz-Date",
                          "Authorization",
                          "X-Api-Key",
                          "X-Amz-Security-Token",
                          "X-Amz-User-Agent",
                          "X-Amzn-Trace-Id"
                        ],
                        "allowCredentials": "<REDACTED>"
                      },
                      "integration": "AWS_PROXY"
                    }
                  }
                ],
                "name": "nostalgio-backend-dev-getUser",
                "package": {
                  "artifact": "/Users/andresgarcia/Desktop/ACM_Projects/Nostalgio/server/.serverless/getUser.zip"
                },
                "memory": 1024,
                "timeout": 6,
                "runtime": "nodejs18.x",
                "vpc": {},
                "versionLogicalId": "GetUserLambdaVersionDwz0xJGw46JR9RJ0XK93zJaYjpIdmmmDQy8Zekxc"
              },
              "updateUser": {
                "handler": "src/users/handlers/updateUser.updateUserHandler",
                "events": [
                  {
                    "http": {
                      "path": "users/{userId}",
                      "method": "put",
                      "cors": {
                        "origin": "*",
                        "methods": [
                          "OPTIONS",
                          "PUT"
                        ],
                        "headers": [
                          "Content-Type",
                          "X-Amz-Date",
                          "Authorization",
                          "X-Api-Key",
                          "X-Amz-Security-Token",
                          "X-Amz-User-Agent",
                          "X-Amzn-Trace-Id"
                        ],
                        "allowCredentials": "<REDACTED>"
                      },
                      "integration": "AWS_PROXY"
                    }
                  }
                ],
                "name": "nostalgio-backend-dev-updateUser",
                "package": {
                  "artifact": "/Users/andresgarcia/Desktop/ACM_Projects/Nostalgio/server/.serverless/updateUser.zip"
                },
                "memory": 1024,
                "timeout": 6,
                "runtime": "nodejs18.x",
                "vpc": {},
                "versionLogicalId": "UpdateUserLambdaVersionFrQkQgMdoj08bEB3fIzaN9z59gjE5Xea9cTEHVgLlI"
              },
              "deleteUser": {
                "handler": "src/users/handlers/deleteUser.deleteUserHandler",
                "events": [
                  {
                    "http": {
                      "path": "users/{userId}",
                      "method": "delete",
                      "cors": {
                        "origin": "*",
                        "methods": [
                          "OPTIONS",
                          "DELETE"
                        ],
                        "headers": [
                          "Content-Type",
                          "X-Amz-Date",
                          "Authorization",
                          "X-Api-Key",
                          "X-Amz-Security-Token",
                          "X-Amz-User-Agent",
                          "X-Amzn-Trace-Id"
                        ],
                        "allowCredentials": "<REDACTED>"
                      },
                      "integration": "AWS_PROXY"
                    }
                  }
                ],
                "name": "nostalgio-backend-dev-deleteUser",
                "package": {
                  "artifact": "/Users/andresgarcia/Desktop/ACM_Projects/Nostalgio/server/.serverless/deleteUser.zip"
                },
                "memory": 1024,
                "timeout": 6,
                "runtime": "nodejs18.x",
                "vpc": {},
                "versionLogicalId": "DeleteUserLambdaVersionfmmH52E282Q7f76Callujj6vTerG8qe8enOC65o"
              },
              "createMemory": {
                "handler": "src/memories/handlers/createMemory.createMemoryHandler",
                "events": [
                  {
                    "http": {
                      "path": "memories",
                      "method": "post",
                      "cors": {
                        "origin": "*",
                        "methods": [
                          "OPTIONS",
                          "POST"
                        ],
                        "headers": [
                          "Content-Type",
                          "X-Amz-Date",
                          "Authorization",
                          "X-Api-Key",
                          "X-Amz-Security-Token",
                          "X-Amz-User-Agent",
                          "X-Amzn-Trace-Id"
                        ],
                        "allowCredentials": "<REDACTED>"
                      },
                      "integration": "AWS_PROXY"
                    }
                  }
                ],
                "name": "nostalgio-backend-dev-createMemory",
                "package": {
                  "artifact": "/Users/andresgarcia/Desktop/ACM_Projects/Nostalgio/server/.serverless/createMemory.zip"
                },
                "memory": 1024,
                "timeout": 6,
                "runtime": "nodejs18.x",
                "vpc": {},
                "versionLogicalId": "CreateMemoryLambdaVersionokDKpGGXuW2mpWPVyeVJ36htBtjmkk3BaEoiz8ds"
              },
              "getMemory": {
                "handler": "src/memories/handlers/getMemory.getMemoryHandler",
                "events": [
                  {
                    "http": {
                      "path": "memories/{userId}/{memoryId}",
                      "method": "get",
                      "cors": {
                        "origin": "*",
                        "methods": [
                          "OPTIONS",
                          "GET"
                        ],
                        "headers": [
                          "Content-Type",
                          "X-Amz-Date",
                          "Authorization",
                          "X-Api-Key",
                          "X-Amz-Security-Token",
                          "X-Amz-User-Agent",
                          "X-Amzn-Trace-Id"
                        ],
                        "allowCredentials": "<REDACTED>"
                      },
                      "integration": "AWS_PROXY"
                    }
                  }
                ],
                "name": "nostalgio-backend-dev-getMemory",
                "package": {
                  "artifact": "/Users/andresgarcia/Desktop/ACM_Projects/Nostalgio/server/.serverless/getMemory.zip"
                },
                "memory": 1024,
                "timeout": 6,
                "runtime": "nodejs18.x",
                "vpc": {},
                "versionLogicalId": "GetMemoryLambdaVersionkYIdneML5V5faoCn7Ymh96ZRIQbD3ymhtXJ0RxXWZ4"
              },
              "updateMemory": {
                "handler": "src/memories/handlers/updateMemory.updateMemoryHandler",
                "events": [
                  {
                    "http": {
                      "path": "memories/{userId}/{memoryId}",
                      "method": "put",
                      "cors": {
                        "origin": "*",
                        "methods": [
                          "OPTIONS",
                          "PUT"
                        ],
                        "headers": [
                          "Content-Type",
                          "X-Amz-Date",
                          "Authorization",
                          "X-Api-Key",
                          "X-Amz-Security-Token",
                          "X-Amz-User-Agent",
                          "X-Amzn-Trace-Id"
                        ],
                        "allowCredentials": "<REDACTED>"
                      },
                      "integration": "AWS_PROXY"
                    }
                  }
                ],
                "name": "nostalgio-backend-dev-updateMemory",
                "package": {
                  "artifact": "/Users/andresgarcia/Desktop/ACM_Projects/Nostalgio/server/.serverless/updateMemory.zip"
                },
                "memory": 1024,
                "timeout": 6,
                "runtime": "nodejs18.x",
                "vpc": {},
                "versionLogicalId": "UpdateMemoryLambdaVersionRacKmRvFJEeFd7F21R8BHYK7dnDN2aN69iVOlSMRQc"
              },
              "deleteMemory": {
                "handler": "src/memories/handlers/deleteMemory.deleteMemoryHandler",
                "events": [
                  {
                    "http": {
                      "path": "memories/{userId}/{memoryId}",
                      "method": "delete",
                      "cors": {
                        "origin": "*",
                        "methods": [
                          "OPTIONS",
                          "DELETE"
                        ],
                        "headers": [
                          "Content-Type",
                          "X-Amz-Date",
                          "Authorization",
                          "X-Api-Key",
                          "X-Amz-Security-Token",
                          "X-Amz-User-Agent",
                          "X-Amzn-Trace-Id"
                        ],
                        "allowCredentials": "<REDACTED>"
                      },
                      "integration": "AWS_PROXY"
                    }
                  }
                ],
                "name": "nostalgio-backend-dev-deleteMemory",
                "package": {
                  "artifact": "/Users/andresgarcia/Desktop/ACM_Projects/Nostalgio/server/.serverless/deleteMemory.zip"
                },
                "memory": 1024,
                "timeout": 6,
                "runtime": "nodejs18.x",
                "vpc": {},
                "versionLogicalId": "DeleteMemoryLambdaVersion2UrMfz0smOQVM2fCOpE32ahiZHqi7YUJH4fx918oY"
              },
              "listMemories": {
                "handler": "src/memories/handlers/listMemories.listMemoriesHandler",
                "events": [
                  {
                    "http": {
                      "path": "memories/{userId}",
                      "method": "get",
                      "cors": {
                        "origin": "*",
                        "methods": [
                          "OPTIONS",
                          "GET"
                        ],
                        "headers": [
                          "Content-Type",
                          "X-Amz-Date",
                          "Authorization",
                          "X-Api-Key",
                          "X-Amz-Security-Token",
                          "X-Amz-User-Agent",
                          "X-Amzn-Trace-Id"
                        ],
                        "allowCredentials": "<REDACTED>"
                      },
                      "integration": "AWS_PROXY"
                    }
                  }
                ],
                "name": "nostalgio-backend-dev-listMemories",
                "package": {
                  "artifact": "/Users/andresgarcia/Desktop/ACM_Projects/Nostalgio/server/.serverless/listMemories.zip"
                },
                "memory": 1024,
                "timeout": 6,
                "runtime": "nodejs18.x",
                "vpc": {},
                "versionLogicalId": "ListMemoriesLambdaVersionZei8fgbvJAKnhQRvNCoUNHg2IEK3KW16rdfA0cMRM"
              },
              "streamMemoryUpdates": {
                "handler": "src/memories/handlers/streamMemoryUpdates.streamMemoryUpdatesHandler",
                "events": [
                  {
                    "stream": {
                      "type": "dynamodb",
                      "arn": {
                        "Fn::GetAtt": [
                          "MemoriesTable",
                          "StreamArn"
                        ]
                      }
                    }
                  }
                ],
                "name": "nostalgio-backend-dev-streamMemoryUpdates",
                "package": {
                  "artifact": "/Users/andresgarcia/Desktop/ACM_Projects/Nostalgio/server/.serverless/streamMemoryUpdates.zip"
                },
                "memory": 1024,
                "timeout": 6,
                "runtime": "nodejs18.x",
                "vpc": {},
                "versionLogicalId": "StreamMemoryUpdatesLambdaVersionlbDkfvE4o4xulVdClHlWRmN9YhSH98gMnYkP1Z57veE"
              },
              "getTopTracks": {
                "handler": "src/spotify/tracks/handlers/getTopTracks.getTopTracks",
                "events": [
                  {
                    "http": {
                      "path": "spotify/tracks/top/{userId}",
                      "method": "get",
                      "cors": {
                        "origin": "*",
                        "methods": [
                          "OPTIONS",
                          "GET"
                        ],
                        "headers": [
                          "Content-Type",
                          "X-Amz-Date",
                          "Authorization",
                          "X-Api-Key",
                          "X-Amz-Security-Token",
                          "X-Amz-User-Agent",
                          "X-Amzn-Trace-Id"
                        ],
                        "allowCredentials": "<REDACTED>"
                      },
                      "integration": "AWS_PROXY"
                    }
                  }
                ],
                "name": "nostalgio-backend-dev-getTopTracks",
                "package": {
                  "artifact": "/Users/andresgarcia/Desktop/ACM_Projects/Nostalgio/server/.serverless/getTopTracks.zip"
                },
                "memory": 1024,
                "timeout": 6,
                "runtime": "nodejs18.x",
                "vpc": {},
                "versionLogicalId": "GetTopTracksLambdaVersion72SznfM9ZnOREILfCYeAqxbsHEnx5fntkZUB3SZS84"
              }
            },
            "resources": {
              "Resources": {
                "AuthSessionData": {
                  "Type": "AWS::DynamoDB::Table",
                  "Properties": {
                    "TableName": "AuthSessionData",
                    "AttributeDefinitions": [
                      {
                        "AttributeName": "UserId",
                        "AttributeType": "S"
                      }
                    ],
                    "KeySchema": [
                      {
                        "AttributeName": "UserId",
                        "KeyType": "HASH"
                      }
                    ],
                    "BillingMode": "PAY_PER_REQUEST",
                    "TimeToLiveSpecification": {
                      "AttributeName": "ExpiresAt",
                      "Enabled": true
                    }
                  }
                },
                "UsersTable": {
                  "Type": "AWS::DynamoDB::Table",
                  "Properties": {
                    "TableName": "Users",
                    "AttributeDefinitions": [
                      {
                        "AttributeName": "UserId",
                        "AttributeType": "S"
                      },
                      {
                        "AttributeName": "SpotifyUserId",
                        "AttributeType": "S"
                      }
                    ],
                    "KeySchema": [
                      {
                        "AttributeName": "UserId",
                        "KeyType": "HASH"
                      }
                    ],
                    "GlobalSecondaryIndexes": [
                      {
                        "IndexName": "SpotifyUserIdIndex",
                        "KeySchema": [
                          {
                            "AttributeName": "SpotifyUserId",
                            "KeyType": "HASH"
                          }
                        ],
                        "Projection": {
                          "ProjectionType": "ALL"
                        }
                      }
                    ],
                    "BillingMode": "PAY_PER_REQUEST",
                    "StreamSpecification": {
                      "StreamViewType": "NEW_AND_OLD_IMAGES"
                    }
                  }
                },
                "MemoriesTable": {
                  "Type": "AWS::DynamoDB::Table",
                  "Properties": {
                    "TableName": "Memories",
                    "AttributeDefinitions": [
                      {
                        "AttributeName": "UserId",
                        "AttributeType": "S"
                      },
                      {
                        "AttributeName": "MemoryId",
                        "AttributeType": "S"
                      }
                    ],
                    "KeySchema": [
                      {
                        "AttributeName": "UserId",
                        "KeyType": "HASH"
                      },
                      {
                        "AttributeName": "MemoryId",
                        "KeyType": "RANGE"
                      }
                    ],
                    "BillingMode": "PAY_PER_REQUEST",
                    "StreamSpecification": {
                      "StreamViewType": "NEW_AND_OLD_IMAGES"
                    }
                  }
                }
              },
              "Outputs": {}
            }
          },
          "configFileDirPath": "/Users/andresgarcia/Desktop/ACM_Projects/Nostalgio/server",
          "config": {
            "type": "self"
          },
          "options": {
            "aws-profile": "nostalgio"
          },
          "stage": "dev",
          "dashboard": null,
          "logger": {
            "namespace": "s:core:resolver:self",
            "prefix": null,
            "prefixColor": null
          },
          "_credentialsPromise": "<REDACTED>"
        },
        "resolvers": {}
      }
    },
    "composeServiceName": null,
    "servicePath": "/Users/andresgarcia/Desktop/ACM_Projects/Nostalgio/server",
    "serviceConfigFileName": "serverless.yml",
    "service": {
      "org": "andresgrc",
      "app": "nostalgio-backend",
      "service": "nostalgio-backend",
      "provider": {
        "name": "aws",
        "runtime": "nodejs18.x",
        "region": "us-east-1",
        "environment": {
          "COGNITO_USER_POOL_ID": "us-east-1_lqzsgfHQr",
          "COGNITO_CLIENT_ID": "12pcqimdf7f5qdk3h3uhv5nhtc",
          "COGNITO_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
          "SPOTIFY_CLIENT_ID": "c7806fa71cc749499f5c7517aa908f39",
          "SPOTIFY_CLIENT_SECRET": "<REDACTED>",
          "SPOTIFY_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
          "USERS_TABLE": "Users",
          "MEMORIES_TABLE": "Memories",
          "AUTH_SESSION_TABLE": "AuthSessionData"
        },
        "iamRoleStatements": [
          {
            "Effect": "Allow",
            "Action": [
              "cognito-idp:AdminCreateUser",
              "cognito-idp:AdminUpdateUserAttributes",
              "cognito-idp:AdminInitiateAuth",
              "cognito-idp:AdminRespondToAuthChallenge",
              "cognito-idp:ListUsers",
              "cognito-idp:AdminGetUser",
              "cognito-idp:AdminDeleteUser"
            ],
            "Resource": "arn:aws:cognito-idp:us-east-1:*:userpool/us-east-1_lqzsgfHQr"
          },
          {
            "Effect": "Allow",
            "Action": [
              "lambda:InvokeFunction"
            ],
            "Resource": "*"
          },
          {
            "Effect": "Allow",
            "Action": [
              "dynamodb:Query",
              "dynamodb:PutItem",
              "dynamodb:GetItem",
              "dynamodb:UpdateItem",
              "dynamodb:DeleteItem",
              "dynamodb:DescribeStream",
              "dynamodb:GetRecords",
              "dynamodb:GetShardIterator"
            ],
            "Resource": [
              {
                "Fn::GetAtt": [
                  "UsersTable",
                  "Arn"
                ]
              },
              {
                "Fn::GetAtt": [
                  "UsersTable",
                  "StreamArn"
                ]
              },
              {
                "Fn::GetAtt": [
                  "MemoriesTable",
                  "Arn"
                ]
              },
              {
                "Fn::GetAtt": [
                  "MemoriesTable",
                  "StreamArn"
                ]
              },
              {
                "Fn::GetAtt": [
                  "AuthSessionData",
                  "Arn"
                ]
              },
              "arn:aws:dynamodb:us-east-1:*:table/Users/index/SpotifyUserIdIndex"
            ]
          },
          {
            "Effect": "Allow",
            "Action": [
              "logs:CreateLogGroup",
              "logs:CreateLogStream",
              "logs:PutLogEvents"
            ],
            "Resource": "*"
          }
        ],
        "stage": "dev",
        "versionFunctions": true,
        "compiledCloudFormationTemplate": {
          "AWSTemplateFormatVersion": "2010-09-09",
          "Description": "The AWS CloudFormation template for this Serverless application",
          "Resources": {
            "SpotifyAuthLogGroup": {
              "Type": "AWS::Logs::LogGroup",
              "Properties": {
                "LogGroupName": "/aws/lambda/nostalgio-backend-dev-spotifyAuth"
              }
            },
            "SpotifyCallbackLogGroup": {
              "Type": "AWS::Logs::LogGroup",
              "Properties": {
                "LogGroupName": "/aws/lambda/nostalgio-backend-dev-spotifyCallback"
              }
            },
            "ExchangeSpotifyTokenLogGroup": "<REDACTED>",
            "RefreshSpotifyTokenLogGroup": "<REDACTED>",
            "ValidateSpotifyTokenLogGroup": "<REDACTED>",
            "CreateUserLogGroup": {
              "Type": "AWS::Logs::LogGroup",
              "Properties": {
                "LogGroupName": "/aws/lambda/nostalgio-backend-dev-createUser"
              }
            },
            "GetUserLogGroup": {
              "Type": "AWS::Logs::LogGroup",
              "Properties": {
                "LogGroupName": "/aws/lambda/nostalgio-backend-dev-getUser"
              }
            },
            "UpdateUserLogGroup": {
              "Type": "AWS::Logs::LogGroup",
              "Properties": {
                "LogGroupName": "/aws/lambda/nostalgio-backend-dev-updateUser"
              }
            },
            "DeleteUserLogGroup": {
              "Type": "AWS::Logs::LogGroup",
              "Properties": {
                "LogGroupName": "/aws/lambda/nostalgio-backend-dev-deleteUser"
              }
            },
            "CreateMemoryLogGroup": {
              "Type": "AWS::Logs::LogGroup",
              "Properties": {
                "LogGroupName": "/aws/lambda/nostalgio-backend-dev-createMemory"
              }
            },
            "GetMemoryLogGroup": {
              "Type": "AWS::Logs::LogGroup",
              "Properties": {
                "LogGroupName": "/aws/lambda/nostalgio-backend-dev-getMemory"
              }
            },
            "UpdateMemoryLogGroup": {
              "Type": "AWS::Logs::LogGroup",
              "Properties": {
                "LogGroupName": "/aws/lambda/nostalgio-backend-dev-updateMemory"
              }
            },
            "DeleteMemoryLogGroup": {
              "Type": "AWS::Logs::LogGroup",
              "Properties": {
                "LogGroupName": "/aws/lambda/nostalgio-backend-dev-deleteMemory"
              }
            },
            "ListMemoriesLogGroup": {
              "Type": "AWS::Logs::LogGroup",
              "Properties": {
                "LogGroupName": "/aws/lambda/nostalgio-backend-dev-listMemories"
              }
            },
            "StreamMemoryUpdatesLogGroup": {
              "Type": "AWS::Logs::LogGroup",
              "Properties": {
                "LogGroupName": "/aws/lambda/nostalgio-backend-dev-streamMemoryUpdates"
              }
            },
            "GetTopTracksLogGroup": {
              "Type": "AWS::Logs::LogGroup",
              "Properties": {
                "LogGroupName": "/aws/lambda/nostalgio-backend-dev-getTopTracks"
              }
            },
            "IamRoleLambdaExecution": {
              "Type": "AWS::IAM::Role",
              "Properties": {
                "AssumeRolePolicyDocument": {
                  "Version": "2012-10-17",
                  "Statement": [
                    {
                      "Effect": "Allow",
                      "Principal": {
                        "Service": [
                          "lambda.amazonaws.com"
                        ]
                      },
                      "Action": [
                        "sts:AssumeRole"
                      ]
                    }
                  ]
                },
                "Policies": [
                  {
                    "PolicyName": {
                      "Fn::Join": [
                        "-",
                        [
                          "nostalgio-backend",
                          "dev",
                          "lambda"
                        ]
                      ]
                    },
                    "PolicyDocument": {
                      "Version": "2012-10-17",
                      "Statement": [
                        {
                          "Effect": "Allow",
                          "Action": [
                            "logs:CreateLogStream",
                            "logs:CreateLogGroup",
                            "logs:TagResource"
                          ],
                          "Resource": [
                            {
                              "Fn::Sub": "arn:${AWS::Partition}:logs:${AWS::Region}:${AWS::AccountId}:log-group:/aws/lambda/nostalgio-backend-dev*:*"
                            }
                          ]
                        },
                        {
                          "Effect": "Allow",
                          "Action": [
                            "logs:PutLogEvents"
                          ],
                          "Resource": [
                            {
                              "Fn::Sub": "arn:${AWS::Partition}:logs:${AWS::Region}:${AWS::AccountId}:log-group:/aws/lambda/nostalgio-backend-dev*:*:*"
                            }
                          ]
                        },
                        {
                          "Effect": "Allow",
                          "Action": [
                            "cognito-idp:AdminCreateUser",
                            "cognito-idp:AdminUpdateUserAttributes",
                            "cognito-idp:AdminInitiateAuth",
                            "cognito-idp:AdminRespondToAuthChallenge",
                            "cognito-idp:ListUsers",
                            "cognito-idp:AdminGetUser",
                            "cognito-idp:AdminDeleteUser"
                          ],
                          "Resource": "arn:aws:cognito-idp:us-east-1:*:userpool/us-east-1_lqzsgfHQr"
                        },
                        {
                          "Effect": "Allow",
                          "Action": [
                            "lambda:InvokeFunction"
                          ],
                          "Resource": "*"
                        },
                        {
                          "Effect": "Allow",
                          "Action": [
                            "dynamodb:Query",
                            "dynamodb:PutItem",
                            "dynamodb:GetItem",
                            "dynamodb:UpdateItem",
                            "dynamodb:DeleteItem",
                            "dynamodb:DescribeStream",
                            "dynamodb:GetRecords",
                            "dynamodb:GetShardIterator"
                          ],
                          "Resource": [
                            {
                              "Fn::GetAtt": [
                                "UsersTable",
                                "Arn"
                              ]
                            },
                            {
                              "Fn::GetAtt": [
                                "UsersTable",
                                "StreamArn"
                              ]
                            },
                            {
                              "Fn::GetAtt": [
                                "MemoriesTable",
                                "Arn"
                              ]
                            },
                            {
                              "Fn::GetAtt": [
                                "MemoriesTable",
                                "StreamArn"
                              ]
                            },
                            {
                              "Fn::GetAtt": [
                                "AuthSessionData",
                                "Arn"
                              ]
                            },
                            "arn:aws:dynamodb:us-east-1:*:table/Users/index/SpotifyUserIdIndex"
                          ]
                        },
                        {
                          "Effect": "Allow",
                          "Action": [
                            "logs:CreateLogGroup",
                            "logs:CreateLogStream",
                            "logs:PutLogEvents"
                          ],
                          "Resource": "*"
                        },
                        {
                          "Effect": "Allow",
                          "Action": [
                            "dynamodb:GetRecords",
                            "dynamodb:GetShardIterator",
                            "dynamodb:DescribeStream",
                            "dynamodb:ListStreams"
                          ],
                          "Resource": [
                            {
                              "Fn::GetAtt": [
                                "MemoriesTable",
                                "StreamArn"
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "Path": "/",
                "RoleName": {
                  "Fn::Join": [
                    "-",
                    [
                      "nostalgio-backend",
                      "dev",
                      {
                        "Ref": "AWS::Region"
                      },
                      "lambdaRole"
                    ]
                  ]
                }
              }
            },
            "SpotifyAuthLambdaFunction": {
              "Type": "AWS::Lambda::Function",
              "Properties": {
                "Code": {
                  "S3Bucket": "serverless-framework-deployments-us-east-1-55cebd6e-28d6",
                  "S3Key": "serverless/nostalgio-backend/dev/1727560476305-2024-09-28T21:54:36.305Z/spotifyAuth.zip"
                },
                "Handler": "src/auth/spotify/spotifyAuthHandler.spotifyAuthHandler",
                "Runtime": "nodejs18.x",
                "FunctionName": "nostalgio-backend-dev-spotifyAuth",
                "MemorySize": 1024,
                "Timeout": 6,
                "Environment": {
                  "Variables": {
                    "COGNITO_USER_POOL_ID": "us-east-1_lqzsgfHQr",
                    "COGNITO_CLIENT_ID": "12pcqimdf7f5qdk3h3uhv5nhtc",
                    "COGNITO_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                    "SPOTIFY_CLIENT_ID": "c7806fa71cc749499f5c7517aa908f39",
                    "SPOTIFY_CLIENT_SECRET": "<REDACTED>",
                    "SPOTIFY_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                    "USERS_TABLE": "Users",
                    "MEMORIES_TABLE": "Memories",
                    "AUTH_SESSION_TABLE": "AuthSessionData"
                  }
                },
                "Role": {
                  "Fn::GetAtt": [
                    "IamRoleLambdaExecution",
                    "Arn"
                  ]
                }
              },
              "DependsOn": [
                "SpotifyAuthLogGroup"
              ]
            },
            "SpotifyCallbackLambdaFunction": {
              "Type": "AWS::Lambda::Function",
              "Properties": {
                "Code": {
                  "S3Bucket": "serverless-framework-deployments-us-east-1-55cebd6e-28d6",
                  "S3Key": "serverless/nostalgio-backend/dev/1727560476305-2024-09-28T21:54:36.305Z/spotifyCallback.zip"
                },
                "Handler": "src/auth/spotify/spotifyCallbackHandler.spotifyCallbackHandler",
                "Runtime": "nodejs18.x",
                "FunctionName": "nostalgio-backend-dev-spotifyCallback",
                "MemorySize": 1024,
                "Timeout": 6,
                "Environment": {
                  "Variables": {
                    "COGNITO_USER_POOL_ID": "us-east-1_lqzsgfHQr",
                    "COGNITO_CLIENT_ID": "12pcqimdf7f5qdk3h3uhv5nhtc",
                    "COGNITO_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                    "SPOTIFY_CLIENT_ID": "c7806fa71cc749499f5c7517aa908f39",
                    "SPOTIFY_CLIENT_SECRET": "<REDACTED>",
                    "SPOTIFY_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                    "USERS_TABLE": "Users",
                    "MEMORIES_TABLE": "Memories",
                    "AUTH_SESSION_TABLE": "AuthSessionData"
                  }
                },
                "Role": {
                  "Fn::GetAtt": [
                    "IamRoleLambdaExecution",
                    "Arn"
                  ]
                }
              },
              "DependsOn": [
                "SpotifyCallbackLogGroup"
              ]
            },
            "ExchangeSpotifyTokenLambdaFunction": "<REDACTED>",
            "RefreshSpotifyTokenLambdaFunction": "<REDACTED>",
            "ValidateSpotifyTokenLambdaFunction": "<REDACTED>",
            "CreateUserLambdaFunction": {
              "Type": "AWS::Lambda::Function",
              "Properties": {
                "Code": {
                  "S3Bucket": "serverless-framework-deployments-us-east-1-55cebd6e-28d6",
                  "S3Key": "serverless/nostalgio-backend/dev/1727560476305-2024-09-28T21:54:36.305Z/createUser.zip"
                },
                "Handler": "src/users/handlers/createUser.createUserHandler",
                "Runtime": "nodejs18.x",
                "FunctionName": "nostalgio-backend-dev-createUser",
                "MemorySize": 1024,
                "Timeout": 6,
                "Environment": {
                  "Variables": {
                    "COGNITO_USER_POOL_ID": "us-east-1_lqzsgfHQr",
                    "COGNITO_CLIENT_ID": "12pcqimdf7f5qdk3h3uhv5nhtc",
                    "COGNITO_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                    "SPOTIFY_CLIENT_ID": "c7806fa71cc749499f5c7517aa908f39",
                    "SPOTIFY_CLIENT_SECRET": "<REDACTED>",
                    "SPOTIFY_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                    "USERS_TABLE": "Users",
                    "MEMORIES_TABLE": "Memories",
                    "AUTH_SESSION_TABLE": "AuthSessionData"
                  }
                },
                "Role": {
                  "Fn::GetAtt": [
                    "IamRoleLambdaExecution",
                    "Arn"
                  ]
                }
              },
              "DependsOn": [
                "CreateUserLogGroup"
              ]
            },
            "GetUserLambdaFunction": {
              "Type": "AWS::Lambda::Function",
              "Properties": {
                "Code": {
                  "S3Bucket": "serverless-framework-deployments-us-east-1-55cebd6e-28d6",
                  "S3Key": "serverless/nostalgio-backend/dev/1727560476305-2024-09-28T21:54:36.305Z/getUser.zip"
                },
                "Handler": "src/users/handlers/getUser.getUserHandler",
                "Runtime": "nodejs18.x",
                "FunctionName": "nostalgio-backend-dev-getUser",
                "MemorySize": 1024,
                "Timeout": 6,
                "Environment": {
                  "Variables": {
                    "COGNITO_USER_POOL_ID": "us-east-1_lqzsgfHQr",
                    "COGNITO_CLIENT_ID": "12pcqimdf7f5qdk3h3uhv5nhtc",
                    "COGNITO_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                    "SPOTIFY_CLIENT_ID": "c7806fa71cc749499f5c7517aa908f39",
                    "SPOTIFY_CLIENT_SECRET": "<REDACTED>",
                    "SPOTIFY_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                    "USERS_TABLE": "Users",
                    "MEMORIES_TABLE": "Memories",
                    "AUTH_SESSION_TABLE": "AuthSessionData"
                  }
                },
                "Role": {
                  "Fn::GetAtt": [
                    "IamRoleLambdaExecution",
                    "Arn"
                  ]
                }
              },
              "DependsOn": [
                "GetUserLogGroup"
              ]
            },
            "UpdateUserLambdaFunction": {
              "Type": "AWS::Lambda::Function",
              "Properties": {
                "Code": {
                  "S3Bucket": "serverless-framework-deployments-us-east-1-55cebd6e-28d6",
                  "S3Key": "serverless/nostalgio-backend/dev/1727560476305-2024-09-28T21:54:36.305Z/updateUser.zip"
                },
                "Handler": "src/users/handlers/updateUser.updateUserHandler",
                "Runtime": "nodejs18.x",
                "FunctionName": "nostalgio-backend-dev-updateUser",
                "MemorySize": 1024,
                "Timeout": 6,
                "Environment": {
                  "Variables": {
                    "COGNITO_USER_POOL_ID": "us-east-1_lqzsgfHQr",
                    "COGNITO_CLIENT_ID": "12pcqimdf7f5qdk3h3uhv5nhtc",
                    "COGNITO_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                    "SPOTIFY_CLIENT_ID": "c7806fa71cc749499f5c7517aa908f39",
                    "SPOTIFY_CLIENT_SECRET": "<REDACTED>",
                    "SPOTIFY_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                    "USERS_TABLE": "Users",
                    "MEMORIES_TABLE": "Memories",
                    "AUTH_SESSION_TABLE": "AuthSessionData"
                  }
                },
                "Role": {
                  "Fn::GetAtt": [
                    "IamRoleLambdaExecution",
                    "Arn"
                  ]
                }
              },
              "DependsOn": [
                "UpdateUserLogGroup"
              ]
            },
            "DeleteUserLambdaFunction": {
              "Type": "AWS::Lambda::Function",
              "Properties": {
                "Code": {
                  "S3Bucket": "serverless-framework-deployments-us-east-1-55cebd6e-28d6",
                  "S3Key": "serverless/nostalgio-backend/dev/1727560476305-2024-09-28T21:54:36.305Z/deleteUser.zip"
                },
                "Handler": "src/users/handlers/deleteUser.deleteUserHandler",
                "Runtime": "nodejs18.x",
                "FunctionName": "nostalgio-backend-dev-deleteUser",
                "MemorySize": 1024,
                "Timeout": 6,
                "Environment": {
                  "Variables": {
                    "COGNITO_USER_POOL_ID": "us-east-1_lqzsgfHQr",
                    "COGNITO_CLIENT_ID": "12pcqimdf7f5qdk3h3uhv5nhtc",
                    "COGNITO_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                    "SPOTIFY_CLIENT_ID": "c7806fa71cc749499f5c7517aa908f39",
                    "SPOTIFY_CLIENT_SECRET": "<REDACTED>",
                    "SPOTIFY_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                    "USERS_TABLE": "Users",
                    "MEMORIES_TABLE": "Memories",
                    "AUTH_SESSION_TABLE": "AuthSessionData"
                  }
                },
                "Role": {
                  "Fn::GetAtt": [
                    "IamRoleLambdaExecution",
                    "Arn"
                  ]
                }
              },
              "DependsOn": [
                "DeleteUserLogGroup"
              ]
            },
            "CreateMemoryLambdaFunction": {
              "Type": "AWS::Lambda::Function",
              "Properties": {
                "Code": {
                  "S3Bucket": "serverless-framework-deployments-us-east-1-55cebd6e-28d6",
                  "S3Key": "serverless/nostalgio-backend/dev/1727560476305-2024-09-28T21:54:36.305Z/createMemory.zip"
                },
                "Handler": "src/memories/handlers/createMemory.createMemoryHandler",
                "Runtime": "nodejs18.x",
                "FunctionName": "nostalgio-backend-dev-createMemory",
                "MemorySize": 1024,
                "Timeout": 6,
                "Environment": {
                  "Variables": {
                    "COGNITO_USER_POOL_ID": "us-east-1_lqzsgfHQr",
                    "COGNITO_CLIENT_ID": "12pcqimdf7f5qdk3h3uhv5nhtc",
                    "COGNITO_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                    "SPOTIFY_CLIENT_ID": "c7806fa71cc749499f5c7517aa908f39",
                    "SPOTIFY_CLIENT_SECRET": "<REDACTED>",
                    "SPOTIFY_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                    "USERS_TABLE": "Users",
                    "MEMORIES_TABLE": "Memories",
                    "AUTH_SESSION_TABLE": "AuthSessionData"
                  }
                },
                "Role": {
                  "Fn::GetAtt": [
                    "IamRoleLambdaExecution",
                    "Arn"
                  ]
                }
              },
              "DependsOn": [
                "CreateMemoryLogGroup"
              ]
            },
            "GetMemoryLambdaFunction": {
              "Type": "AWS::Lambda::Function",
              "Properties": {
                "Code": {
                  "S3Bucket": "serverless-framework-deployments-us-east-1-55cebd6e-28d6",
                  "S3Key": "serverless/nostalgio-backend/dev/1727560476305-2024-09-28T21:54:36.305Z/getMemory.zip"
                },
                "Handler": "src/memories/handlers/getMemory.getMemoryHandler",
                "Runtime": "nodejs18.x",
                "FunctionName": "nostalgio-backend-dev-getMemory",
                "MemorySize": 1024,
                "Timeout": 6,
                "Environment": {
                  "Variables": {
                    "COGNITO_USER_POOL_ID": "us-east-1_lqzsgfHQr",
                    "COGNITO_CLIENT_ID": "12pcqimdf7f5qdk3h3uhv5nhtc",
                    "COGNITO_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                    "SPOTIFY_CLIENT_ID": "c7806fa71cc749499f5c7517aa908f39",
                    "SPOTIFY_CLIENT_SECRET": "<REDACTED>",
                    "SPOTIFY_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                    "USERS_TABLE": "Users",
                    "MEMORIES_TABLE": "Memories",
                    "AUTH_SESSION_TABLE": "AuthSessionData"
                  }
                },
                "Role": {
                  "Fn::GetAtt": [
                    "IamRoleLambdaExecution",
                    "Arn"
                  ]
                }
              },
              "DependsOn": [
                "GetMemoryLogGroup"
              ]
            },
            "UpdateMemoryLambdaFunction": {
              "Type": "AWS::Lambda::Function",
              "Properties": {
                "Code": {
                  "S3Bucket": "serverless-framework-deployments-us-east-1-55cebd6e-28d6",
                  "S3Key": "serverless/nostalgio-backend/dev/1727560476305-2024-09-28T21:54:36.305Z/updateMemory.zip"
                },
                "Handler": "src/memories/handlers/updateMemory.updateMemoryHandler",
                "Runtime": "nodejs18.x",
                "FunctionName": "nostalgio-backend-dev-updateMemory",
                "MemorySize": 1024,
                "Timeout": 6,
                "Environment": {
                  "Variables": {
                    "COGNITO_USER_POOL_ID": "us-east-1_lqzsgfHQr",
                    "COGNITO_CLIENT_ID": "12pcqimdf7f5qdk3h3uhv5nhtc",
                    "COGNITO_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                    "SPOTIFY_CLIENT_ID": "c7806fa71cc749499f5c7517aa908f39",
                    "SPOTIFY_CLIENT_SECRET": "<REDACTED>",
                    "SPOTIFY_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                    "USERS_TABLE": "Users",
                    "MEMORIES_TABLE": "Memories",
                    "AUTH_SESSION_TABLE": "AuthSessionData"
                  }
                },
                "Role": {
                  "Fn::GetAtt": [
                    "IamRoleLambdaExecution",
                    "Arn"
                  ]
                }
              },
              "DependsOn": [
                "UpdateMemoryLogGroup"
              ]
            },
            "DeleteMemoryLambdaFunction": {
              "Type": "AWS::Lambda::Function",
              "Properties": {
                "Code": {
                  "S3Bucket": "serverless-framework-deployments-us-east-1-55cebd6e-28d6",
                  "S3Key": "serverless/nostalgio-backend/dev/1727560476305-2024-09-28T21:54:36.305Z/deleteMemory.zip"
                },
                "Handler": "src/memories/handlers/deleteMemory.deleteMemoryHandler",
                "Runtime": "nodejs18.x",
                "FunctionName": "nostalgio-backend-dev-deleteMemory",
                "MemorySize": 1024,
                "Timeout": 6,
                "Environment": {
                  "Variables": {
                    "COGNITO_USER_POOL_ID": "us-east-1_lqzsgfHQr",
                    "COGNITO_CLIENT_ID": "12pcqimdf7f5qdk3h3uhv5nhtc",
                    "COGNITO_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                    "SPOTIFY_CLIENT_ID": "c7806fa71cc749499f5c7517aa908f39",
                    "SPOTIFY_CLIENT_SECRET": "<REDACTED>",
                    "SPOTIFY_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                    "USERS_TABLE": "Users",
                    "MEMORIES_TABLE": "Memories",
                    "AUTH_SESSION_TABLE": "AuthSessionData"
                  }
                },
                "Role": {
                  "Fn::GetAtt": [
                    "IamRoleLambdaExecution",
                    "Arn"
                  ]
                }
              },
              "DependsOn": [
                "DeleteMemoryLogGroup"
              ]
            },
            "ListMemoriesLambdaFunction": {
              "Type": "AWS::Lambda::Function",
              "Properties": {
                "Code": {
                  "S3Bucket": "serverless-framework-deployments-us-east-1-55cebd6e-28d6",
                  "S3Key": "serverless/nostalgio-backend/dev/1727560476305-2024-09-28T21:54:36.305Z/listMemories.zip"
                },
                "Handler": "src/memories/handlers/listMemories.listMemoriesHandler",
                "Runtime": "nodejs18.x",
                "FunctionName": "nostalgio-backend-dev-listMemories",
                "MemorySize": 1024,
                "Timeout": 6,
                "Environment": {
                  "Variables": {
                    "COGNITO_USER_POOL_ID": "us-east-1_lqzsgfHQr",
                    "COGNITO_CLIENT_ID": "12pcqimdf7f5qdk3h3uhv5nhtc",
                    "COGNITO_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                    "SPOTIFY_CLIENT_ID": "c7806fa71cc749499f5c7517aa908f39",
                    "SPOTIFY_CLIENT_SECRET": "<REDACTED>",
                    "SPOTIFY_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                    "USERS_TABLE": "Users",
                    "MEMORIES_TABLE": "Memories",
                    "AUTH_SESSION_TABLE": "AuthSessionData"
                  }
                },
                "Role": {
                  "Fn::GetAtt": [
                    "IamRoleLambdaExecution",
                    "Arn"
                  ]
                }
              },
              "DependsOn": [
                "ListMemoriesLogGroup"
              ]
            },
            "StreamMemoryUpdatesLambdaFunction": {
              "Type": "AWS::Lambda::Function",
              "Properties": {
                "Code": {
                  "S3Bucket": "serverless-framework-deployments-us-east-1-55cebd6e-28d6",
                  "S3Key": "serverless/nostalgio-backend/dev/1727560476305-2024-09-28T21:54:36.305Z/streamMemoryUpdates.zip"
                },
                "Handler": "src/memories/handlers/streamMemoryUpdates.streamMemoryUpdatesHandler",
                "Runtime": "nodejs18.x",
                "FunctionName": "nostalgio-backend-dev-streamMemoryUpdates",
                "MemorySize": 1024,
                "Timeout": 6,
                "Environment": {
                  "Variables": {
                    "COGNITO_USER_POOL_ID": "us-east-1_lqzsgfHQr",
                    "COGNITO_CLIENT_ID": "12pcqimdf7f5qdk3h3uhv5nhtc",
                    "COGNITO_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                    "SPOTIFY_CLIENT_ID": "c7806fa71cc749499f5c7517aa908f39",
                    "SPOTIFY_CLIENT_SECRET": "<REDACTED>",
                    "SPOTIFY_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                    "USERS_TABLE": "Users",
                    "MEMORIES_TABLE": "Memories",
                    "AUTH_SESSION_TABLE": "AuthSessionData"
                  }
                },
                "Role": {
                  "Fn::GetAtt": [
                    "IamRoleLambdaExecution",
                    "Arn"
                  ]
                }
              },
              "DependsOn": [
                "StreamMemoryUpdatesLogGroup"
              ]
            },
            "GetTopTracksLambdaFunction": {
              "Type": "AWS::Lambda::Function",
              "Properties": {
                "Code": {
                  "S3Bucket": "serverless-framework-deployments-us-east-1-55cebd6e-28d6",
                  "S3Key": "serverless/nostalgio-backend/dev/1727560476305-2024-09-28T21:54:36.305Z/getTopTracks.zip"
                },
                "Handler": "src/spotify/tracks/handlers/getTopTracks.getTopTracks",
                "Runtime": "nodejs18.x",
                "FunctionName": "nostalgio-backend-dev-getTopTracks",
                "MemorySize": 1024,
                "Timeout": 6,
                "Environment": {
                  "Variables": {
                    "COGNITO_USER_POOL_ID": "us-east-1_lqzsgfHQr",
                    "COGNITO_CLIENT_ID": "12pcqimdf7f5qdk3h3uhv5nhtc",
                    "COGNITO_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                    "SPOTIFY_CLIENT_ID": "c7806fa71cc749499f5c7517aa908f39",
                    "SPOTIFY_CLIENT_SECRET": "<REDACTED>",
                    "SPOTIFY_REDIRECT_URI": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev/callback",
                    "USERS_TABLE": "Users",
                    "MEMORIES_TABLE": "Memories",
                    "AUTH_SESSION_TABLE": "AuthSessionData"
                  }
                },
                "Role": {
                  "Fn::GetAtt": [
                    "IamRoleLambdaExecution",
                    "Arn"
                  ]
                }
              },
              "DependsOn": [
                "GetTopTracksLogGroup"
              ]
            },
            "SpotifyAuthLambdaVersiontPVw1jw6Aad7GcKwIlpemFCqIaCScnAITl3ct4KZJI": {
              "Type": "AWS::Lambda::Version",
              "DeletionPolicy": "Retain",
              "Properties": {
                "FunctionName": {
                  "Ref": "SpotifyAuthLambdaFunction"
                },
                "CodeSha256": "m9JlsUsM4mT8M1s7NP+eS++cGnnLyg++T1y3XjCiBC0="
              }
            },
            "ValidateSpotifyTokenLambdaVersionzBBT0xUMjMXFJmoz3ZFByzxr8ptunV4p812tWiehM": "<REDACTED>",
            "ExchangeSpotifyTokenLambdaVersionq0wgG7ZeouYyXEmbCqzZrrPcGYqmLdRN7IoOCCsioIg": "<REDACTED>",
            "UpdateUserLambdaVersionFrQkQgMdoj08bEB3fIzaN9z59gjE5Xea9cTEHVgLlI": {
              "Type": "AWS::Lambda::Version",
              "DeletionPolicy": "Retain",
              "Properties": {
                "FunctionName": {
                  "Ref": "UpdateUserLambdaFunction"
                },
                "CodeSha256": "m9JlsUsM4mT8M1s7NP+eS++cGnnLyg++T1y3XjCiBC0="
              }
            },
            "SpotifyCallbackLambdaVersionHcwq496FnTX493Oq4vfTdlqrRP8N1zvi7YpHJ9IT2MM": {
              "Type": "AWS::Lambda::Version",
              "DeletionPolicy": "Retain",
              "Properties": {
                "FunctionName": {
                  "Ref": "SpotifyCallbackLambdaFunction"
                },
                "CodeSha256": "m9JlsUsM4mT8M1s7NP+eS++cGnnLyg++T1y3XjCiBC0="
              }
            },
            "GetUserLambdaVersionDwz0xJGw46JR9RJ0XK93zJaYjpIdmmmDQy8Zekxc": {
              "Type": "AWS::Lambda::Version",
              "DeletionPolicy": "Retain",
              "Properties": {
                "FunctionName": {
                  "Ref": "GetUserLambdaFunction"
                },
                "CodeSha256": "m9JlsUsM4mT8M1s7NP+eS++cGnnLyg++T1y3XjCiBC0="
              }
            },
            "CreateUserLambdaVersionsLF1EE4pnRkmumF2DuBOPrl2ncWgnikHBKghcukcY": {
              "Type": "AWS::Lambda::Version",
              "DeletionPolicy": "Retain",
              "Properties": {
                "FunctionName": {
                  "Ref": "CreateUserLambdaFunction"
                },
                "CodeSha256": "m9JlsUsM4mT8M1s7NP+eS++cGnnLyg++T1y3XjCiBC0="
              }
            },
            "RefreshSpotifyTokenLambdaVersionbvKKwEcniYqO4XH5eOlHXZFTHihl0v4tmPuk51H1E": "<REDACTED>",
            "DeleteUserLambdaVersionfmmH52E282Q7f76Callujj6vTerG8qe8enOC65o": {
              "Type": "AWS::Lambda::Version",
              "DeletionPolicy": "Retain",
              "Properties": {
                "FunctionName": {
                  "Ref": "DeleteUserLambdaFunction"
                },
                "CodeSha256": "m9JlsUsM4mT8M1s7NP+eS++cGnnLyg++T1y3XjCiBC0="
              }
            },
            "CreateMemoryLambdaVersionokDKpGGXuW2mpWPVyeVJ36htBtjmkk3BaEoiz8ds": {
              "Type": "AWS::Lambda::Version",
              "DeletionPolicy": "Retain",
              "Properties": {
                "FunctionName": {
                  "Ref": "CreateMemoryLambdaFunction"
                },
                "CodeSha256": "m9JlsUsM4mT8M1s7NP+eS++cGnnLyg++T1y3XjCiBC0="
              }
            },
            "UpdateMemoryLambdaVersionRacKmRvFJEeFd7F21R8BHYK7dnDN2aN69iVOlSMRQc": {
              "Type": "AWS::Lambda::Version",
              "DeletionPolicy": "Retain",
              "Properties": {
                "FunctionName": {
                  "Ref": "UpdateMemoryLambdaFunction"
                },
                "CodeSha256": "m9JlsUsM4mT8M1s7NP+eS++cGnnLyg++T1y3XjCiBC0="
              }
            },
            "ListMemoriesLambdaVersionZei8fgbvJAKnhQRvNCoUNHg2IEK3KW16rdfA0cMRM": {
              "Type": "AWS::Lambda::Version",
              "DeletionPolicy": "Retain",
              "Properties": {
                "FunctionName": {
                  "Ref": "ListMemoriesLambdaFunction"
                },
                "CodeSha256": "m9JlsUsM4mT8M1s7NP+eS++cGnnLyg++T1y3XjCiBC0="
              }
            },
            "StreamMemoryUpdatesLambdaVersionlbDkfvE4o4xulVdClHlWRmN9YhSH98gMnYkP1Z57veE": {
              "Type": "AWS::Lambda::Version",
              "DeletionPolicy": "Retain",
              "Properties": {
                "FunctionName": {
                  "Ref": "StreamMemoryUpdatesLambdaFunction"
                },
                "CodeSha256": "m9JlsUsM4mT8M1s7NP+eS++cGnnLyg++T1y3XjCiBC0="
              }
            },
            "DeleteMemoryLambdaVersion2UrMfz0smOQVM2fCOpE32ahiZHqi7YUJH4fx918oY": {
              "Type": "AWS::Lambda::Version",
              "DeletionPolicy": "Retain",
              "Properties": {
                "FunctionName": {
                  "Ref": "DeleteMemoryLambdaFunction"
                },
                "CodeSha256": "m9JlsUsM4mT8M1s7NP+eS++cGnnLyg++T1y3XjCiBC0="
              }
            },
            "GetTopTracksLambdaVersion72SznfM9ZnOREILfCYeAqxbsHEnx5fntkZUB3SZS84": {
              "Type": "AWS::Lambda::Version",
              "DeletionPolicy": "Retain",
              "Properties": {
                "FunctionName": {
                  "Ref": "GetTopTracksLambdaFunction"
                },
                "CodeSha256": "m9JlsUsM4mT8M1s7NP+eS++cGnnLyg++T1y3XjCiBC0="
              }
            },
            "GetMemoryLambdaVersionkYIdneML5V5faoCn7Ymh96ZRIQbD3ymhtXJ0RxXWZ4": {
              "Type": "AWS::Lambda::Version",
              "DeletionPolicy": "Retain",
              "Properties": {
                "FunctionName": {
                  "Ref": "GetMemoryLambdaFunction"
                },
                "CodeSha256": "m9JlsUsM4mT8M1s7NP+eS++cGnnLyg++T1y3XjCiBC0="
              }
            },
            "ApiGatewayRestApi": {
              "Type": "AWS::ApiGateway::RestApi",
              "Properties": {
                "Name": "dev-nostalgio-backend",
                "EndpointConfiguration": {
                  "Types": [
                    "EDGE"
                  ]
                },
                "Policy": ""
              }
            },
            "ApiGatewayResourceAuth": {
              "Type": "AWS::ApiGateway::Resource",
              "Properties": {
                "ParentId": {
                  "Fn::GetAtt": [
                    "ApiGatewayRestApi",
                    "RootResourceId"
                  ]
                },
                "PathPart": "auth",
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                }
              }
            },
            "ApiGatewayResourceAuthLogin": {
              "Type": "AWS::ApiGateway::Resource",
              "Properties": {
                "ParentId": {
                  "Ref": "ApiGatewayResourceAuth"
                },
                "PathPart": "login",
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                }
              }
            },
            "ApiGatewayResourceCallback": {
              "Type": "AWS::ApiGateway::Resource",
              "Properties": {
                "ParentId": {
                  "Fn::GetAtt": [
                    "ApiGatewayRestApi",
                    "RootResourceId"
                  ]
                },
                "PathPart": "callback",
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                }
              }
            },
            "ApiGatewayResourceExchangespotifytoken": "<REDACTED>",
            "ApiGatewayResourceRefreshspotifytoken": "<REDACTED>",
            "ApiGatewayResourceValidatespotifytoken": "<REDACTED>",
            "ApiGatewayResourceValidatespotifytokenUseridVar": "<REDACTED>",
            "ApiGatewayResourceUsers": {
              "Type": "AWS::ApiGateway::Resource",
              "Properties": {
                "ParentId": {
                  "Fn::GetAtt": [
                    "ApiGatewayRestApi",
                    "RootResourceId"
                  ]
                },
                "PathPart": "users",
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                }
              }
            },
            "ApiGatewayResourceUsersUseridVar": {
              "Type": "AWS::ApiGateway::Resource",
              "Properties": {
                "ParentId": {
                  "Ref": "ApiGatewayResourceUsers"
                },
                "PathPart": "{userId}",
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                }
              }
            },
            "ApiGatewayResourceUsersSpotify": {
              "Type": "AWS::ApiGateway::Resource",
              "Properties": {
                "ParentId": {
                  "Ref": "ApiGatewayResourceUsers"
                },
                "PathPart": "spotify",
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                }
              }
            },
            "ApiGatewayResourceUsersSpotifySpotifyuseridVar": {
              "Type": "AWS::ApiGateway::Resource",
              "Properties": {
                "ParentId": {
                  "Ref": "ApiGatewayResourceUsersSpotify"
                },
                "PathPart": "{spotifyUserId}",
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                }
              }
            },
            "ApiGatewayResourceMemories": {
              "Type": "AWS::ApiGateway::Resource",
              "Properties": {
                "ParentId": {
                  "Fn::GetAtt": [
                    "ApiGatewayRestApi",
                    "RootResourceId"
                  ]
                },
                "PathPart": "memories",
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                }
              }
            },
            "ApiGatewayResourceMemoriesUseridVar": {
              "Type": "AWS::ApiGateway::Resource",
              "Properties": {
                "ParentId": {
                  "Ref": "ApiGatewayResourceMemories"
                },
                "PathPart": "{userId}",
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                }
              }
            },
            "ApiGatewayResourceMemoriesUseridVarMemoryidVar": {
              "Type": "AWS::ApiGateway::Resource",
              "Properties": {
                "ParentId": {
                  "Ref": "ApiGatewayResourceMemoriesUseridVar"
                },
                "PathPart": "{memoryId}",
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                }
              }
            },
            "ApiGatewayResourceSpotify": {
              "Type": "AWS::ApiGateway::Resource",
              "Properties": {
                "ParentId": {
                  "Fn::GetAtt": [
                    "ApiGatewayRestApi",
                    "RootResourceId"
                  ]
                },
                "PathPart": "spotify",
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                }
              }
            },
            "ApiGatewayResourceSpotifyTracks": {
              "Type": "AWS::ApiGateway::Resource",
              "Properties": {
                "ParentId": {
                  "Ref": "ApiGatewayResourceSpotify"
                },
                "PathPart": "tracks",
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                }
              }
            },
            "ApiGatewayResourceSpotifyTracksTop": {
              "Type": "AWS::ApiGateway::Resource",
              "Properties": {
                "ParentId": {
                  "Ref": "ApiGatewayResourceSpotifyTracks"
                },
                "PathPart": "top",
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                }
              }
            },
            "ApiGatewayResourceSpotifyTracksTopUseridVar": {
              "Type": "AWS::ApiGateway::Resource",
              "Properties": {
                "ParentId": {
                  "Ref": "ApiGatewayResourceSpotifyTracksTop"
                },
                "PathPart": "{userId}",
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                }
              }
            },
            "ApiGatewayMethodAuthLoginOptions": {
              "Type": "AWS::ApiGateway::Method",
              "Properties": {
                "AuthorizationType": "NONE",
                "HttpMethod": "OPTIONS",
                "MethodResponses": [
                  {
                    "StatusCode": "200",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true,
                      "method.response.header.Access-Control-Allow-Headers": true,
                      "method.response.header.Access-Control-Allow-Methods": true
                    },
                    "ResponseModels": {}
                  }
                ],
                "RequestParameters": {},
                "Integration": {
                  "Type": "MOCK",
                  "RequestTemplates": {
                    "application/json": "{statusCode:200}"
                  },
                  "ContentHandling": "CONVERT_TO_TEXT",
                  "IntegrationResponses": [
                    {
                      "StatusCode": "200",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'",
                        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Amzn-Trace-Id'",
                        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET'"
                      },
                      "ResponseTemplates": {
                        "application/json": ""
                      }
                    }
                  ]
                },
                "ResourceId": {
                  "Ref": "ApiGatewayResourceAuthLogin"
                },
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                }
              }
            },
            "ApiGatewayMethodCallbackOptions": {
              "Type": "AWS::ApiGateway::Method",
              "Properties": {
                "AuthorizationType": "NONE",
                "HttpMethod": "OPTIONS",
                "MethodResponses": [
                  {
                    "StatusCode": "200",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true,
                      "method.response.header.Access-Control-Allow-Headers": true,
                      "method.response.header.Access-Control-Allow-Methods": true
                    },
                    "ResponseModels": {}
                  }
                ],
                "RequestParameters": {},
                "Integration": {
                  "Type": "MOCK",
                  "RequestTemplates": {
                    "application/json": "{statusCode:200}"
                  },
                  "ContentHandling": "CONVERT_TO_TEXT",
                  "IntegrationResponses": [
                    {
                      "StatusCode": "200",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'",
                        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Amzn-Trace-Id'",
                        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET'"
                      },
                      "ResponseTemplates": {
                        "application/json": ""
                      }
                    }
                  ]
                },
                "ResourceId": {
                  "Ref": "ApiGatewayResourceCallback"
                },
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                }
              }
            },
            "ApiGatewayMethodExchangespotifytokenOptions": "<REDACTED>",
            "ApiGatewayMethodRefreshspotifytokenOptions": "<REDACTED>",
            "ApiGatewayMethodValidatespotifytokenUseridVarOptions": "<REDACTED>",
            "ApiGatewayMethodUsersOptions": {
              "Type": "AWS::ApiGateway::Method",
              "Properties": {
                "AuthorizationType": "NONE",
                "HttpMethod": "OPTIONS",
                "MethodResponses": [
                  {
                    "StatusCode": "200",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true,
                      "method.response.header.Access-Control-Allow-Headers": true,
                      "method.response.header.Access-Control-Allow-Methods": true
                    },
                    "ResponseModels": {}
                  }
                ],
                "RequestParameters": {},
                "Integration": {
                  "Type": "MOCK",
                  "RequestTemplates": {
                    "application/json": "{statusCode:200}"
                  },
                  "ContentHandling": "CONVERT_TO_TEXT",
                  "IntegrationResponses": [
                    {
                      "StatusCode": "200",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'",
                        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Amzn-Trace-Id'",
                        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,POST'"
                      },
                      "ResponseTemplates": {
                        "application/json": ""
                      }
                    }
                  ]
                },
                "ResourceId": {
                  "Ref": "ApiGatewayResourceUsers"
                },
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                }
              }
            },
            "ApiGatewayMethodUsersUseridVarOptions": {
              "Type": "AWS::ApiGateway::Method",
              "Properties": {
                "AuthorizationType": "NONE",
                "HttpMethod": "OPTIONS",
                "MethodResponses": [
                  {
                    "StatusCode": "200",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true,
                      "method.response.header.Access-Control-Allow-Headers": true,
                      "method.response.header.Access-Control-Allow-Methods": true
                    },
                    "ResponseModels": {}
                  }
                ],
                "RequestParameters": {},
                "Integration": {
                  "Type": "MOCK",
                  "RequestTemplates": {
                    "application/json": "{statusCode:200}"
                  },
                  "ContentHandling": "CONVERT_TO_TEXT",
                  "IntegrationResponses": [
                    {
                      "StatusCode": "200",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'",
                        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Amzn-Trace-Id'",
                        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,DELETE,PUT,GET'"
                      },
                      "ResponseTemplates": {
                        "application/json": ""
                      }
                    }
                  ]
                },
                "ResourceId": {
                  "Ref": "ApiGatewayResourceUsersUseridVar"
                },
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                }
              }
            },
            "ApiGatewayMethodUsersSpotifySpotifyuseridVarOptions": {
              "Type": "AWS::ApiGateway::Method",
              "Properties": {
                "AuthorizationType": "NONE",
                "HttpMethod": "OPTIONS",
                "MethodResponses": [
                  {
                    "StatusCode": "200",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true,
                      "method.response.header.Access-Control-Allow-Headers": true,
                      "method.response.header.Access-Control-Allow-Methods": true
                    },
                    "ResponseModels": {}
                  }
                ],
                "RequestParameters": {},
                "Integration": {
                  "Type": "MOCK",
                  "RequestTemplates": {
                    "application/json": "{statusCode:200}"
                  },
                  "ContentHandling": "CONVERT_TO_TEXT",
                  "IntegrationResponses": [
                    {
                      "StatusCode": "200",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'",
                        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Amzn-Trace-Id'",
                        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET'"
                      },
                      "ResponseTemplates": {
                        "application/json": ""
                      }
                    }
                  ]
                },
                "ResourceId": {
                  "Ref": "ApiGatewayResourceUsersSpotifySpotifyuseridVar"
                },
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                }
              }
            },
            "ApiGatewayMethodMemoriesOptions": {
              "Type": "AWS::ApiGateway::Method",
              "Properties": {
                "AuthorizationType": "NONE",
                "HttpMethod": "OPTIONS",
                "MethodResponses": [
                  {
                    "StatusCode": "200",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true,
                      "method.response.header.Access-Control-Allow-Headers": true,
                      "method.response.header.Access-Control-Allow-Methods": true
                    },
                    "ResponseModels": {}
                  }
                ],
                "RequestParameters": {},
                "Integration": {
                  "Type": "MOCK",
                  "RequestTemplates": {
                    "application/json": "{statusCode:200}"
                  },
                  "ContentHandling": "CONVERT_TO_TEXT",
                  "IntegrationResponses": [
                    {
                      "StatusCode": "200",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'",
                        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Amzn-Trace-Id'",
                        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,POST'"
                      },
                      "ResponseTemplates": {
                        "application/json": ""
                      }
                    }
                  ]
                },
                "ResourceId": {
                  "Ref": "ApiGatewayResourceMemories"
                },
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                }
              }
            },
            "ApiGatewayMethodMemoriesUseridVarMemoryidVarOptions": {
              "Type": "AWS::ApiGateway::Method",
              "Properties": {
                "AuthorizationType": "NONE",
                "HttpMethod": "OPTIONS",
                "MethodResponses": [
                  {
                    "StatusCode": "200",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true,
                      "method.response.header.Access-Control-Allow-Headers": true,
                      "method.response.header.Access-Control-Allow-Methods": true
                    },
                    "ResponseModels": {}
                  }
                ],
                "RequestParameters": {},
                "Integration": {
                  "Type": "MOCK",
                  "RequestTemplates": {
                    "application/json": "{statusCode:200}"
                  },
                  "ContentHandling": "CONVERT_TO_TEXT",
                  "IntegrationResponses": [
                    {
                      "StatusCode": "200",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'",
                        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Amzn-Trace-Id'",
                        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,DELETE,PUT,GET'"
                      },
                      "ResponseTemplates": {
                        "application/json": ""
                      }
                    }
                  ]
                },
                "ResourceId": {
                  "Ref": "ApiGatewayResourceMemoriesUseridVarMemoryidVar"
                },
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                }
              }
            },
            "ApiGatewayMethodMemoriesUseridVarOptions": {
              "Type": "AWS::ApiGateway::Method",
              "Properties": {
                "AuthorizationType": "NONE",
                "HttpMethod": "OPTIONS",
                "MethodResponses": [
                  {
                    "StatusCode": "200",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true,
                      "method.response.header.Access-Control-Allow-Headers": true,
                      "method.response.header.Access-Control-Allow-Methods": true
                    },
                    "ResponseModels": {}
                  }
                ],
                "RequestParameters": {},
                "Integration": {
                  "Type": "MOCK",
                  "RequestTemplates": {
                    "application/json": "{statusCode:200}"
                  },
                  "ContentHandling": "CONVERT_TO_TEXT",
                  "IntegrationResponses": [
                    {
                      "StatusCode": "200",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'",
                        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Amzn-Trace-Id'",
                        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET'"
                      },
                      "ResponseTemplates": {
                        "application/json": ""
                      }
                    }
                  ]
                },
                "ResourceId": {
                  "Ref": "ApiGatewayResourceMemoriesUseridVar"
                },
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                }
              }
            },
            "ApiGatewayMethodSpotifyTracksTopUseridVarOptions": {
              "Type": "AWS::ApiGateway::Method",
              "Properties": {
                "AuthorizationType": "NONE",
                "HttpMethod": "OPTIONS",
                "MethodResponses": [
                  {
                    "StatusCode": "200",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true,
                      "method.response.header.Access-Control-Allow-Headers": true,
                      "method.response.header.Access-Control-Allow-Methods": true
                    },
                    "ResponseModels": {}
                  }
                ],
                "RequestParameters": {},
                "Integration": {
                  "Type": "MOCK",
                  "RequestTemplates": {
                    "application/json": "{statusCode:200}"
                  },
                  "ContentHandling": "CONVERT_TO_TEXT",
                  "IntegrationResponses": [
                    {
                      "StatusCode": "200",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'",
                        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Amzn-Trace-Id'",
                        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET'"
                      },
                      "ResponseTemplates": {
                        "application/json": ""
                      }
                    }
                  ]
                },
                "ResourceId": {
                  "Ref": "ApiGatewayResourceSpotifyTracksTopUseridVar"
                },
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                }
              }
            },
            "ApiGatewayMethodAuthLoginGet": {
              "Type": "AWS::ApiGateway::Method",
              "Properties": {
                "HttpMethod": "GET",
                "RequestParameters": {},
                "ResourceId": {
                  "Ref": "ApiGatewayResourceAuthLogin"
                },
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                },
                "ApiKeyRequired": "<REDACTED>",
                "AuthorizationType": "NONE",
                "Integration": {
                  "IntegrationHttpMethod": "POST",
                  "Type": "AWS_PROXY",
                  "Uri": {
                    "Fn::Join": [
                      "",
                      [
                        "arn:",
                        {
                          "Ref": "AWS::Partition"
                        },
                        ":apigateway:",
                        {
                          "Ref": "AWS::Region"
                        },
                        ":lambda:path/2015-03-31/functions/",
                        {
                          "Fn::GetAtt": [
                            "SpotifyAuthLambdaFunction",
                            "Arn"
                          ]
                        },
                        "/invocations"
                      ]
                    ]
                  }
                },
                "MethodResponses": []
              },
              "DependsOn": [
                "SpotifyAuthLambdaPermissionApiGateway"
              ]
            },
            "ApiGatewayMethodCallbackGet": {
              "Type": "AWS::ApiGateway::Method",
              "Properties": {
                "HttpMethod": "GET",
                "RequestParameters": {},
                "ResourceId": {
                  "Ref": "ApiGatewayResourceCallback"
                },
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                },
                "ApiKeyRequired": "<REDACTED>",
                "AuthorizationType": "NONE",
                "Integration": {
                  "IntegrationHttpMethod": "POST",
                  "Type": "AWS_PROXY",
                  "Uri": {
                    "Fn::Join": [
                      "",
                      [
                        "arn:",
                        {
                          "Ref": "AWS::Partition"
                        },
                        ":apigateway:",
                        {
                          "Ref": "AWS::Region"
                        },
                        ":lambda:path/2015-03-31/functions/",
                        {
                          "Fn::GetAtt": [
                            "SpotifyCallbackLambdaFunction",
                            "Arn"
                          ]
                        },
                        "/invocations"
                      ]
                    ]
                  }
                },
                "MethodResponses": []
              },
              "DependsOn": [
                "SpotifyCallbackLambdaPermissionApiGateway"
              ]
            },
            "ApiGatewayMethodExchangespotifytokenPost": "<REDACTED>",
            "ApiGatewayMethodRefreshspotifytokenPost": "<REDACTED>",
            "ApiGatewayMethodValidatespotifytokenUseridVarPost": "<REDACTED>",
            "ApiGatewayMethodUsersPost": {
              "Type": "AWS::ApiGateway::Method",
              "Properties": {
                "HttpMethod": "POST",
                "RequestParameters": {},
                "ResourceId": {
                  "Ref": "ApiGatewayResourceUsers"
                },
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                },
                "ApiKeyRequired": "<REDACTED>",
                "AuthorizationType": "NONE",
                "Integration": {
                  "IntegrationHttpMethod": "POST",
                  "Type": "AWS_PROXY",
                  "Uri": {
                    "Fn::Join": [
                      "",
                      [
                        "arn:",
                        {
                          "Ref": "AWS::Partition"
                        },
                        ":apigateway:",
                        {
                          "Ref": "AWS::Region"
                        },
                        ":lambda:path/2015-03-31/functions/",
                        {
                          "Fn::GetAtt": [
                            "CreateUserLambdaFunction",
                            "Arn"
                          ]
                        },
                        "/invocations"
                      ]
                    ]
                  }
                },
                "MethodResponses": []
              },
              "DependsOn": [
                "CreateUserLambdaPermissionApiGateway"
              ]
            },
            "ApiGatewayMethodUsersUseridVarGet": {
              "Type": "AWS::ApiGateway::Method",
              "Properties": {
                "HttpMethod": "GET",
                "RequestParameters": {},
                "ResourceId": {
                  "Ref": "ApiGatewayResourceUsersUseridVar"
                },
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                },
                "ApiKeyRequired": "<REDACTED>",
                "AuthorizationType": "NONE",
                "Integration": {
                  "IntegrationHttpMethod": "POST",
                  "Type": "AWS_PROXY",
                  "Uri": {
                    "Fn::Join": [
                      "",
                      [
                        "arn:",
                        {
                          "Ref": "AWS::Partition"
                        },
                        ":apigateway:",
                        {
                          "Ref": "AWS::Region"
                        },
                        ":lambda:path/2015-03-31/functions/",
                        {
                          "Fn::GetAtt": [
                            "GetUserLambdaFunction",
                            "Arn"
                          ]
                        },
                        "/invocations"
                      ]
                    ]
                  }
                },
                "MethodResponses": []
              },
              "DependsOn": [
                "GetUserLambdaPermissionApiGateway"
              ]
            },
            "ApiGatewayMethodUsersSpotifySpotifyuseridVarGet": {
              "Type": "AWS::ApiGateway::Method",
              "Properties": {
                "HttpMethod": "GET",
                "RequestParameters": {},
                "ResourceId": {
                  "Ref": "ApiGatewayResourceUsersSpotifySpotifyuseridVar"
                },
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                },
                "ApiKeyRequired": "<REDACTED>",
                "AuthorizationType": "NONE",
                "Integration": {
                  "IntegrationHttpMethod": "POST",
                  "Type": "AWS_PROXY",
                  "Uri": {
                    "Fn::Join": [
                      "",
                      [
                        "arn:",
                        {
                          "Ref": "AWS::Partition"
                        },
                        ":apigateway:",
                        {
                          "Ref": "AWS::Region"
                        },
                        ":lambda:path/2015-03-31/functions/",
                        {
                          "Fn::GetAtt": [
                            "GetUserLambdaFunction",
                            "Arn"
                          ]
                        },
                        "/invocations"
                      ]
                    ]
                  }
                },
                "MethodResponses": []
              },
              "DependsOn": [
                "GetUserLambdaPermissionApiGateway"
              ]
            },
            "ApiGatewayMethodUsersUseridVarPut": {
              "Type": "AWS::ApiGateway::Method",
              "Properties": {
                "HttpMethod": "PUT",
                "RequestParameters": {},
                "ResourceId": {
                  "Ref": "ApiGatewayResourceUsersUseridVar"
                },
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                },
                "ApiKeyRequired": "<REDACTED>",
                "AuthorizationType": "NONE",
                "Integration": {
                  "IntegrationHttpMethod": "POST",
                  "Type": "AWS_PROXY",
                  "Uri": {
                    "Fn::Join": [
                      "",
                      [
                        "arn:",
                        {
                          "Ref": "AWS::Partition"
                        },
                        ":apigateway:",
                        {
                          "Ref": "AWS::Region"
                        },
                        ":lambda:path/2015-03-31/functions/",
                        {
                          "Fn::GetAtt": [
                            "UpdateUserLambdaFunction",
                            "Arn"
                          ]
                        },
                        "/invocations"
                      ]
                    ]
                  }
                },
                "MethodResponses": []
              },
              "DependsOn": [
                "UpdateUserLambdaPermissionApiGateway"
              ]
            },
            "ApiGatewayMethodUsersUseridVarDelete": {
              "Type": "AWS::ApiGateway::Method",
              "Properties": {
                "HttpMethod": "DELETE",
                "RequestParameters": {},
                "ResourceId": {
                  "Ref": "ApiGatewayResourceUsersUseridVar"
                },
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                },
                "ApiKeyRequired": "<REDACTED>",
                "AuthorizationType": "NONE",
                "Integration": {
                  "IntegrationHttpMethod": "POST",
                  "Type": "AWS_PROXY",
                  "Uri": {
                    "Fn::Join": [
                      "",
                      [
                        "arn:",
                        {
                          "Ref": "AWS::Partition"
                        },
                        ":apigateway:",
                        {
                          "Ref": "AWS::Region"
                        },
                        ":lambda:path/2015-03-31/functions/",
                        {
                          "Fn::GetAtt": [
                            "DeleteUserLambdaFunction",
                            "Arn"
                          ]
                        },
                        "/invocations"
                      ]
                    ]
                  }
                },
                "MethodResponses": []
              },
              "DependsOn": [
                "DeleteUserLambdaPermissionApiGateway"
              ]
            },
            "ApiGatewayMethodMemoriesPost": {
              "Type": "AWS::ApiGateway::Method",
              "Properties": {
                "HttpMethod": "POST",
                "RequestParameters": {},
                "ResourceId": {
                  "Ref": "ApiGatewayResourceMemories"
                },
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                },
                "ApiKeyRequired": "<REDACTED>",
                "AuthorizationType": "NONE",
                "Integration": {
                  "IntegrationHttpMethod": "POST",
                  "Type": "AWS_PROXY",
                  "Uri": {
                    "Fn::Join": [
                      "",
                      [
                        "arn:",
                        {
                          "Ref": "AWS::Partition"
                        },
                        ":apigateway:",
                        {
                          "Ref": "AWS::Region"
                        },
                        ":lambda:path/2015-03-31/functions/",
                        {
                          "Fn::GetAtt": [
                            "CreateMemoryLambdaFunction",
                            "Arn"
                          ]
                        },
                        "/invocations"
                      ]
                    ]
                  }
                },
                "MethodResponses": []
              },
              "DependsOn": [
                "CreateMemoryLambdaPermissionApiGateway"
              ]
            },
            "ApiGatewayMethodMemoriesUseridVarMemoryidVarGet": {
              "Type": "AWS::ApiGateway::Method",
              "Properties": {
                "HttpMethod": "GET",
                "RequestParameters": {},
                "ResourceId": {
                  "Ref": "ApiGatewayResourceMemoriesUseridVarMemoryidVar"
                },
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                },
                "ApiKeyRequired": "<REDACTED>",
                "AuthorizationType": "NONE",
                "Integration": {
                  "IntegrationHttpMethod": "POST",
                  "Type": "AWS_PROXY",
                  "Uri": {
                    "Fn::Join": [
                      "",
                      [
                        "arn:",
                        {
                          "Ref": "AWS::Partition"
                        },
                        ":apigateway:",
                        {
                          "Ref": "AWS::Region"
                        },
                        ":lambda:path/2015-03-31/functions/",
                        {
                          "Fn::GetAtt": [
                            "GetMemoryLambdaFunction",
                            "Arn"
                          ]
                        },
                        "/invocations"
                      ]
                    ]
                  }
                },
                "MethodResponses": []
              },
              "DependsOn": [
                "GetMemoryLambdaPermissionApiGateway"
              ]
            },
            "ApiGatewayMethodMemoriesUseridVarMemoryidVarPut": {
              "Type": "AWS::ApiGateway::Method",
              "Properties": {
                "HttpMethod": "PUT",
                "RequestParameters": {},
                "ResourceId": {
                  "Ref": "ApiGatewayResourceMemoriesUseridVarMemoryidVar"
                },
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                },
                "ApiKeyRequired": "<REDACTED>",
                "AuthorizationType": "NONE",
                "Integration": {
                  "IntegrationHttpMethod": "POST",
                  "Type": "AWS_PROXY",
                  "Uri": {
                    "Fn::Join": [
                      "",
                      [
                        "arn:",
                        {
                          "Ref": "AWS::Partition"
                        },
                        ":apigateway:",
                        {
                          "Ref": "AWS::Region"
                        },
                        ":lambda:path/2015-03-31/functions/",
                        {
                          "Fn::GetAtt": [
                            "UpdateMemoryLambdaFunction",
                            "Arn"
                          ]
                        },
                        "/invocations"
                      ]
                    ]
                  }
                },
                "MethodResponses": []
              },
              "DependsOn": [
                "UpdateMemoryLambdaPermissionApiGateway"
              ]
            },
            "ApiGatewayMethodMemoriesUseridVarMemoryidVarDelete": {
              "Type": "AWS::ApiGateway::Method",
              "Properties": {
                "HttpMethod": "DELETE",
                "RequestParameters": {},
                "ResourceId": {
                  "Ref": "ApiGatewayResourceMemoriesUseridVarMemoryidVar"
                },
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                },
                "ApiKeyRequired": "<REDACTED>",
                "AuthorizationType": "NONE",
                "Integration": {
                  "IntegrationHttpMethod": "POST",
                  "Type": "AWS_PROXY",
                  "Uri": {
                    "Fn::Join": [
                      "",
                      [
                        "arn:",
                        {
                          "Ref": "AWS::Partition"
                        },
                        ":apigateway:",
                        {
                          "Ref": "AWS::Region"
                        },
                        ":lambda:path/2015-03-31/functions/",
                        {
                          "Fn::GetAtt": [
                            "DeleteMemoryLambdaFunction",
                            "Arn"
                          ]
                        },
                        "/invocations"
                      ]
                    ]
                  }
                },
                "MethodResponses": []
              },
              "DependsOn": [
                "DeleteMemoryLambdaPermissionApiGateway"
              ]
            },
            "ApiGatewayMethodMemoriesUseridVarGet": {
              "Type": "AWS::ApiGateway::Method",
              "Properties": {
                "HttpMethod": "GET",
                "RequestParameters": {},
                "ResourceId": {
                  "Ref": "ApiGatewayResourceMemoriesUseridVar"
                },
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                },
                "ApiKeyRequired": "<REDACTED>",
                "AuthorizationType": "NONE",
                "Integration": {
                  "IntegrationHttpMethod": "POST",
                  "Type": "AWS_PROXY",
                  "Uri": {
                    "Fn::Join": [
                      "",
                      [
                        "arn:",
                        {
                          "Ref": "AWS::Partition"
                        },
                        ":apigateway:",
                        {
                          "Ref": "AWS::Region"
                        },
                        ":lambda:path/2015-03-31/functions/",
                        {
                          "Fn::GetAtt": [
                            "ListMemoriesLambdaFunction",
                            "Arn"
                          ]
                        },
                        "/invocations"
                      ]
                    ]
                  }
                },
                "MethodResponses": []
              },
              "DependsOn": [
                "ListMemoriesLambdaPermissionApiGateway"
              ]
            },
            "ApiGatewayMethodSpotifyTracksTopUseridVarGet": {
              "Type": "AWS::ApiGateway::Method",
              "Properties": {
                "HttpMethod": "GET",
                "RequestParameters": {},
                "ResourceId": {
                  "Ref": "ApiGatewayResourceSpotifyTracksTopUseridVar"
                },
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                },
                "ApiKeyRequired": "<REDACTED>",
                "AuthorizationType": "NONE",
                "Integration": {
                  "IntegrationHttpMethod": "POST",
                  "Type": "AWS_PROXY",
                  "Uri": {
                    "Fn::Join": [
                      "",
                      [
                        "arn:",
                        {
                          "Ref": "AWS::Partition"
                        },
                        ":apigateway:",
                        {
                          "Ref": "AWS::Region"
                        },
                        ":lambda:path/2015-03-31/functions/",
                        {
                          "Fn::GetAtt": [
                            "GetTopTracksLambdaFunction",
                            "Arn"
                          ]
                        },
                        "/invocations"
                      ]
                    ]
                  }
                },
                "MethodResponses": []
              },
              "DependsOn": [
                "GetTopTracksLambdaPermissionApiGateway"
              ]
            },
            "ApiGatewayDeployment1727560454908": {
              "Type": "AWS::ApiGateway::Deployment",
              "Properties": {
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                },
                "StageName": "dev"
              },
              "DependsOn": [
                "ApiGatewayMethodAuthLoginOptions",
                "ApiGatewayMethodCallbackOptions",
                "ApiGatewayMethodExchangespotifytokenOptions",
                "ApiGatewayMethodRefreshspotifytokenOptions",
                "ApiGatewayMethodValidatespotifytokenUseridVarOptions",
                "ApiGatewayMethodUsersOptions",
                "ApiGatewayMethodUsersUseridVarOptions",
                "ApiGatewayMethodUsersSpotifySpotifyuseridVarOptions",
                "ApiGatewayMethodMemoriesOptions",
                "ApiGatewayMethodMemoriesUseridVarMemoryidVarOptions",
                "ApiGatewayMethodMemoriesUseridVarOptions",
                "ApiGatewayMethodSpotifyTracksTopUseridVarOptions",
                "ApiGatewayMethodAuthLoginGet",
                "ApiGatewayMethodCallbackGet",
                "ApiGatewayMethodExchangespotifytokenPost",
                "ApiGatewayMethodRefreshspotifytokenPost",
                "ApiGatewayMethodValidatespotifytokenUseridVarPost",
                "ApiGatewayMethodUsersPost",
                "ApiGatewayMethodUsersUseridVarGet",
                "ApiGatewayMethodUsersSpotifySpotifyuseridVarGet",
                "ApiGatewayMethodUsersUseridVarPut",
                "ApiGatewayMethodUsersUseridVarDelete",
                "ApiGatewayMethodMemoriesPost",
                "ApiGatewayMethodMemoriesUseridVarMemoryidVarGet",
                "ApiGatewayMethodMemoriesUseridVarMemoryidVarPut",
                "ApiGatewayMethodMemoriesUseridVarMemoryidVarDelete",
                "ApiGatewayMethodMemoriesUseridVarGet",
                "ApiGatewayMethodSpotifyTracksTopUseridVarGet"
              ]
            },
            "SpotifyAuthLambdaPermissionApiGateway": {
              "Type": "AWS::Lambda::Permission",
              "Properties": {
                "FunctionName": {
                  "Fn::GetAtt": [
                    "SpotifyAuthLambdaFunction",
                    "Arn"
                  ]
                },
                "Action": "lambda:InvokeFunction",
                "Principal": "apigateway.amazonaws.com",
                "SourceArn": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition"
                      },
                      ":execute-api:",
                      {
                        "Ref": "AWS::Region"
                      },
                      ":",
                      {
                        "Ref": "AWS::AccountId"
                      },
                      ":",
                      {
                        "Ref": "ApiGatewayRestApi"
                      },
                      "/*/*"
                    ]
                  ]
                }
              }
            },
            "SpotifyCallbackLambdaPermissionApiGateway": {
              "Type": "AWS::Lambda::Permission",
              "Properties": {
                "FunctionName": {
                  "Fn::GetAtt": [
                    "SpotifyCallbackLambdaFunction",
                    "Arn"
                  ]
                },
                "Action": "lambda:InvokeFunction",
                "Principal": "apigateway.amazonaws.com",
                "SourceArn": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition"
                      },
                      ":execute-api:",
                      {
                        "Ref": "AWS::Region"
                      },
                      ":",
                      {
                        "Ref": "AWS::AccountId"
                      },
                      ":",
                      {
                        "Ref": "ApiGatewayRestApi"
                      },
                      "/*/*"
                    ]
                  ]
                }
              }
            },
            "ExchangeSpotifyTokenLambdaPermissionApiGateway": "<REDACTED>",
            "RefreshSpotifyTokenLambdaPermissionApiGateway": "<REDACTED>",
            "ValidateSpotifyTokenLambdaPermissionApiGateway": "<REDACTED>",
            "CreateUserLambdaPermissionApiGateway": {
              "Type": "AWS::Lambda::Permission",
              "Properties": {
                "FunctionName": {
                  "Fn::GetAtt": [
                    "CreateUserLambdaFunction",
                    "Arn"
                  ]
                },
                "Action": "lambda:InvokeFunction",
                "Principal": "apigateway.amazonaws.com",
                "SourceArn": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition"
                      },
                      ":execute-api:",
                      {
                        "Ref": "AWS::Region"
                      },
                      ":",
                      {
                        "Ref": "AWS::AccountId"
                      },
                      ":",
                      {
                        "Ref": "ApiGatewayRestApi"
                      },
                      "/*/*"
                    ]
                  ]
                }
              }
            },
            "GetUserLambdaPermissionApiGateway": {
              "Type": "AWS::Lambda::Permission",
              "Properties": {
                "FunctionName": {
                  "Fn::GetAtt": [
                    "GetUserLambdaFunction",
                    "Arn"
                  ]
                },
                "Action": "lambda:InvokeFunction",
                "Principal": "apigateway.amazonaws.com",
                "SourceArn": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition"
                      },
                      ":execute-api:",
                      {
                        "Ref": "AWS::Region"
                      },
                      ":",
                      {
                        "Ref": "AWS::AccountId"
                      },
                      ":",
                      {
                        "Ref": "ApiGatewayRestApi"
                      },
                      "/*/*"
                    ]
                  ]
                }
              }
            },
            "UpdateUserLambdaPermissionApiGateway": {
              "Type": "AWS::Lambda::Permission",
              "Properties": {
                "FunctionName": {
                  "Fn::GetAtt": [
                    "UpdateUserLambdaFunction",
                    "Arn"
                  ]
                },
                "Action": "lambda:InvokeFunction",
                "Principal": "apigateway.amazonaws.com",
                "SourceArn": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition"
                      },
                      ":execute-api:",
                      {
                        "Ref": "AWS::Region"
                      },
                      ":",
                      {
                        "Ref": "AWS::AccountId"
                      },
                      ":",
                      {
                        "Ref": "ApiGatewayRestApi"
                      },
                      "/*/*"
                    ]
                  ]
                }
              }
            },
            "DeleteUserLambdaPermissionApiGateway": {
              "Type": "AWS::Lambda::Permission",
              "Properties": {
                "FunctionName": {
                  "Fn::GetAtt": [
                    "DeleteUserLambdaFunction",
                    "Arn"
                  ]
                },
                "Action": "lambda:InvokeFunction",
                "Principal": "apigateway.amazonaws.com",
                "SourceArn": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition"
                      },
                      ":execute-api:",
                      {
                        "Ref": "AWS::Region"
                      },
                      ":",
                      {
                        "Ref": "AWS::AccountId"
                      },
                      ":",
                      {
                        "Ref": "ApiGatewayRestApi"
                      },
                      "/*/*"
                    ]
                  ]
                }
              }
            },
            "CreateMemoryLambdaPermissionApiGateway": {
              "Type": "AWS::Lambda::Permission",
              "Properties": {
                "FunctionName": {
                  "Fn::GetAtt": [
                    "CreateMemoryLambdaFunction",
                    "Arn"
                  ]
                },
                "Action": "lambda:InvokeFunction",
                "Principal": "apigateway.amazonaws.com",
                "SourceArn": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition"
                      },
                      ":execute-api:",
                      {
                        "Ref": "AWS::Region"
                      },
                      ":",
                      {
                        "Ref": "AWS::AccountId"
                      },
                      ":",
                      {
                        "Ref": "ApiGatewayRestApi"
                      },
                      "/*/*"
                    ]
                  ]
                }
              }
            },
            "GetMemoryLambdaPermissionApiGateway": {
              "Type": "AWS::Lambda::Permission",
              "Properties": {
                "FunctionName": {
                  "Fn::GetAtt": [
                    "GetMemoryLambdaFunction",
                    "Arn"
                  ]
                },
                "Action": "lambda:InvokeFunction",
                "Principal": "apigateway.amazonaws.com",
                "SourceArn": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition"
                      },
                      ":execute-api:",
                      {
                        "Ref": "AWS::Region"
                      },
                      ":",
                      {
                        "Ref": "AWS::AccountId"
                      },
                      ":",
                      {
                        "Ref": "ApiGatewayRestApi"
                      },
                      "/*/*"
                    ]
                  ]
                }
              }
            },
            "UpdateMemoryLambdaPermissionApiGateway": {
              "Type": "AWS::Lambda::Permission",
              "Properties": {
                "FunctionName": {
                  "Fn::GetAtt": [
                    "UpdateMemoryLambdaFunction",
                    "Arn"
                  ]
                },
                "Action": "lambda:InvokeFunction",
                "Principal": "apigateway.amazonaws.com",
                "SourceArn": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition"
                      },
                      ":execute-api:",
                      {
                        "Ref": "AWS::Region"
                      },
                      ":",
                      {
                        "Ref": "AWS::AccountId"
                      },
                      ":",
                      {
                        "Ref": "ApiGatewayRestApi"
                      },
                      "/*/*"
                    ]
                  ]
                }
              }
            },
            "DeleteMemoryLambdaPermissionApiGateway": {
              "Type": "AWS::Lambda::Permission",
              "Properties": {
                "FunctionName": {
                  "Fn::GetAtt": [
                    "DeleteMemoryLambdaFunction",
                    "Arn"
                  ]
                },
                "Action": "lambda:InvokeFunction",
                "Principal": "apigateway.amazonaws.com",
                "SourceArn": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition"
                      },
                      ":execute-api:",
                      {
                        "Ref": "AWS::Region"
                      },
                      ":",
                      {
                        "Ref": "AWS::AccountId"
                      },
                      ":",
                      {
                        "Ref": "ApiGatewayRestApi"
                      },
                      "/*/*"
                    ]
                  ]
                }
              }
            },
            "ListMemoriesLambdaPermissionApiGateway": {
              "Type": "AWS::Lambda::Permission",
              "Properties": {
                "FunctionName": {
                  "Fn::GetAtt": [
                    "ListMemoriesLambdaFunction",
                    "Arn"
                  ]
                },
                "Action": "lambda:InvokeFunction",
                "Principal": "apigateway.amazonaws.com",
                "SourceArn": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition"
                      },
                      ":execute-api:",
                      {
                        "Ref": "AWS::Region"
                      },
                      ":",
                      {
                        "Ref": "AWS::AccountId"
                      },
                      ":",
                      {
                        "Ref": "ApiGatewayRestApi"
                      },
                      "/*/*"
                    ]
                  ]
                }
              }
            },
            "GetTopTracksLambdaPermissionApiGateway": {
              "Type": "AWS::Lambda::Permission",
              "Properties": {
                "FunctionName": {
                  "Fn::GetAtt": [
                    "GetTopTracksLambdaFunction",
                    "Arn"
                  ]
                },
                "Action": "lambda:InvokeFunction",
                "Principal": "apigateway.amazonaws.com",
                "SourceArn": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition"
                      },
                      ":execute-api:",
                      {
                        "Ref": "AWS::Region"
                      },
                      ":",
                      {
                        "Ref": "AWS::AccountId"
                      },
                      ":",
                      {
                        "Ref": "ApiGatewayRestApi"
                      },
                      "/*/*"
                    ]
                  ]
                }
              }
            },
            "StreamMemoryUpdatesEventSourceMappingDynamodbMemoriesTable": {
              "Type": "AWS::Lambda::EventSourceMapping",
              "DependsOn": [
                "IamRoleLambdaExecution"
              ],
              "Properties": {
                "BatchSize": 10,
                "Enabled": true,
                "EventSourceArn": {
                  "Fn::GetAtt": [
                    "MemoriesTable",
                    "StreamArn"
                  ]
                },
                "FunctionName": {
                  "Fn::GetAtt": [
                    "StreamMemoryUpdatesLambdaFunction",
                    "Arn"
                  ]
                },
                "StartingPosition": "TRIM_HORIZON"
              }
            },
            "AuthSessionData": {
              "Type": "AWS::DynamoDB::Table",
              "Properties": {
                "TableName": "AuthSessionData",
                "AttributeDefinitions": [
                  {
                    "AttributeName": "UserId",
                    "AttributeType": "S"
                  }
                ],
                "KeySchema": [
                  {
                    "AttributeName": "UserId",
                    "KeyType": "HASH"
                  }
                ],
                "BillingMode": "PAY_PER_REQUEST",
                "TimeToLiveSpecification": {
                  "AttributeName": "ExpiresAt",
                  "Enabled": true
                }
              }
            },
            "UsersTable": {
              "Type": "AWS::DynamoDB::Table",
              "Properties": {
                "TableName": "Users",
                "AttributeDefinitions": [
                  {
                    "AttributeName": "UserId",
                    "AttributeType": "S"
                  },
                  {
                    "AttributeName": "SpotifyUserId",
                    "AttributeType": "S"
                  }
                ],
                "KeySchema": [
                  {
                    "AttributeName": "UserId",
                    "KeyType": "HASH"
                  }
                ],
                "GlobalSecondaryIndexes": [
                  {
                    "IndexName": "SpotifyUserIdIndex",
                    "KeySchema": [
                      {
                        "AttributeName": "SpotifyUserId",
                        "KeyType": "HASH"
                      }
                    ],
                    "Projection": {
                      "ProjectionType": "ALL"
                    }
                  }
                ],
                "BillingMode": "PAY_PER_REQUEST",
                "StreamSpecification": {
                  "StreamViewType": "NEW_AND_OLD_IMAGES"
                }
              }
            },
            "MemoriesTable": {
              "Type": "AWS::DynamoDB::Table",
              "Properties": {
                "TableName": "Memories",
                "AttributeDefinitions": [
                  {
                    "AttributeName": "UserId",
                    "AttributeType": "S"
                  },
                  {
                    "AttributeName": "MemoryId",
                    "AttributeType": "S"
                  }
                ],
                "KeySchema": [
                  {
                    "AttributeName": "UserId",
                    "KeyType": "HASH"
                  },
                  {
                    "AttributeName": "MemoryId",
                    "KeyType": "RANGE"
                  }
                ],
                "BillingMode": "PAY_PER_REQUEST",
                "StreamSpecification": {
                  "StreamViewType": "NEW_AND_OLD_IMAGES"
                }
              }
            }
          },
          "Outputs": {
            "ServerlessDeploymentBucketName": {
              "Value": "serverless-framework-deployments-us-east-1-55cebd6e-28d6",
              "Export": {
                "Name": "sls-nostalgio-backend-dev-ServerlessDeploymentBucketName"
              }
            },
            "SpotifyAuthLambdaFunctionQualifiedArn": {
              "Description": "Current Lambda function version",
              "Value": {
                "Ref": "SpotifyAuthLambdaVersiontPVw1jw6Aad7GcKwIlpemFCqIaCScnAITl3ct4KZJI"
              },
              "Export": {
                "Name": "sls-nostalgio-backend-dev-SpotifyAuthLambdaFunctionQualifiedArn"
              }
            },
            "ValidateSpotifyTokenLambdaFunctionQualifiedArn": "<REDACTED>",
            "ExchangeSpotifyTokenLambdaFunctionQualifiedArn": "<REDACTED>",
            "UpdateUserLambdaFunctionQualifiedArn": {
              "Description": "Current Lambda function version",
              "Value": {
                "Ref": "UpdateUserLambdaVersionFrQkQgMdoj08bEB3fIzaN9z59gjE5Xea9cTEHVgLlI"
              },
              "Export": {
                "Name": "sls-nostalgio-backend-dev-UpdateUserLambdaFunctionQualifiedArn"
              }
            },
            "SpotifyCallbackLambdaFunctionQualifiedArn": {
              "Description": "Current Lambda function version",
              "Value": {
                "Ref": "SpotifyCallbackLambdaVersionHcwq496FnTX493Oq4vfTdlqrRP8N1zvi7YpHJ9IT2MM"
              },
              "Export": {
                "Name": "sls-nostalgio-backend-dev-SpotifyCallbackLambdaFunctionQualifiedArn"
              }
            },
            "GetUserLambdaFunctionQualifiedArn": {
              "Description": "Current Lambda function version",
              "Value": {
                "Ref": "GetUserLambdaVersionDwz0xJGw46JR9RJ0XK93zJaYjpIdmmmDQy8Zekxc"
              },
              "Export": {
                "Name": "sls-nostalgio-backend-dev-GetUserLambdaFunctionQualifiedArn"
              }
            },
            "CreateUserLambdaFunctionQualifiedArn": {
              "Description": "Current Lambda function version",
              "Value": {
                "Ref": "CreateUserLambdaVersionsLF1EE4pnRkmumF2DuBOPrl2ncWgnikHBKghcukcY"
              },
              "Export": {
                "Name": "sls-nostalgio-backend-dev-CreateUserLambdaFunctionQualifiedArn"
              }
            },
            "RefreshSpotifyTokenLambdaFunctionQualifiedArn": "<REDACTED>",
            "DeleteUserLambdaFunctionQualifiedArn": {
              "Description": "Current Lambda function version",
              "Value": {
                "Ref": "DeleteUserLambdaVersionfmmH52E282Q7f76Callujj6vTerG8qe8enOC65o"
              },
              "Export": {
                "Name": "sls-nostalgio-backend-dev-DeleteUserLambdaFunctionQualifiedArn"
              }
            },
            "CreateMemoryLambdaFunctionQualifiedArn": {
              "Description": "Current Lambda function version",
              "Value": {
                "Ref": "CreateMemoryLambdaVersionokDKpGGXuW2mpWPVyeVJ36htBtjmkk3BaEoiz8ds"
              },
              "Export": {
                "Name": "sls-nostalgio-backend-dev-CreateMemoryLambdaFunctionQualifiedArn"
              }
            },
            "UpdateMemoryLambdaFunctionQualifiedArn": {
              "Description": "Current Lambda function version",
              "Value": {
                "Ref": "UpdateMemoryLambdaVersionRacKmRvFJEeFd7F21R8BHYK7dnDN2aN69iVOlSMRQc"
              },
              "Export": {
                "Name": "sls-nostalgio-backend-dev-UpdateMemoryLambdaFunctionQualifiedArn"
              }
            },
            "ListMemoriesLambdaFunctionQualifiedArn": {
              "Description": "Current Lambda function version",
              "Value": {
                "Ref": "ListMemoriesLambdaVersionZei8fgbvJAKnhQRvNCoUNHg2IEK3KW16rdfA0cMRM"
              },
              "Export": {
                "Name": "sls-nostalgio-backend-dev-ListMemoriesLambdaFunctionQualifiedArn"
              }
            },
            "StreamMemoryUpdatesLambdaFunctionQualifiedArn": {
              "Description": "Current Lambda function version",
              "Value": {
                "Ref": "StreamMemoryUpdatesLambdaVersionlbDkfvE4o4xulVdClHlWRmN9YhSH98gMnYkP1Z57veE"
              },
              "Export": {
                "Name": "sls-nostalgio-backend-dev-StreamMemoryUpdatesLambdaFunctionQualifiedArn"
              }
            },
            "DeleteMemoryLambdaFunctionQualifiedArn": {
              "Description": "Current Lambda function version",
              "Value": {
                "Ref": "DeleteMemoryLambdaVersion2UrMfz0smOQVM2fCOpE32ahiZHqi7YUJH4fx918oY"
              },
              "Export": {
                "Name": "sls-nostalgio-backend-dev-DeleteMemoryLambdaFunctionQualifiedArn"
              }
            },
            "GetTopTracksLambdaFunctionQualifiedArn": {
              "Description": "Current Lambda function version",
              "Value": {
                "Ref": "GetTopTracksLambdaVersion72SznfM9ZnOREILfCYeAqxbsHEnx5fntkZUB3SZS84"
              },
              "Export": {
                "Name": "sls-nostalgio-backend-dev-GetTopTracksLambdaFunctionQualifiedArn"
              }
            },
            "GetMemoryLambdaFunctionQualifiedArn": {
              "Description": "Current Lambda function version",
              "Value": {
                "Ref": "GetMemoryLambdaVersionkYIdneML5V5faoCn7Ymh96ZRIQbD3ymhtXJ0RxXWZ4"
              },
              "Export": {
                "Name": "sls-nostalgio-backend-dev-GetMemoryLambdaFunctionQualifiedArn"
              }
            },
            "ServiceEndpoint": {
              "Description": "URL of the service endpoint",
              "Value": {
                "Fn::Join": [
                  "",
                  [
                    "https://",
                    {
                      "Ref": "ApiGatewayRestApi"
                    },
                    ".execute-api.",
                    {
                      "Ref": "AWS::Region"
                    },
                    ".",
                    {
                      "Ref": "AWS::URLSuffix"
                    },
                    "/dev"
                  ]
                ]
              },
              "Export": {
                "Name": "sls-nostalgio-backend-dev-ServiceEndpoint"
              }
            }
          }
        },
        "vpc": {}
      },
      "package": {
        "individually": true,
        "artifactsS3KeyDirname": "serverless/nostalgio-backend/dev/code-artifacts",
        "deploymentBucket": "serverless-framework-deployments-us-east-1-55cebd6e-28d6",
        "artifactDirectoryName": "serverless/nostalgio-backend/dev/1727560476305-2024-09-28T21:54:36.305Z"
      },
      "plugins": [
        "serverless-offline"
      ],
      "functions": {
        "spotifyAuth": {
          "handler": "src/auth/spotify/spotifyAuthHandler.spotifyAuthHandler",
          "events": [
            {
              "http": {
                "path": "auth/login",
                "method": "get",
                "cors": {
                  "origin": "*",
                  "methods": [
                    "OPTIONS",
                    "GET"
                  ],
                  "headers": [
                    "Content-Type",
                    "X-Amz-Date",
                    "Authorization",
                    "X-Api-Key",
                    "X-Amz-Security-Token",
                    "X-Amz-User-Agent",
                    "X-Amzn-Trace-Id"
                  ],
                  "allowCredentials": "<REDACTED>"
                },
                "integration": "AWS_PROXY"
              }
            }
          ],
          "name": "nostalgio-backend-dev-spotifyAuth",
          "package": {
            "artifact": "/Users/andresgarcia/Desktop/ACM_Projects/Nostalgio/server/.serverless/spotifyAuth.zip"
          },
          "memory": 1024,
          "timeout": 6,
          "runtime": "nodejs18.x",
          "vpc": {},
          "versionLogicalId": "SpotifyAuthLambdaVersiontPVw1jw6Aad7GcKwIlpemFCqIaCScnAITl3ct4KZJI"
        },
        "spotifyCallback": {
          "handler": "src/auth/spotify/spotifyCallbackHandler.spotifyCallbackHandler",
          "events": [
            {
              "http": {
                "path": "callback",
                "method": "get",
                "cors": {
                  "origin": "*",
                  "methods": [
                    "OPTIONS",
                    "GET"
                  ],
                  "headers": [
                    "Content-Type",
                    "X-Amz-Date",
                    "Authorization",
                    "X-Api-Key",
                    "X-Amz-Security-Token",
                    "X-Amz-User-Agent",
                    "X-Amzn-Trace-Id"
                  ],
                  "allowCredentials": "<REDACTED>"
                },
                "integration": "AWS_PROXY"
              }
            }
          ],
          "name": "nostalgio-backend-dev-spotifyCallback",
          "package": {
            "artifact": "/Users/andresgarcia/Desktop/ACM_Projects/Nostalgio/server/.serverless/spotifyCallback.zip"
          },
          "memory": 1024,
          "timeout": 6,
          "runtime": "nodejs18.x",
          "vpc": {},
          "versionLogicalId": "SpotifyCallbackLambdaVersionHcwq496FnTX493Oq4vfTdlqrRP8N1zvi7YpHJ9IT2MM"
        },
        "exchangeSpotifyToken": "<REDACTED>",
        "refreshSpotifyToken": "<REDACTED>",
        "validateSpotifyToken": "<REDACTED>",
        "createUser": {
          "handler": "src/users/handlers/createUser.createUserHandler",
          "events": [
            {
              "http": {
                "path": "users",
                "method": "post",
                "cors": {
                  "origin": "*",
                  "methods": [
                    "OPTIONS",
                    "POST"
                  ],
                  "headers": [
                    "Content-Type",
                    "X-Amz-Date",
                    "Authorization",
                    "X-Api-Key",
                    "X-Amz-Security-Token",
                    "X-Amz-User-Agent",
                    "X-Amzn-Trace-Id"
                  ],
                  "allowCredentials": "<REDACTED>"
                },
                "integration": "AWS_PROXY"
              }
            }
          ],
          "name": "nostalgio-backend-dev-createUser",
          "package": {
            "artifact": "/Users/andresgarcia/Desktop/ACM_Projects/Nostalgio/server/.serverless/createUser.zip"
          },
          "memory": 1024,
          "timeout": 6,
          "runtime": "nodejs18.x",
          "vpc": {},
          "versionLogicalId": "CreateUserLambdaVersionsLF1EE4pnRkmumF2DuBOPrl2ncWgnikHBKghcukcY"
        },
        "getUser": {
          "handler": "src/users/handlers/getUser.getUserHandler",
          "events": [
            {
              "http": {
                "path": "users/{userId}",
                "method": "get",
                "cors": {
                  "origin": "*",
                  "methods": [
                    "OPTIONS",
                    "GET"
                  ],
                  "headers": [
                    "Content-Type",
                    "X-Amz-Date",
                    "Authorization",
                    "X-Api-Key",
                    "X-Amz-Security-Token",
                    "X-Amz-User-Agent",
                    "X-Amzn-Trace-Id"
                  ],
                  "allowCredentials": "<REDACTED>"
                },
                "integration": "AWS_PROXY"
              }
            },
            {
              "http": {
                "path": "users/spotify/{spotifyUserId}",
                "method": "get",
                "cors": {
                  "origin": "*",
                  "methods": [
                    "OPTIONS",
                    "GET"
                  ],
                  "headers": [
                    "Content-Type",
                    "X-Amz-Date",
                    "Authorization",
                    "X-Api-Key",
                    "X-Amz-Security-Token",
                    "X-Amz-User-Agent",
                    "X-Amzn-Trace-Id"
                  ],
                  "allowCredentials": "<REDACTED>"
                },
                "integration": "AWS_PROXY"
              }
            }
          ],
          "name": "nostalgio-backend-dev-getUser",
          "package": {
            "artifact": "/Users/andresgarcia/Desktop/ACM_Projects/Nostalgio/server/.serverless/getUser.zip"
          },
          "memory": 1024,
          "timeout": 6,
          "runtime": "nodejs18.x",
          "vpc": {},
          "versionLogicalId": "GetUserLambdaVersionDwz0xJGw46JR9RJ0XK93zJaYjpIdmmmDQy8Zekxc"
        },
        "updateUser": {
          "handler": "src/users/handlers/updateUser.updateUserHandler",
          "events": [
            {
              "http": {
                "path": "users/{userId}",
                "method": "put",
                "cors": {
                  "origin": "*",
                  "methods": [
                    "OPTIONS",
                    "PUT"
                  ],
                  "headers": [
                    "Content-Type",
                    "X-Amz-Date",
                    "Authorization",
                    "X-Api-Key",
                    "X-Amz-Security-Token",
                    "X-Amz-User-Agent",
                    "X-Amzn-Trace-Id"
                  ],
                  "allowCredentials": "<REDACTED>"
                },
                "integration": "AWS_PROXY"
              }
            }
          ],
          "name": "nostalgio-backend-dev-updateUser",
          "package": {
            "artifact": "/Users/andresgarcia/Desktop/ACM_Projects/Nostalgio/server/.serverless/updateUser.zip"
          },
          "memory": 1024,
          "timeout": 6,
          "runtime": "nodejs18.x",
          "vpc": {},
          "versionLogicalId": "UpdateUserLambdaVersionFrQkQgMdoj08bEB3fIzaN9z59gjE5Xea9cTEHVgLlI"
        },
        "deleteUser": {
          "handler": "src/users/handlers/deleteUser.deleteUserHandler",
          "events": [
            {
              "http": {
                "path": "users/{userId}",
                "method": "delete",
                "cors": {
                  "origin": "*",
                  "methods": [
                    "OPTIONS",
                    "DELETE"
                  ],
                  "headers": [
                    "Content-Type",
                    "X-Amz-Date",
                    "Authorization",
                    "X-Api-Key",
                    "X-Amz-Security-Token",
                    "X-Amz-User-Agent",
                    "X-Amzn-Trace-Id"
                  ],
                  "allowCredentials": "<REDACTED>"
                },
                "integration": "AWS_PROXY"
              }
            }
          ],
          "name": "nostalgio-backend-dev-deleteUser",
          "package": {
            "artifact": "/Users/andresgarcia/Desktop/ACM_Projects/Nostalgio/server/.serverless/deleteUser.zip"
          },
          "memory": 1024,
          "timeout": 6,
          "runtime": "nodejs18.x",
          "vpc": {},
          "versionLogicalId": "DeleteUserLambdaVersionfmmH52E282Q7f76Callujj6vTerG8qe8enOC65o"
        },
        "createMemory": {
          "handler": "src/memories/handlers/createMemory.createMemoryHandler",
          "events": [
            {
              "http": {
                "path": "memories",
                "method": "post",
                "cors": {
                  "origin": "*",
                  "methods": [
                    "OPTIONS",
                    "POST"
                  ],
                  "headers": [
                    "Content-Type",
                    "X-Amz-Date",
                    "Authorization",
                    "X-Api-Key",
                    "X-Amz-Security-Token",
                    "X-Amz-User-Agent",
                    "X-Amzn-Trace-Id"
                  ],
                  "allowCredentials": "<REDACTED>"
                },
                "integration": "AWS_PROXY"
              }
            }
          ],
          "name": "nostalgio-backend-dev-createMemory",
          "package": {
            "artifact": "/Users/andresgarcia/Desktop/ACM_Projects/Nostalgio/server/.serverless/createMemory.zip"
          },
          "memory": 1024,
          "timeout": 6,
          "runtime": "nodejs18.x",
          "vpc": {},
          "versionLogicalId": "CreateMemoryLambdaVersionokDKpGGXuW2mpWPVyeVJ36htBtjmkk3BaEoiz8ds"
        },
        "getMemory": {
          "handler": "src/memories/handlers/getMemory.getMemoryHandler",
          "events": [
            {
              "http": {
                "path": "memories/{userId}/{memoryId}",
                "method": "get",
                "cors": {
                  "origin": "*",
                  "methods": [
                    "OPTIONS",
                    "GET"
                  ],
                  "headers": [
                    "Content-Type",
                    "X-Amz-Date",
                    "Authorization",
                    "X-Api-Key",
                    "X-Amz-Security-Token",
                    "X-Amz-User-Agent",
                    "X-Amzn-Trace-Id"
                  ],
                  "allowCredentials": "<REDACTED>"
                },
                "integration": "AWS_PROXY"
              }
            }
          ],
          "name": "nostalgio-backend-dev-getMemory",
          "package": {
            "artifact": "/Users/andresgarcia/Desktop/ACM_Projects/Nostalgio/server/.serverless/getMemory.zip"
          },
          "memory": 1024,
          "timeout": 6,
          "runtime": "nodejs18.x",
          "vpc": {},
          "versionLogicalId": "GetMemoryLambdaVersionkYIdneML5V5faoCn7Ymh96ZRIQbD3ymhtXJ0RxXWZ4"
        },
        "updateMemory": {
          "handler": "src/memories/handlers/updateMemory.updateMemoryHandler",
          "events": [
            {
              "http": {
                "path": "memories/{userId}/{memoryId}",
                "method": "put",
                "cors": {
                  "origin": "*",
                  "methods": [
                    "OPTIONS",
                    "PUT"
                  ],
                  "headers": [
                    "Content-Type",
                    "X-Amz-Date",
                    "Authorization",
                    "X-Api-Key",
                    "X-Amz-Security-Token",
                    "X-Amz-User-Agent",
                    "X-Amzn-Trace-Id"
                  ],
                  "allowCredentials": "<REDACTED>"
                },
                "integration": "AWS_PROXY"
              }
            }
          ],
          "name": "nostalgio-backend-dev-updateMemory",
          "package": {
            "artifact": "/Users/andresgarcia/Desktop/ACM_Projects/Nostalgio/server/.serverless/updateMemory.zip"
          },
          "memory": 1024,
          "timeout": 6,
          "runtime": "nodejs18.x",
          "vpc": {},
          "versionLogicalId": "UpdateMemoryLambdaVersionRacKmRvFJEeFd7F21R8BHYK7dnDN2aN69iVOlSMRQc"
        },
        "deleteMemory": {
          "handler": "src/memories/handlers/deleteMemory.deleteMemoryHandler",
          "events": [
            {
              "http": {
                "path": "memories/{userId}/{memoryId}",
                "method": "delete",
                "cors": {
                  "origin": "*",
                  "methods": [
                    "OPTIONS",
                    "DELETE"
                  ],
                  "headers": [
                    "Content-Type",
                    "X-Amz-Date",
                    "Authorization",
                    "X-Api-Key",
                    "X-Amz-Security-Token",
                    "X-Amz-User-Agent",
                    "X-Amzn-Trace-Id"
                  ],
                  "allowCredentials": "<REDACTED>"
                },
                "integration": "AWS_PROXY"
              }
            }
          ],
          "name": "nostalgio-backend-dev-deleteMemory",
          "package": {
            "artifact": "/Users/andresgarcia/Desktop/ACM_Projects/Nostalgio/server/.serverless/deleteMemory.zip"
          },
          "memory": 1024,
          "timeout": 6,
          "runtime": "nodejs18.x",
          "vpc": {},
          "versionLogicalId": "DeleteMemoryLambdaVersion2UrMfz0smOQVM2fCOpE32ahiZHqi7YUJH4fx918oY"
        },
        "listMemories": {
          "handler": "src/memories/handlers/listMemories.listMemoriesHandler",
          "events": [
            {
              "http": {
                "path": "memories/{userId}",
                "method": "get",
                "cors": {
                  "origin": "*",
                  "methods": [
                    "OPTIONS",
                    "GET"
                  ],
                  "headers": [
                    "Content-Type",
                    "X-Amz-Date",
                    "Authorization",
                    "X-Api-Key",
                    "X-Amz-Security-Token",
                    "X-Amz-User-Agent",
                    "X-Amzn-Trace-Id"
                  ],
                  "allowCredentials": "<REDACTED>"
                },
                "integration": "AWS_PROXY"
              }
            }
          ],
          "name": "nostalgio-backend-dev-listMemories",
          "package": {
            "artifact": "/Users/andresgarcia/Desktop/ACM_Projects/Nostalgio/server/.serverless/listMemories.zip"
          },
          "memory": 1024,
          "timeout": 6,
          "runtime": "nodejs18.x",
          "vpc": {},
          "versionLogicalId": "ListMemoriesLambdaVersionZei8fgbvJAKnhQRvNCoUNHg2IEK3KW16rdfA0cMRM"
        },
        "streamMemoryUpdates": {
          "handler": "src/memories/handlers/streamMemoryUpdates.streamMemoryUpdatesHandler",
          "events": [
            {
              "stream": {
                "type": "dynamodb",
                "arn": {
                  "Fn::GetAtt": [
                    "MemoriesTable",
                    "StreamArn"
                  ]
                }
              }
            }
          ],
          "name": "nostalgio-backend-dev-streamMemoryUpdates",
          "package": {
            "artifact": "/Users/andresgarcia/Desktop/ACM_Projects/Nostalgio/server/.serverless/streamMemoryUpdates.zip"
          },
          "memory": 1024,
          "timeout": 6,
          "runtime": "nodejs18.x",
          "vpc": {},
          "versionLogicalId": "StreamMemoryUpdatesLambdaVersionlbDkfvE4o4xulVdClHlWRmN9YhSH98gMnYkP1Z57veE"
        },
        "getTopTracks": {
          "handler": "src/spotify/tracks/handlers/getTopTracks.getTopTracks",
          "events": [
            {
              "http": {
                "path": "spotify/tracks/top/{userId}",
                "method": "get",
                "cors": {
                  "origin": "*",
                  "methods": [
                    "OPTIONS",
                    "GET"
                  ],
                  "headers": [
                    "Content-Type",
                    "X-Amz-Date",
                    "Authorization",
                    "X-Api-Key",
                    "X-Amz-Security-Token",
                    "X-Amz-User-Agent",
                    "X-Amzn-Trace-Id"
                  ],
                  "allowCredentials": "<REDACTED>"
                },
                "integration": "AWS_PROXY"
              }
            }
          ],
          "name": "nostalgio-backend-dev-getTopTracks",
          "package": {
            "artifact": "/Users/andresgarcia/Desktop/ACM_Projects/Nostalgio/server/.serverless/getTopTracks.zip"
          },
          "memory": 1024,
          "timeout": 6,
          "runtime": "nodejs18.x",
          "vpc": {},
          "versionLogicalId": "GetTopTracksLambdaVersion72SznfM9ZnOREILfCYeAqxbsHEnx5fntkZUB3SZS84"
        }
      },
      "resources": {
        "Resources": {
          "AuthSessionData": {
            "Type": "AWS::DynamoDB::Table",
            "Properties": {
              "TableName": "AuthSessionData",
              "AttributeDefinitions": [
                {
                  "AttributeName": "UserId",
                  "AttributeType": "S"
                }
              ],
              "KeySchema": [
                {
                  "AttributeName": "UserId",
                  "KeyType": "HASH"
                }
              ],
              "BillingMode": "PAY_PER_REQUEST",
              "TimeToLiveSpecification": {
                "AttributeName": "ExpiresAt",
                "Enabled": true
              }
            }
          },
          "UsersTable": {
            "Type": "AWS::DynamoDB::Table",
            "Properties": {
              "TableName": "Users",
              "AttributeDefinitions": [
                {
                  "AttributeName": "UserId",
                  "AttributeType": "S"
                },
                {
                  "AttributeName": "SpotifyUserId",
                  "AttributeType": "S"
                }
              ],
              "KeySchema": [
                {
                  "AttributeName": "UserId",
                  "KeyType": "HASH"
                }
              ],
              "GlobalSecondaryIndexes": [
                {
                  "IndexName": "SpotifyUserIdIndex",
                  "KeySchema": [
                    {
                      "AttributeName": "SpotifyUserId",
                      "KeyType": "HASH"
                    }
                  ],
                  "Projection": {
                    "ProjectionType": "ALL"
                  }
                }
              ],
              "BillingMode": "PAY_PER_REQUEST",
              "StreamSpecification": {
                "StreamViewType": "NEW_AND_OLD_IMAGES"
              }
            }
          },
          "MemoriesTable": {
            "Type": "AWS::DynamoDB::Table",
            "Properties": {
              "TableName": "Memories",
              "AttributeDefinitions": [
                {
                  "AttributeName": "UserId",
                  "AttributeType": "S"
                },
                {
                  "AttributeName": "MemoryId",
                  "AttributeType": "S"
                }
              ],
              "KeySchema": [
                {
                  "AttributeName": "UserId",
                  "KeyType": "HASH"
                },
                {
                  "AttributeName": "MemoryId",
                  "KeyType": "RANGE"
                }
              ],
              "BillingMode": "PAY_PER_REQUEST",
              "StreamSpecification": {
                "StreamViewType": "NEW_AND_OLD_IMAGES"
              }
            }
          }
        },
        "Outputs": {}
      }
    },
    "serviceRawFile": "org: andresgrc\n# \"app\" enables Serverless Framework Dashboard features and sharing them with other Services.\napp: nostalgio-backend\nservice: nostalgio-backend\n\nprovider:\n  name: aws\n  runtime: nodejs18.x\n  region: us-east-1\n  environment:\n    COGNITO_USER_POOL_ID: ${env:COGNITO_USER_POOL_ID}\n    COGNITO_CLIENT_ID: ${env:COGNITO_CLIENT_ID}\n    COGNITO_REDIRECT_URI: ${env:COGNITO_REDIRECT_URI}\n    SPOTIFY_CLIENT_ID: ${env:SPOTIFY_CLIENT_ID}\n    SPOTIFY_CLIENT_SECRET: ${env:SPOTIFY_CLIENT_SECRET}\n    SPOTIFY_REDIRECT_URI: ${env:SPOTIFY_REDIRECT_URI}\n    USERS_TABLE: Users\n    MEMORIES_TABLE: Memories\n    AUTH_SESSION_TABLE: AuthSessionData\n\n  iamRoleStatements:\n    - Effect: Allow\n      Action:\n        - \"cognito-idp:AdminCreateUser\"\n        - \"cognito-idp:AdminUpdateUserAttributes\"\n        - \"cognito-idp:AdminInitiateAuth\"\n        - \"cognito-idp:AdminRespondToAuthChallenge\"\n        - \"cognito-idp:ListUsers\"\n        - \"cognito-idp:AdminGetUser\"\n        - \"cognito-idp:AdminDeleteUser\"\n      Resource: arn:aws:cognito-idp:${self:provider.region}:*:userpool/${env:COGNITO_USER_POOL_ID}\n\n    - Effect: Allow\n      Action:\n        - \"lambda:InvokeFunction\"\n      Resource: \"*\"\n\n    - Effect: Allow\n      Action:\n        - \"dynamodb:Query\"\n        - \"dynamodb:PutItem\"\n        - \"dynamodb:GetItem\"\n        - \"dynamodb:UpdateItem\"\n        - \"dynamodb:DeleteItem\"\n        - \"dynamodb:DescribeStream\"\n        - \"dynamodb:GetRecords\"\n        - \"dynamodb:GetShardIterator\"\n      Resource:\n        - !GetAtt UsersTable.Arn                # Full access to UsersTable\n        - !GetAtt UsersTable.StreamArn          # Stream access to UsersTable\n        - !GetAtt MemoriesTable.Arn             # Full access to MemoriesTable\n        - !GetAtt MemoriesTable.StreamArn       # Stream access to MemoriesTable\n        - !GetAtt AuthSessionData.Arn           # Full access to AuthSessionData\n        - arn:aws:dynamodb:${self:provider.region}:*:table/Users/index/SpotifyUserIdIndex\n\n    - Effect: Allow\n      Action:\n        - \"logs:CreateLogGroup\"\n        - \"logs:CreateLogStream\"\n        - \"logs:PutLogEvents\"\n      Resource: \"*\"\n\npackage:\n  individually: true\n\nplugins:\n  - serverless-offline\n  \nfunctions:\n  # Spotify Handlers\n  spotifyAuth:\n    handler: src/auth/spotify/spotifyAuthHandler.spotifyAuthHandler\n    events:\n      - http:\n          path: auth/login\n          method: get\n          cors: true\n\n  spotifyCallback:\n    handler: src/auth/spotify/spotifyCallbackHandler.spotifyCallbackHandler\n    events:\n      - http:\n          path: callback\n          method: get\n          cors: true\n\n  exchangeSpotifyToken:\n    handler: src/auth/spotify/spotifyTokenManager.exchangeSpotifyToken\n    events:\n      - http:\n          path: exchangeSpotifyToken\n          method: post\n          cors: true\n\n  refreshSpotifyToken:\n    handler: src/auth/spotify/spotifyTokenManager.refreshSpotifyToken\n    events:\n      - http:\n          path: refreshSpotifyToken\n          method: post\n          cors: true\n\n  validateSpotifyToken:\n    handler: src/auth/spotify/spotifyTokenManager.validateSpotifyToken\n    events:\n      - http:\n          path: validateSpotifyToken/{userId}\n          method: post\n          cors: true\n\n  # User Handlers\n  createUser:\n    handler: src/users/handlers/createUser.createUserHandler\n    events:\n      - http:\n          path: users\n          method: post\n          cors: true\n\n  getUser:\n    handler: src/users/handlers/getUser.getUserHandler\n    events:\n      - http:\n          path: users/{userId}\n          method: get\n          cors: true\n      - http:\n          path: users/spotify/{spotifyUserId}\n          method: get\n          cors: true\n\n  updateUser:\n    handler: src/users/handlers/updateUser.updateUserHandler\n    events:\n      - http:\n          path: users/{userId}\n          method: put\n          cors: true\n\n  deleteUser:\n    handler: src/users/handlers/deleteUser.deleteUserHandler\n    events:\n      - http:\n          path: users/{userId}\n          method: delete\n          cors: true\n\n  # Memory Handlers\n  createMemory:\n    handler: src/memories/handlers/createMemory.createMemoryHandler\n    events:\n      - http:\n          path: memories\n          method: post\n          cors: true\n\n  getMemory:\n    handler: src/memories/handlers/getMemory.getMemoryHandler\n    events:\n      - http:\n          path: memories/{userId}/{memoryId}\n          method: get\n          cors: true\n\n  updateMemory:\n    handler: src/memories/handlers/updateMemory.updateMemoryHandler\n    events:\n      - http:\n          path: memories/{userId}/{memoryId}\n          method: put\n          cors: true\n\n  deleteMemory:\n    handler: src/memories/handlers/deleteMemory.deleteMemoryHandler\n    events:\n      - http:\n          path: memories/{userId}/{memoryId}\n          method: delete\n          cors: true\n\n  listMemories:\n    handler: src/memories/handlers/listMemories.listMemoriesHandler\n    events:\n      - http:\n          path: memories/{userId}\n          method: get\n          cors: true\n\n  streamMemoryUpdates:\n    handler: src/memories/handlers/streamMemoryUpdates.streamMemoryUpdatesHandler\n    events:\n      - stream:\n          type: dynamodb\n          arn: !GetAtt MemoriesTable.StreamArn\n  \n  # Spotify Tracks Handlers\n  getTopTracks:\n    handler: src/spotify/tracks/handlers/getTopTracks.getTopTracks\n    events:\n      - http:\n          path: spotify/tracks/top/{userId}\n          method: get\n          cors: true\n          # authorizer:\n          #   name: NostalgioAuthorizer  # Ensure this matches your current authorizer\nresources:\n  Resources:\n    AuthSessionData:\n      Type: AWS::DynamoDB::Table\n      Properties:\n        TableName: AuthSessionData\n        AttributeDefinitions:\n          - AttributeName: UserId\n            AttributeType: S\n        KeySchema:\n          - AttributeName: UserId\n            KeyType: HASH\n        BillingMode: PAY_PER_REQUEST\n        TimeToLiveSpecification:\n          AttributeName: ExpiresAt\n          Enabled: true\n\n    UsersTable:\n      Type: AWS::DynamoDB::Table\n      Properties:\n        TableName: Users\n        AttributeDefinitions:\n          - AttributeName: UserId\n            AttributeType: S\n          - AttributeName: SpotifyUserId  # Define SpotifyUserId for GSI\n            AttributeType: S\n        KeySchema:\n          - AttributeName: UserId\n            KeyType: HASH\n        GlobalSecondaryIndexes:\n          - IndexName: SpotifyUserIdIndex\n            KeySchema:\n              - AttributeName: SpotifyUserId\n                KeyType: HASH\n            Projection:\n              ProjectionType: ALL\n        BillingMode: PAY_PER_REQUEST\n        StreamSpecification:\n          StreamViewType: NEW_AND_OLD_IMAGES  # Enable streams for UsersTable\n\n    MemoriesTable:\n      Type: AWS::DynamoDB::Table\n      Properties:\n        TableName: Memories\n        AttributeDefinitions:\n          - AttributeName: UserId\n            AttributeType: S\n          - AttributeName: MemoryId\n            AttributeType: S\n        KeySchema:\n          - AttributeName: UserId\n            KeyType: HASH\n          - AttributeName: MemoryId\n            KeyType: RANGE\n        BillingMode: PAY_PER_REQUEST\n        StreamSpecification:\n          StreamViewType: NEW_AND_OLD_IMAGES\n",
    "command": [
      "deploy"
    ],
    "options": {
      "aws-profile": "nostalgio"
    },
    "error": null,
    "params": {},
    "machineId": "da9c49599fd2aea872e88877a67d01db",
    "stage": "dev",
    "accessKeyV2": "<REDACTED>",
    "accessKeyV1": "<REDACTED>",
    "orgId": "73cf6885-c605-4023-ad42-d2d326d4cbf3",
    "orgName": "andresgrc",
    "userId": "MWDhB71wnF3G0XJfPC",
    "dashboard": {
      "isEnabledForService": true,
      "requiredAuthentication": false,
      "orgFeaturesInUse": {
        "providers": false,
        "monitoring": false
      },
      "orgObservabilityIntegrations": null,
      "serviceAppId": "spQMvs2cCDKRYgzLWc",
      "serviceProvider": null,
      "instanceParameters": null
    },
    "userName": "andresgrc",
    "subscription": null,
    "userEmail": "itsandresgarciasanchez@gmail.com",
    "serviceProviderAwsRegion": "us-east-1",
    "serviceProviderAwsCredentials": "<REDACTED>",
    "serviceProviderAwsAccountId": "061039789554",
    "projectType": "traditional",
    "versionSf": "4.4.3",
    "serviceProviderAwsCfStackName": "nostalgio-backend-dev",
    "integrations": {},
    "serviceUniqueId": "arn:aws:cloudformation:us-east-1:061039789554:stack/nostalgio-backend-dev/8c8cd650-7bb2-11ef-9953-126046cdc231",
    "serviceProviderAwsCfStackId": "arn:aws:cloudformation:us-east-1:061039789554:stack/nostalgio-backend-dev/8c8cd650-7bb2-11ef-9953-126046cdc231",
    "serviceProviderAwsCfStackCreated": "2024-09-26T02:53:46.597Z",
    "serviceProviderAwsCfStackUpdated": "2024-09-28T21:55:59.433Z",
    "serviceProviderAwsCfStackStatus": "UPDATE_COMPLETE",
    "serviceProviderAwsCfStackOutputs": [
      {
        "OutputKey": "GetMemoryLambdaFunctionQualifiedArn",
        "OutputValue": "arn:aws:lambda:us-east-1:061039789554:function:nostalgio-backend-dev-getMemory:79",
        "Description": "Current Lambda function version",
        "ExportName": "sls-nostalgio-backend-dev-GetMemoryLambdaFunctionQualifiedArn"
      },
      {
        "OutputKey": "DeleteUserLambdaFunctionQualifiedArn",
        "OutputValue": "arn:aws:lambda:us-east-1:061039789554:function:nostalgio-backend-dev-deleteUser:79",
        "Description": "Current Lambda function version",
        "ExportName": "sls-nostalgio-backend-dev-DeleteUserLambdaFunctionQualifiedArn"
      },
      {
        "OutputKey": "CreateMemoryLambdaFunctionQualifiedArn",
        "OutputValue": "arn:aws:lambda:us-east-1:061039789554:function:nostalgio-backend-dev-createMemory:79",
        "Description": "Current Lambda function version",
        "ExportName": "sls-nostalgio-backend-dev-CreateMemoryLambdaFunctionQualifiedArn"
      },
      {
        "OutputKey": "DeleteMemoryLambdaFunctionQualifiedArn",
        "OutputValue": "arn:aws:lambda:us-east-1:061039789554:function:nostalgio-backend-dev-deleteMemory:79",
        "Description": "Current Lambda function version",
        "ExportName": "sls-nostalgio-backend-dev-DeleteMemoryLambdaFunctionQualifiedArn"
      },
      {
        "OutputKey": "UpdateUserLambdaFunctionQualifiedArn",
        "OutputValue": "arn:aws:lambda:us-east-1:061039789554:function:nostalgio-backend-dev-updateUser:79",
        "Description": "Current Lambda function version",
        "ExportName": "sls-nostalgio-backend-dev-UpdateUserLambdaFunctionQualifiedArn"
      },
      {
        "OutputKey": "SpotifyCallbackLambdaFunctionQualifiedArn",
        "OutputValue": "arn:aws:lambda:us-east-1:061039789554:function:nostalgio-backend-dev-spotifyCallback:79",
        "Description": "Current Lambda function version",
        "ExportName": "sls-nostalgio-backend-dev-SpotifyCallbackLambdaFunctionQualifiedArn"
      },
      {
        "OutputKey": "ExchangeSpotifyTokenLambdaFunctionQualifiedArn",
        "OutputValue": "arn:aws:lambda:us-east-1:061039789554:function:nostalgio-backend-dev-exchangeSpotifyToken:79",
        "Description": "Current Lambda function version",
        "ExportName": "sls-nostalgio-backend-dev-ExchangeSpotifyTokenLambdaFunctionQualifiedArn"
      },
      {
        "OutputKey": "UpdateMemoryLambdaFunctionQualifiedArn",
        "OutputValue": "arn:aws:lambda:us-east-1:061039789554:function:nostalgio-backend-dev-updateMemory:79",
        "Description": "Current Lambda function version",
        "ExportName": "sls-nostalgio-backend-dev-UpdateMemoryLambdaFunctionQualifiedArn"
      },
      {
        "OutputKey": "GetUserLambdaFunctionQualifiedArn",
        "OutputValue": "arn:aws:lambda:us-east-1:061039789554:function:nostalgio-backend-dev-getUser:79",
        "Description": "Current Lambda function version",
        "ExportName": "sls-nostalgio-backend-dev-GetUserLambdaFunctionQualifiedArn"
      },
      {
        "OutputKey": "GetTopTracksLambdaFunctionQualifiedArn",
        "OutputValue": "arn:aws:lambda:us-east-1:061039789554:function:nostalgio-backend-dev-getTopTracks:4",
        "Description": "Current Lambda function version",
        "ExportName": "sls-nostalgio-backend-dev-GetTopTracksLambdaFunctionQualifiedArn"
      },
      {
        "OutputKey": "ListMemoriesLambdaFunctionQualifiedArn",
        "OutputValue": "arn:aws:lambda:us-east-1:061039789554:function:nostalgio-backend-dev-listMemories:34",
        "Description": "Current Lambda function version",
        "ExportName": "sls-nostalgio-backend-dev-ListMemoriesLambdaFunctionQualifiedArn"
      },
      {
        "OutputKey": "ServerlessDeploymentBucketName",
        "OutputValue": "serverless-framework-deployments-us-east-1-55cebd6e-28d6",
        "ExportName": "sls-nostalgio-backend-dev-ServerlessDeploymentBucketName"
      },
      {
        "OutputKey": "RefreshSpotifyTokenLambdaFunctionQualifiedArn",
        "OutputValue": "arn:aws:lambda:us-east-1:061039789554:function:nostalgio-backend-dev-refreshSpotifyToken:53",
        "Description": "Current Lambda function version",
        "ExportName": "sls-nostalgio-backend-dev-RefreshSpotifyTokenLambdaFunctionQualifiedArn"
      },
      {
        "OutputKey": "SpotifyAuthLambdaFunctionQualifiedArn",
        "OutputValue": "arn:aws:lambda:us-east-1:061039789554:function:nostalgio-backend-dev-spotifyAuth:79",
        "Description": "Current Lambda function version",
        "ExportName": "sls-nostalgio-backend-dev-SpotifyAuthLambdaFunctionQualifiedArn"
      },
      {
        "OutputKey": "StreamMemoryUpdatesLambdaFunctionQualifiedArn",
        "OutputValue": "arn:aws:lambda:us-east-1:061039789554:function:nostalgio-backend-dev-streamMemoryUpdates:79",
        "Description": "Current Lambda function version",
        "ExportName": "sls-nostalgio-backend-dev-StreamMemoryUpdatesLambdaFunctionQualifiedArn"
      },
      {
        "OutputKey": "CreateUserLambdaFunctionQualifiedArn",
        "OutputValue": "arn:aws:lambda:us-east-1:061039789554:function:nostalgio-backend-dev-createUser:79",
        "Description": "Current Lambda function version",
        "ExportName": "sls-nostalgio-backend-dev-CreateUserLambdaFunctionQualifiedArn"
      },
      {
        "OutputKey": "ValidateSpotifyTokenLambdaFunctionQualifiedArn",
        "OutputValue": "arn:aws:lambda:us-east-1:061039789554:function:nostalgio-backend-dev-validateSpotifyToken:55",
        "Description": "Current Lambda function version",
        "ExportName": "sls-nostalgio-backend-dev-ValidateSpotifyTokenLambdaFunctionQualifiedArn"
      },
      {
        "OutputKey": "ServiceEndpoint",
        "OutputValue": "https://iummb9cgo1.execute-api.us-east-1.amazonaws.com/dev",
        "Description": "URL of the service endpoint",
        "ExportName": "sls-nostalgio-backend-dev-ServiceEndpoint"
      }
    ]
  }
}